{"version":3,"sources":["../../contracts/src/config.js","../../contracts/src/addresses.js","../../contracts/src/index.js","helpers/CryptoHelper.js","config/Themization.js","primaries/SharedStyling.js","serviceWorker.js","hooks/useDeviceWidthCheck.ts","connectors.ts","primaries/BlockiesIdenticon.js","primaries/Profile.tsx","primaries/Bell.js","config/Globals.js","components/NavigationButton.js","contexts/NavigationContext.tsx","sections/Header.tsx","config/NavigationList.js","redux/slices/userJourneySlice.js","redux/slices/sendNotificationSlice.js","sections/Navigation.tsx","primaries/NotificationToast.js","primaries/DisplayNotice.js","assets/Device.js","components/MetaInfoDisplayer.js","config/channelTuts.js","segments/ChannelTutorial.js","helpers/EPNSCoreHelper.js","singletons/ChannelsDataStore.js","redux/slices/channelSlice.js","components/ViewChannelItem.js","components/Faucets.js","segments/ViewChannels.tsx","components/SearchFilter.jsx","redux/slices/notificationSlice.js","segments/Feedbox.tsx","pages/InboxPage.js","redux/slices/spamSlice.js","segments/spam.tsx","segments/Spambox.tsx","pages/SpamPage.js","components/AliasVerificationModal.js","components/ViewInfoItem.js","segments/Info.tsx","components/AddDelegateModal.js","components/RemoveDelegateModal.js","components/ActivateChannelModal.js","components/AddSubGraphIdModal.js","redux/slices/adminSlice.js","components/ChannelSettingsDropdown.tsx","components/ChannelSettings.jsx","components/DelegateInfo.js","components/ShowDelegates.jsx","components/ChannelDetails.js","redux/slices/channelCreationSlice.js","components/AliasSetup.js","components/ChangeNetwork.tsx","components/VerifyAlias.js","components/AliasProcessing.js","primaries/LoaderSpinner.tsx","components/ChannelLoading.tsx","segments/ChannelOwnerDashboard.tsx","singletons/UsersDataStore.js","redux/slices/contractSlice.js","pages/ViewChannelsPage.js","pages/ChannelDashboardPage.js","assets/icons/index.js","components/PreviewNotif.js","components/SendNotifications.tsx","pages/SendNotifs.tsx","pages/ReceiveNotifsPage.js","primaries/InfoTooltip.js","helpers/GaslessHelper.js","helpers/WithGasHelper.js","components/ViewDelegateeItem.js","pages/GovernancePage.tsx","singletons/YieldFarmingDataStore.js","components/PoolCard.js","pages/YieldFarmingPage.js","helpers/NFTHelper.js","components/ViewNFTItem.js","components/MyNFTs.js","components/ViewNFTsV2Item.js","components/MyNFTsV2.js","components/AllNFTs.js","components/AllNFTsV2.js","components/TransferNFT.js","components/TransferNFTv2.js","pages/NFTPage.js","pages/AirdropPage.tsx","pages/ComingSoonPage.tsx","pages/NotAvailablePage.tsx","pages/TutorialPage.tsx","pages/FAQPage.tsx","pages/SupportPage.jsx","pages/MasterInterfacePage.tsx","segments/userJourneySteps.tsx","components/InitState.tsx","App.tsx","hooks/useEagerConnect.ts","hooks/useInactiveListener.ts","hooks/useBrowserNotification.ts","redux/store.js","index.js","hooks/useToast.tsx","helpers/IpfsHelper.ts","api/index.js","helpers/CaipHelper.ts","firebase.js","helpers/UtilityHelper.ts","primaries/blockies.js","components/CreateChannel.js","components/StakingInfo.tsx","components/ChannelInfo.tsx","components/ProcessingInfo.js","helpers/AirdropHelper.js","primaries/ImageClipper.js","assets/Image.svg","components/UploadLogo.jsx"],"names":["config","apiUrl","env","toolingApiUrl","allowedNetworks","coreContractChain","mainnetCoreContractChain","coreRPC","mainnetCoreRPC","googleAnalyticsId","vapidKey","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","addresses","ceaErc20","epnscore","epnsEthComm","epnsPolyComm","dai","aDai","staking","yieldFarmPUSH","yieldFarmLP","epnsToken","epnsLPToken","rockstar","batchMintNFT","NFTRewards","distributor","uniswapV2Router02","WETHAddress","USDTAddress","rockstarV2","NFTRewardsV2","abis","erc20","erc20Abi","ownable","ownableAbi","epnscoreAbi","epnsCommAbi","epnsComm","daiAbi","epnsTokenAbi","stakingAbi","yieldFarming","yieldFarmingAbi","rockstarAbi","erc721","ec721Abi","MerkleDistributorAbi","UniswapV2Router02Abi","rockstarV2Abi","CryptoJS","require","CryptoHelper","encryptWithAES","message","key","AES","encrypt","toString","decryptWithAES","decrypt","enc","Utf8","encryptWithRPCEncryptionPublicKey","text","encryptionPublicKey","encryptedSecret","metamaskSigUtil","publicKey","data","version","Buffer","from","JSON","stringify","decryptWithWalletRPCMethod","provider","encryptedMessage","account","request","method","params","result","encryptWithECIES","compressedKey","EthCrypto","compress","this","encryptWithPublicKey","decryptWithECIES","privateKey","decryptWithPrivateKey","pubKeyUint8Array","Uint8Array","convertedKeyAsUint8Array","publicKeyConvert","convertedPublicKeyHex","pubKey","then","encryptedBuffers","cipher","iv","ephemPublicKey","ciphertext","mac","input","keyConvert","concat","buf","encrypted","length","keyConvertBuffer","uncompressedKey","twoStripped","substring","encryptedBuffer","decryptedBuffer","encryptionDecryptionPublicToPrivateTest","startTime","Date","console","log","publicKeyByPrivateKey","msg","encryptionTime","getTime","decryptMsg","decryptionTime","outputMsgPayload","secret","subject","calltoaction","imageurl","pkey","secretEncrypted","asubE","amsgE","actaE","aimgE","makeid","toISOString","characters","charactersLength","i","charAt","Math","floor","random","module","exports","themeLight","scheme","sectionBorderBg","headerBg","headerTagBg","headerTagFg","headerIconsBg","navMenuBg","leftBarLoaderBg","leftBarBg","leftBarButtonBg","leftBarHoverColor","leftBarFontColor","leftBarSocialBg","leftBarSocialIconBg","interfaceTopPadding","interfaceBorder","interfaceSkeleton","backgroundBG","backgroundBGLucid","mainBg","fontColor","fontColorSecondary","scrollBg","borderBg","viewChannelSearchBg","viewChannelSearchBorder","viewChannelSearchText","viewChannelSearchIcon","faucetBg","faucetBorder","faucetIcon","faucetHeader","viewChannelOuterBorder","viewChannelLink","viewChannelVerifiedBadge","viewChannelIconBorder","viewChannelSecondaryBG","viewChannelSecondaryIcon","viewChannelTutsTitleBg","viewChannelTutsButtonBg","dynamicTutsBg","dynamicTutsBgOverlay","dynamicTutsFontColor","dynamicTutsButtonBg","dynamicTutsButtonColor","dynamicTutsPrimaryColor","qnaBg","qnaBgBorder","yieldBg","pushPriceBg","greyText","color","channelBg","button","buttonColor","createColor","toastTextColor","toastBorderColor","themeDark","questionBg","buttonBd","Section","styled","section","props","align","direction","theme","gradient","margin","padding","overflow","Content","div","ItemBreak","Item","wrap","position","bg","flex","flexBasis","self","justify","minWidth","maxWidth","size","textAlign","filter","top","bottom","left","right","width","height","border","radius","zIndex","filterHover","hover","tabletAlign","tabletTextAlign","ItemH","H2","transform","arcRGB","css","h1","h2","weight","textTransform","spacing","family","H3","h3","Image","img","P","p","Para","Span","span","bRadius","pos","z","B","UL","ul","LI","li","Anchor","a","hoverBG","AnchorLink","RouterLink","Link","A","C","Button","FormSubmision","opacity","tabletRight","tabletLeft","tabletTop","tabletBottom","tabletTransform","tabletOpacity","form","Input","display","outline","visibility","maxllength","cursor","hand","focusBorder","TextField","textarea","Boolean","window","location","hostname","match","useDeviceWidthCheck","deviceWidth","useState","innerWidth","setWidth","handleWindowSizeChange","useEffect","addEventListener","removeEventListener","SUPPORTED_CHAIN_IDS","envConfig","CORE_CHAIN_ID","CORE_RPC","RPC_URLS","injected","InjectedConnector","supportedChainIds","ledgerLiveConnector","LedgerHQFrameConnector","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","pollingInterval","ledger","LedgerConnector","chainId","url","portis","TrezorConnector","manifestEmail","manifestAppUrl","PortisConnector","dAppId","networks","BlockiesIdenticon","seed","opts","bgcolor","scale","spotcolor","draw","prevProps","blockies","render","canvas","React","createElement","ref","Component","Container","Blocky","BlockyInner","Wallet","Profile","useWeb3React","error","library","address","setAddress","ens","setENS","ensFetched","setENSFetched","lookupAddress","name","catch","toLowerCase","tadaaa","keyframes","BellImage","ringme","BellImageAbs","Badge","Bell","badgeCount","bellPressedCB","badge","setBadge","ring","setRing","setResetRinger","setTimeout","onClick","src","className","animationIn","animationOut","durationOut","LINKS","IOS_APP","ANDROID_APP","STORAGE","CONSTANTS","HEADER_HEIGHT","LEFT_BAR_WIDTH","NAVBAR_SECTIONS","PRIMARY","SECONDARY","MOBILE","NAVBAR_IDENTIFIERS","CREATE_CHANNEL","COMMUNICATE_TAB","DEVELOPER_TAB","ADJUSTMENTS","COLORS","GRADIENT_PRIMARY","GRADIENT_SECONDARY","GRADIENT_THIRD","TRANSPARENT","WHITE","DARK_WHITE","MID_WHITE","LIGHT_WHITE","SLIGHTER_GRAY","SLIGHT_GRAY","LIGHT_GRAY","MID_GRAY","DARK_GRAY","DARKER_GRAY","LIGHT_BLACK_TRANS","SEMI_MID_BLACK_TRANS","MID_BLACK_TRANS","DARK_BLACK_TRANS","BLACK","CONFIRM_GREEN","CONFIRM","WARNING","SUBLIME_RED","BADGE_RED","LIGHT_MAROON","LIGHTER_MAROON","InheritedSectionGroupIcon","active","InheritedSectionItemIcon","LeftBarPrimarySectionIcon","LeftBarPrimaryItemIcon","LeftBarSecondarySectionIcon","LeftBarSecondaryItemIcon","NavigationButton","SelectedIcon","RouteLogic","definedMargin","item","sectionID","useTheme","GLOBALS","isSection","isRoute","style","title","to","href","alt","target","newTab","disabled","hasItems","opened","NavigationContext","createContext","navigationSetup","setNavigationSetup","value","NavigationContextProvider","Provider","children","Logo","RightBarContainer","RightBarDesktop","RightBarMobile","NavMenuContainer","NavMenu","NavMenuInner","Notice","PrimaryTheme","ThirdTheme","Connection","phase","HeaderTag","Header","isDarkMode","darkModeToggle","context","useContext","deactivate","showLoginControls","setShowLoginControls","showNavBar","setShowNavBar","headerTag","setHeaderTag","useLocation","updateHeaderTag","Object","entries","navigation","forEach","pathname","includes","ethereum","networkVersion","hexlify","keys","map","dark","light","fg","checked","onChange","sunColor","NoEthereumProviderError","UnsupportedChainIdError","handleChangeNetwork","UserRejectedRequestErrorInjected","getErrorMessage","NavigationList","primary","communicate","uid","iconFactory","hasMenuLogic","drilldown","inbox","spam","channels","receiveNotifs","developer","createChannel","sendNotifs","SEND_NOTIFS","developerGuide","DEVELOPER_GUIDE","dynamicEnviroment","govern","governance","GOVERNANCE","governanceGuide","GOVERNANCE_GUIDE","incentives","yield","rockstars","airdrop","walkthrough","livewalkthrough","faq","quickGuide","secondary","latest","id","isMenuLogic","support","userJourneySlice","createSlice","initialState","run","stepIndex","welcomeNotifs","tutorialContinous","isCommunicateOpen","isDeveloperOpen","reducers","incrementStepIndex","state","decrementStepIndex","setRun","action","payload","setIndex","addNewWelcomeNotif","setWelcomeNotifsEmpty","setTutorialContinous","setCommunicateOpen","setDeveloperOpen","actions","SEND_NOTIFICATION_STATES","canSend","contractSlice","setCanSend","headerHeight","Primary","InheritedSection","PrimarySection","InheritedSectionGroup","InheritedSectionItem","SectionInnerGroupContainer","margintop","SectionInnerItemContainer","PrimarySectionGroup","PrimarySectionItem","Footer","Secondary","SecondarySection","Navigation","useSelector","admin","channelDetails","delegatees","aliasDetails","aliasAddr","aliasEthAddr","isAliasVerified","refresh","setRefresh","userJourney","dispatch","useDispatch","primaryList","returnTransformedList","navigationList","secondaryList","navList","returnNavList","assign","lists","identity","transformedList","count","identifier","parent","hasOwnProperty","drillcount","drilldownModified","drillkey","drillvalue","drillIdentifier","topSection","mutateTransformedList","onlyDrilldown","transformedMenuList","activeParentId","activeDrilldownId","selectedSectionIsActionable","sectionkey","renderMainItems","items","fontSize","secondaryButton","index","renderChildItems","SectionGroup","SectionItem","rendered","onMouseOver","onMouseOut","NotificationWrapper","Toaster","NotificationToast","notification","clearToast","LoaderToast","notificationTitle","notificationBody","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","DisplayNotice","Device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","desktopL","MetaContainer","MetaContent","bgColor","IconContainer","MetaInfoDisplay","externalIcon","internalIcon","onMouseEnter","onMouseLeave","channelsTuts","maintainer","userjourneyyoutube","userjourneyshort","article","coindesk","snapshot","makerdao","cvi","bancor","oasisapp","mover","poh","kyber","fabwelt","banklessfr","angle","mstable","aragon","cryptomanga","dydx","idle","tracerdao","armor","pods","ooki","pushgov","symphony","ethtracker","ethpricetracker","btctracker","aave","gro","flipside","thedefiant","TutsInner","ChannelTutorial","addr","loadTeaser","playTeaser","themes","showTuts","setShowTuts","channelTuts","getChannelTutItem","srcSet","open","MetaInfoDisplayer","EPNSCoreHelper","getGasPriceInDollars","axios","get","USD","ethPrice","getGasPrice","gasPriceInWei","gasPriceInEth","ethers","utils","formatEther","gasPriceInUsd","getOwnerInfo","contract","Promise","resolve","reject","response","err","getVotingPower","delegateeAddress","rawFormat","isAddress","endsWith","decimals","getCurrentVotes","votes","Number","pow","votingPower","prettyVotingPower","getUserInfo","user","users","mappings","getChannelAddressFromID","channelID","channelById","getChannelInfo","channel","getChannelEvent","startBlock","updateBlock","filters","AddChannel","block","UpdateChannel","queryFilter","filteredResponse","args","toUtf8String","getJsonFileFromIdentity","ids","split","IPFSGateway","fetch","json","getAliasAddressFromChannelAddress","channelAddressInCaip","convertAddressToAddrCaip","getReq","aliasAddress","getChannelJsonFromChannelAddress","channelStartBlock","toNumber","channelUpdateBlock","hash","getChannelJsonFromUserAddress","getTotalNumberOfChannels","channelsCount","getChannelsMetaLatestToOldest","atIndex","numChannels","channelsInfo","channelArrays","assignedChannelID","push","promises","all","getTotalNumberOfUsers","usersCount","getPublicKey","getSubscribedStatus","isUserSubscribed","getTotalSubscribedChannels","subscribedCount","getFairShareOfUserAtBlock","userActivated","calcAllChannelsRatio","getPoolFunds","poolFunds","formatBigNumberToMetric","bignumber","convertToCurrency","metricFormatter","e","num","digits","si","symbol","toFixed","replace","ChannelEvents","ChannelsDataStore","channelsMeta","channelsJson","subscribers","subscribersCount","callbacks","epnsReadProvider","epnsCommReadProvider","onCoreNetwork","init","resetChannelsListeners","initChannelsListenersAsync","getChannelsCountAsync","removeAllListeners","listenForAddChannelAnyAsync","listenForAddChannelSelfAsync","listenForUpdateChannelAnyAsync","listenForUpdateChannelSelfAsync","listenForSubscribeAnyAsync","listenForSubscribeSelfAsync","listenForUnsubscribeAnyAsync","listenForUnsubscribeSelfAsync","on","ipfs","incrementChannelsCountAsync","callback","Subscribe","Unsubscribe","addCallbacks","callbackType","callbackID","removeCallbacks","incrementCount","getChannelFromApi","startIndex","pageCount","postReq","page","ceil","pageSize","query","op","alias_address","memberCount","isSubscriber","getEthAddressFromAlias","ethAddress","getChannelDetailsFromAddress","output","is_alias_verified","getChannelsMetaAsync","stopIndex","channelIDs","getChannelMetaAsync","channelMetaData","channelAddress","getChannelMetaViaAddressAsync","getChannelSubscribers","cachedSubscribers","blockchain","subs","getChannelSubscribersCount","cachedSubscribersCount","getChannelJsonAsync","getChannelJson","instance","channelSlice","CHANNNEL_DEACTIVATED_STATE","CHANNEL_BLOCKED_STATE","CHANNEL_ACTIVE_STATE","CHANNEL_BLACKLIST","channelsCache","setChannelMeta","incrementPage","cacheChannelInfo","meta","cacheSubscribe","channelIndex","findIndex","channelInfo","cacheUnsubscribe","FlexBox","SkeletonWrapper","atW","atH","borderRadius","marginBottom","marginRight","ChannelLogo","ChannelLogoOuter","ChannelLogoInner","ChannelLogoImg","ChannelInfo","ChannelTitle","ChannelTitleLink","VerifiedBy","VerifierIcon","VerifierName","ChannelDesc","ChannelDescLabel","label","ChannelMeta","ChannelMetaBox","Subscribers","LineBreak","ChannelActions","ChannelActionButton","ActionTitle","hideit","ActionLoader","SkeletonButton","SubscribeButton","UnsubscribeButton","OwnerButton","ToasterMsg","ViewChannelItem","isOwner","channelObjectProp","contracts","epnsWriteProvider","pushAdminAddress","ZERO_ADDRESS","canVerify","channelObject","setChannelObject","channelJson","setChannelJson","subscribed","setSubscribed","loading","setLoading","setMemberCount","isPushAdmin","setIsPushAdmin","isVerified","setIsVerified","isBlocked","setIsBlocked","vLoading","setvLoading","bLoading","setBLoading","txInProgress","setTxInProgress","canUnverify","setCanUnverify","verifierDetails","setVerifierDetails","copyText","setCopyText","isChannelBlacklisted","showToast","verifiedBy","fetchChannelJson","alert","channelState","EPNS_DOMAIN","verifyingContract","addressText","subscribe","subscribeAction","notificationToast","toaster","subscribeToast","useToast","type","subscriber","getSigner","_signTypedData","updateToast","cta","info","icon","sid","app","image","_signer","EpnsAPI","signer","userAddress","onSuccess","onError","unsubscribeToast","unsubscribeAction","unsubscribe","rel","slice","navigator","clipboard","writeText","el","document","body","appendChild","select","execCommand","removeChild","copyToClipboard","keyFound","isChannelTutorialized","blockChannel","tx","update","TYPE","INFO","ERROR","finally","verifyChannel","unverifyChannel","wait","Faucets","faucetInfo","network","ADDRESS_REGEX","SearchBar","ContainerInfo","ViewChannelItems","CenteredContainerInfo","CenterContainer","ScrollItem","SearchContainer","ViewChannels","moreLoading","setMoreLoading","search","setSearch","channelToShow","setChannelToShow","loadingChannel","setLoadingChannel","trialCount","setTrialCount","channelsVisited","fetchInitialsChannelMeta","updateCurrentPage","loadMoreChannelMeta","newPageNumber","startingPoint","moreChannels","searchForChannel","payloadToSearchApiObj","t","timeout","clearTimeout","parsedChannel","test","placeholder","UtilityHelper","isMainnet","showWayPoint","onEnter","SearchFilter","startDate","setStartDate","endDate","setEndDate","applySearch","selectedOption","each","filterNotifications","options","notifications","uniqueOptions","Map","values","showFilter","setShowFilter","setSelectedOption","reset","TopBar","mbtm","Left","marginTop","marginLeft","loadFilter","FilterShow","fontWeight","Arrow","ToggleArrowImg","Buttons","ButtonFeed","SearchOptions","SectionSearch","mright","mtop","SelectChannel","SMultiSelect","valueRenderer","labelledBy","InputWrapper","mleft","RangeSection","TimeLabelDiv","SDateTimePicker","mttop","DateTimePicker","MultiSelect","Filter","Border","finishedFetching","toggler","toggleToggler","resetState","addPaginatedNotifications","addNewNotification","setFinishedFetching","updateTopNotifications","pp","notifs","sn","Notifs","Feedbox","toggle","limit","setLimit","allNotf","setNotif","filteredNotifications","setFilteredNotifications","setFilter","setLoadFilter","bgUpdateLoading","setBgUpdateLoading","NormalToast","date","lowDate","highDate","filterNotif","notif","timestamp","matches","epoch","loadNotifications","getFeeds","raw","results","parsedResponse","parseApiResponse","fetchLatestNotifications","map1","map2","set","sender","fetchAllNotif","handlePagination","onDecrypt","decryptedSecret","decryptedBody","decryptedTitle","decryptedImage","decryptedCta","code","oneNotification","chainName","isSecret","decryptFn","InboxPage","ReactGA","pageview","Items","SpamBox","allNotif","nameToIdDev","nameToIdProd","parsedResponsePromise","elem","res","isSubscribedFn","fetchAliasAddress","userAddressInCaip","aliasAccount","ethAlias","fetchEthAddress","ethAccount","aliasEth","onSubscribeToChannel","nameToObj","signature","contractAddress","subscribeFn","isSpam","FullWidth","Spambox","currentTab","Interface","AliasVerificationModal","onClose","verificationStatus","aliasEthAccount","modalRef","useRef","Contract","useClickAway","AppLink","AppLinkText","ViewInfoItem","process","dotenv","InfoBox","Info","AddDelegateModal","addDelegate","mainAdress","setMainAddress","background","required","StyledInput","CustomInput","Overlay","AliasModal","RemoveDelegateModal","removeDelegate","ActivateChannelModal","activateChannel","setChannelStakeFees","channelStakeFees","popupRef","PopupOverlay","PopupSlider","Slider","defaultValue","onChangeCommitted","_","aria-labelledby","valueLabelDisplay","step","marks","min","max","AddSubGraphIdModal","addSubGraphDetails","subGraphId","setSubGraphId","pollTime","setPollTime","addSubGraphDetailsSubmit","identityBytes","toUtf8Bytes","coreChannelAdmin","aliasAddrFromContract","setUserChannelDetails","setCoreChannelAdmin","setCanVerify","setDelegatees","setAliasAddress","setAliasAddressFromContract","setAliasEthAddress","setAliasVerified","ALLOWED_CORE_NETWORK","DropdownWrapper","ActiveChannelWrapper","inactive","isChannelDeactivated","ChannelSettings","epnsCommWriteProvider","showActivateChannelPopup","setShowActivateChannelPopup","poolContrib","setPoolContrib","addDelegateLoading","setAddDelegateLoading","addModalOpen","setAddModalOpen","addSubGraphIdOpen","setAddSubGraphIdOpen","addSubgraphDetailsLoading","setAddSubgraphDetailsLoading","removeDelegateLoading","setRemoveDelegateLoading","removeModalOpen","setRemoveModalOpen","isChannelBlocked","channelInactive","poolContribution","daiContract","fees","parseUnits","sendTransactionPromise","approve","waitForTransaction","reactivateChannel","deactivateChannel","amountToBeConverted","parseInt","pushValue","quote","PUSH","price","walletAddress","justifyContent","val","addSubGraph","setActive","SettingsWrapper","Settings","ChannelSettingsDropdown","AiOutlineEllipsis","WalletInfoContent","isCopied","setIsCopied","delegateAddress","isMobile","flexDirection","paddingTop","ItemHere","WalletAddressDisplay","HoverWallet","DelegateInfo","isDelegate","setAddressText","clippedAddrs","delegate","RemoveButton","removeDelegateModalOpen","isHovered","setIsHovered","RemoveButtonUI","alignItems","DelegatesInfoHeader","DelegatesInfoLabel","ShowDelegates","isActiveDelegateDropdown","delegateToBeRemoved","setDelegateToBeRemoved","fetchDelegatees","channelAddressinCAIP","delegates","delegateeList","unshift","idx","borderTop","ChannelDetails","processingState","channelCreation","verifyingChannel","setVerifyingChannel","creationDate","setCreationDate","channelIsActive","channelIsDeactivated","bn","providers","JsonRpcProvider","getBlock","moment","format","ChannelDetailsWrapper","SectionTop","ImageSection","Details","ChannelName","VerifyImage","ChannelStatusContainer","AliasStateText","ChanneStateText","SectionDes","SectionDate","Verified","VerifyingIcon","VerifyingName","StateText","SubscribersCount","channelCreationSlice","setProcessingState","AliasSetup","TextPink","b","ChangeNetwork","changeNetworkToast","switchToPolygonNetwork","polygonChainId","aliasChainIdsMapping","hexValue","networkName","PolygonNetworks","MUMBAI_TESTNET","POLYGON_MAINNET","line","VerifyAlias","polygonCommsContract","success","setSuccess","mainAddress","checkAlias","submitAlias","checkAliasVerification","aliasVerified","verifyChannelAlias","intervalId","setInterval","clearInterval","Step","Line","Tab","AliasProcessing","override","LoaderSpinner","ChannelLoadingContainer","SkeletonContainerOuter","SkeletonContainerUpperRow","SkeletonContainerUpperCol","LoaderContainer","LoaderText","ChannelLoading","variant","sx","intervalID","ModifiedContent","ChannelOwnerDashboard","isChannelDetails","getAliasFromChannelDetails","fetchChannelDetails","ALIAS_API_CALL_INTERVAL","CreateChannel","UsersDataStore","userMeta","ownerMeta","resetUsersListeners","initUsersListenersAsync","getOwnerMetaAsync","getUsersCountAsync","getUserMetaAsync","listenForSubscribedAsync","listenForUnsubscribedAsync","publicKeyRegistered","listenForPublicKeyBroadcastAsync","incrementUsersCountAsync","setCoreReadProvider","setCoreWriteProvider","setCommunicatorReadProvider","setCommunicatorWriteProvider","setPushAdmin","controlAt","modalOpen","setModalOpen","adminStatusLoaded","ChannelDashboardPage","CloseIcon","xmlns","viewBox","data-name","x2","fill","stroke","stroke-linecap","stroke-width","y2","blockchainName","1","137","42","80001","PreviewNotif","channelDetail","details","delegateeInfo","NotifItem","asub","amsg","acta","aimg","PreviewSpace","IOSSwitch","Switch","attrs","classes","root","switchBase","thumb","track","focusVisible","disableRipple","focusVisibleClassName","NFTypes","LIMITER_KEYS","FullBody","DropdownStyledParent","MultiRecipientsContainer","Label","DropdownStyled","Dropdown","CustomDropdownItem","Body","SendNotifications","nfProcessing","setNFProcessing","setChannelAddress","nfRecipient","setNFRecipient","multipleRecipients","setMultipleRecipients","tempRecipeint","setTempRecipient","nfType","setNFType","nfSub","setNFSub","nfSubEnabled","setNFSubEnabled","nfMsg","setNFMsg","nfCTA","setNFCTA","nfCTAEnabled","setNFCTAEnabled","nfMedia","setNFMedia","nfMediaEnabled","setNFMediaEnabled","nfInfo","setNFInfo","delegateeOptions","setDelegateeOptions","origin","cannotDisplayDelegatees","oneDelegatee","bodyValidated","validated","handleSendMessage","preventDefault","isEmpty","notifRecipients","recipient","sendNotification","identityType","recipients","SUCCESS","field","trim","showPreview","onSubmit","option","maxlength","oneRecipient","recipientAddress","filteredRecipients","rec","join","removeRecipient","onKeyPress","oldRecipients","Array","Set","listRecipients","rows","autocomplete","ChannelLoadingMessage","channelAdmin","ReceiveNotifsPage","InfoTooltip","Infocolor","Tooltip","ERROR_TOAST_DEFAULTS","checkForDelegateError","gasEstimate","gasPrice","createTransactionObject","newDelegatee","signerObject","setTxLoading","contractName","nonces","nonce","now","secondsSinceEpoch","round","expiry","domain","types","Delegation","splitSignature","r","s","v","estimateGas","delegateBySig","errorMessage","callDelegateAPI","delegatee","toolingPostReq","delegator","executeDelegateTx","txToast","SelectTag","DelegateeItem","DelegateeImageOuter","DelegateeImageInner","DelegateeProfile","DelegateeWallet","ViewDelegateeItem","delegateeObject","pushBalance","setGaslessInfo","txLoading","setIsBalance","transactionMode","setTransactionMode","Web3","HttpProvider","web3","eth","delegateAction","getAddress","wallet","pic","toLocaleString","forum","delegateesJSON","RadioGroup","Question","Answer","QnAItem","AMod","StatsCard","StatsHeading","NomineeContainer","StatsContent","AbsoluteWrapper","StatsPreview","StatsInnerTitle","ButtonAlt","CurvedSpan","GovernancePage","dashboardLoading","setDashboardLoading","delegateesLoading","setDelegateesLoading","setDelegateesObject","pushDelegatees","setPushDelegatees","pushNominees","setPushNominees","setEpnsToken","tokenBalance","setTokenBalance","prettyTokenBalance","setPrettyTokenBalance","showDelegateePrompt","setShowDelegateePrompt","setDelegatee","showAnswers","setShowAnswers","selfVotingPower","setSelfVotingPower","newDelegateeAddress","setNewDelegateeAddress","newDelegateeVotingPower","setNewDelegateeVotingPower","setSignerObject","gaslessInfo","toggleShowAnswer","newShowAnswers","epnsTokenContract","getMyInfo","delegateesList","votingPowerSorter","allDelegateesPromise","oneDelegate","allDelegatees","delegateesAbove75k","votingPowerSimulate","sortedDelegatees","sort","delegateesBelow75k","sortedNominees","isValidAddress","balanceOf","bal","newBal","toLocaleDateString","onePushNominee","ONE_PUSH","BigNumber","mul","tokenToBn","token","tokenBNtoNumber","tokenBn","YieldFarmingDataStore","yieldFarmingPUSH","yieldFarmingLP","rewardForCurrentEpochPush","rewardForCurrentEpochLP","genesisEpochAmountPUSH","deprecationPerEpochPUSH","genesisEpochAmountLP","deprecationPerEpochLP","getPoolStats","getCurrentEpoch","currentEpochPUSH","getAmountsOut","pushPriceAmounts","pushPrice","pushAmountReserve","attach","wethAmountReserve","ethPriceAmounts","totalSupply","uniTotalSupply","lpToPushRatio","uniLpPrice","getPoolSize","add","pushNextPoolSize","lpNextPoolSize","totalValueLocked","epochDuration","epochStart","start","sub","epochEndTimestamp","TOTAL_DISTRIBUTED_AMOUNT","pushTotalDistributedAmount","lpTotalDistributedAmount","totalDistributedAmount","getPushRewardsDistributed","pushRewardsDistributed","currentEpoch","getPUSHPoolStats","NR_OF_EPOCHS","totalEpochPUSH","genesisEpochAmount","deprecationPerEpoch","rewardForCurrentEpoch","calcTotalAmountPerEpoch","poolBalance","stakingAPR","calcStakingAPR","getLPPoolStats","poolStats","calcLPPoolAPR","getUserData","calculateUserEpochReward","potentialUserReward","getEpochStake","epochStakeNext","totalAccumulatedReward","epochReward","lastEpochIdHarvested","totalAvailableReward","currentEpochLP","pushPoolRewardsDistributed","lpPoolRewardsDistributed","rewardForCurrentEpochPUSH","epochId","calcAnnualEpochReward","currentEpochReward","depreciate","weeks","totalStaked","apr","annualRewards","aprFormatted","epochStake","poolSize","number","bnToInt","bnAmount","PoolCard","poolName","poolAddress","tokenAddress","pushPoolStats","userData","depositAmountToken","setDepositAmountToken","showDepositItem","setShowDepositItem","depositApproved","setDepositApprove","txInProgressApprDep","setTxInProgressApprDep","txInProgressDep","setTxInProgressDep","showDepSlip","setShowDepSlip","txInProgressWithdraw","setTxInProgressWithdraw","txInProgressMassHarvest","setTxInProgressMassHarvest","checkApprDeposit","tokenAddr","allowance","gte","fillMax","balance","approveDeposit","uintMax","depositAmountTokenFarmSingleTx","deposit","withdrawAmountTokenFarmAutomatic","withdrawAmount","formatTokens","withdraw","massHarvestTokensAll","massHarvest","tokens","numberWithCommas","x","PoolContainer","borderBottom","PoolBoxTitle","PoolBoxMsg","EpochDisplayer","MaxButton","h5","StatsInnerSub","YieldFarmingPage","setPoolStats","setPushPoolStats","lpPoolStats","setLpPoolStats","userDataPUSH","setUserDataPUSH","userDataLP","setUserDataLP","formattedDuration","setFormattedDuration","setStaking","setYieldFarmingPUSH","setYieldFarmingLP","setUniswapV2Router02","useCallback","getUserDataPUSH","getUserDataLP","duration","day","hour","minutes","seconds","getFormattedDuration","uniswapV2Router02Instance","syncData","NFTHelper","getNFTBalance","getTotalSupply","getOwnerOfTokenId","tokenId","ownerOf","getTokenOfOwnerByIndex","tokenOfOwnerByIndex","getTokenByIndex","tokenByIndex","getTokenMetadata","tokenURI","getTokenMetadatasOfOwner","owner","nftContract","rewardsContract","NFTDetails","getClaimable","claimable","metadata","getAllTokenDatas","getTokenData","transferNFT","safeTransferFrom","getClaimRewardStatus","NFTTextStyle","NFTStatus","NFTStatusTitle","NFTClaim","NFTClaimTitle","ViewNFTItem","NFTObject","setControlAt","setTokenId","NFTRewardsContract","setNFTRewardsContract","onMainnetCore","NFTRewardsInstance","handleClaim","claimReward","sendWithTxPromise","controls","playing","loop","MyNFTs","nftReadProvider","setNftReadProvider","nftWriteProvider","setNftWriteProvider","NFTObjects","setNFTObjects","mainnetCoreProvider","contractInstance","signerInstance","fetchNFTDetails","prev","ViewNFTV2Item","NFTRewardsV2Contract","setNFTRewardsV2Contract","NFTRewardsV2Instance","newIp","nftInfo","animation_url","callFunction","tokenUrl","AllNFTs","AllNFTsV2","TransferNFT","toAddress","setToAddress","processing","setProcessing","processingInfo","setProcessingInfo","handleTransferNFT","txPromise","TransferNFTv2","Controls","CheckSpace","NFTPage","setVersion","userClickedAt","controlIndex","MyNFTsV2","EpicButton","prop","AirdropPage","distributorContract","setDistributorContract","setUser","checkClaim","AirdropHelper","verifyAddress","claim","amount","proof","verified","Heading","ComingSoonPage","minHeight","NotAvailablePage","TutorialPage","Span2","FaqPage","SupportPage","contactFormTopics","contactFormProcessing","setContactFormProcessing","contactFormName","setContactFormName","contactFormEmail","setContactFormEmail","contactFormTopic","setContactFormTopic","contactFormSub","setContactFormSub","contactFormMsg","setContactFormMsg","contactFormError","setContactFormError","String","requestOptions","headers","topic","jsondata","ContactInput","ContactTextArea","columnGap","rowGap","PreviewOuter","PreviewBG","PreviewContent","Preview","PreviewClose","StyledToastContainer","ToastContainer","MasterInterfacePage","playTeaserVideo","setPlayTeaserVideo","loadTeaserVideo","setLoadTeaserVideo","path","element","ViewChannelsPage","SendNotifs","SpamPage","FAQPage","newestOnTop","rtl","pauseOnFocusLoss","frameborder","allow","allowfullscreen","BeaconExample","BeaconExamplePulse","UserJourneySteps","darkMode","content","locale","next","aria-label","placement","hideFooter","spotlightClicks","disableAnimation","disablefloating","defaultProps","styles","buttonNext","buttonSkip","buttonClose","disableOverlayClose","offsetTop","InitState","coreProvider","coreContractInstance","commAddress","commContractInstance","coreSigner","coreSignerInstance","communicatorSignerInstance","pushChannelAdmin","checkUserForChannelOwnership","ownerAccount","getChannelVerfication","channelSubscribers","fetchDelegators","aliasEthAddress","delegators","channelOwners","channelInformationPromise","channelInformation","checkUserForEthAlias","checkUserForAlias","web3Connectors","Injected","obj","logo","WalletConnect","Ledger","Portis","App","connector","activate","activatingConnector","setActivatingConnector","setcurrentTime","triedEager","tried","setTried","isLedgerDappBrowserProvider","isAuthorized","useEagerConnect","suppress","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","initialize","setDarkMode","triggerNotification","setTriggerNotification","browserFunction","onMessageListener","notificationOptions","Notification","DARK","useBrowserNotification","localStorage","getItem","parse","setItem","backgroundColor","Olvy","organisation","view","showSearch","compact","showHeader","showUnreadIndicator","unreadIndicatorColor","unreadIndicatorPosition","teardown","steps","continuous","hideBackButton","hideCloseButton","disableScrolling","disableScrollParentFix","showSkipButton","lifecycle","status","querySelector","scrollTop","arrowColor","overlayColor","primaryColor","textColor","HeaderContainer","ParentContainer","LeftBarContainer","leftBarWidth","ContentContainer","ProviderLogo","currentConnector","ProviderButton","ProviderImage","StyledItem","header","rootReducer","combineReducers","contractReducer","channelReducer","channelCreationReducer","adminReducer","notificationReducer","spamReducer","userJourneyReducer","canSendNotification","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","ApolloProvider","getLibrary","gottenProvider","Web3Provider","oldNetwork","reload","getElementById","serviceWorker","ready","registration","unregister","loaderColor","LoaderNotification","LoaderMessage","CloseButton","closeToast","Toast","ToastIcon","ToastContent","ToastTitle","ToastMessage","toastId","loaderMessage","current","closeButton","boxShadow","toastTitle","toastMessage","toastType","getToastIcon","successBgGradient","errorBgGradient","DEFAULT","EnvHelper","isProduction","IPFSupload","bufferInput","auth","ipfsClient","host","port","protocol","apiPath","authorization","pin","storagePointer","Error","BASE_URL","TOOLING_BASE_URL","post","Eip155EnabledIds","getCAIPObj","caip","convertChainIdToChainCaip","TOKEN_KEY","firebaseApp","initializeApp","messaging","getMessaging","setLocalToken","getPushToken","getToken","onMessage","tokenKey","object","device_token","platform","envUtil","isProd","isStaging","isDev","isLocalHost","nativeCurrency","rpcUrls","blockExplorerUrls","aliasChainId","caipChainId","randseed","rand","buildOpts","newOpts","charCodeAt","seedrand","renderIcon","imageData","dataWidth","mirrorWidth","y","row","reverse","createImageData","sqrt","cc","getContext","fillStyle","fillRect","col","api","create","TabSpace","TextLine","TextLink","uploadDone","setUploadDone","stakeFeesChoosen","setStakeFeesChoosen","channelInfoDone","setChannelInfoDone","chainDetails","setChainDetails","channelName","setChannelName","channelAlias","setChannelAlias","setChannelInfo","channelURL","setChannelURL","channelFile","setChannelFile","daiAmountVal","setDaiAmountVal","txStatus","setTxStatus","setProgress","progressInfo","setProgressInfo","logoInfo","setLogoInfo","setView","imageSrc","setImageSrc","croppedImage","setCroppedImage","stepFlow","setStepFlow","channelToast","checkDaiAmount","convertedVal","checkDaiFunc","handleCreateChannel","aliaschainId","createChannelWithFees","gasLimit","xhr","XMLHttpRequest","onload","reader","FileReader","onloadend","readAsDataURL","responseType","send","toDataURL","dataUrl","base64","sizeOf","base64Data","pop","dimensions","handleLogoSizeLimitation","text-align","TextSpace","Minter","PoolShare","StakingInfo","mintDai","mintTransactionPromise","mint","coreChainId","ALIAS_CHAINS","setInfo","ProcessingInfo","claims","combinedHash","first","second","solidityKeccak256","compare","toNode","pairHex","verifyProof","pair","equals","getNextLayer","elements","reduce","layer","arr","getRoot","balances","nodes","layers","merkleRootHex","merkleRoot","isClaimed","BNamount","ImageClipper","forwardRef","onImageCropped","crop","setCrop","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","onCropComplete","croppedArea","getCroppedImg","pixelCrop","createImage","ctx","drawImage","toBlob","file","File","lastModified","useImperativeHandle","showCroppedImage","resizeFile","Resizer","imageFileResizer","setAttribute","aspect","onCropChange","onZoomChange","containerStyle","styledComponents","Space","UploadLogo","childRef","handleFile","files","onDragOver","handleDragOver","onDrop","stopPropagation","dataTransfer","handleOnDrop","htmlFor","accept","hidden","readOnly"],"mappings":"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","file":"static/js/main.9ce60a9e.chunk.js","sourcesContent":["// environmental configurations for the dapp for different environments\r\nconst config = {\r\n    apiUrl: \"https://backend-staging.epns.io/apis\",\r\n    env: 'staging',\r\n    toolingApiUrl: \"https://tooling.epns.io/apis\",\r\n    allowedNetworks: [\r\n        42, //for kovan\r\n        80001 //for mumbai polygon\r\n    ],\r\n    coreContractChain: 42, //the chain id of the network which the core contract relies on\r\n    mainnetCoreContractChain: 1,\r\n    coreRPC: \"https://kovan.infura.io/v3/4ff53a5254144d988a8318210b56f47a\",\r\n    mainnetCoreRPC: \"https://mainnet.infura.io/v3/4ff53a5254144d988a8318210b56f47a\",\r\n    googleAnalyticsId: \"UA-165415629-5\",\r\n    vapidKey: \"BFRmmAEEXOhk31FIsooph5CxlXKh6N0_NocUWHzvtpoUEvqQTwLXu6XtwkrH7ckyr2CvVz1ll-8q4oo6-ZqFJPY\",\r\n    firebaseConfig: {\r\n        apiKey: \"AIzaSyClOk4qP0ttFW-BPnXy7WT920xfdXSbFu8\",\r\n        authDomain: \"epns-internal.firebaseapp.com\",\r\n        databaseURL: \"https://epns-internal.firebaseio.com\",\r\n        projectId: \"epns-internal\",\r\n        storageBucket: \"epns-internal.appspot.com\",\r\n        messagingSenderId: \"755180533582\",\r\n        appId: \"1:755180533582:web:752ff8db31905506b7d01f\",\r\n        measurementId: \"G-ZJH2T7R9S1\",\r\n    }\r\n};\r\n\r\nexport default config;\r\n","// This address points to a dummy ERC20 contract deployed on Ethereum Mainnet,\r\n// Goerli, Kovan, Rinkeby and Ropsten. Replace it with your smart contracts.\r\nconst addresses = {\r\n  ceaErc20: \"0xc1C0472c0C80bCcDC7F5D01A376Bd97a734B8815\",\r\n  epnscore: \"0x97D7c5f14B8fe94Ef2b4bA589379f5Ec992197dA\",\r\n  epnsEthComm: \"0x87da9Af1899ad477C67FeA31ce89c1d2435c77DC\", // the core contract\r\n  epnsPolyComm: \"0xb3971BCef2D791bc4027BbfedFb47319A4AAaaAa\", // the ploygon comm contract\r\n  dai: \"0xff795577d9ac8bd7d90ee22b6c1703490b6512fd\", //address for dai\r\n  aDai: \"0x58AD4cB396411B691A9AAb6F74545b2C5217FE6a\",\r\n  staking: \"0x8e129EF695F8761922F1AA38588292f8d8817bA5\",\r\n  yieldFarmPUSH: \"0xb41cd6760d3b1d0d216851f63fda9573b04dd46e\",\r\n  yieldFarmLP: \"0x604f629A6b5E85805D57f39493BBC2856cE8A540\",\r\n  epnsToken: \"0x9CE54E83c18f0a797F823905A3ec5CfC2F6d2CA9\",\r\n  epnsLPToken: \"0x1f094Bd8c260D0C3fC79157096015990885af4d2\",\r\n  rockstar: \"0x3f8C2152b79276b78315CAF66cCF951780580A8a\",\r\n  batchMintNFT: \"0xCf733D547B9f7F87c1B1f63f45c197C007F8eedf\",\r\n  NFTRewards: \"0xc4708BB6EC3B797344f123126171302e4e3E68E2\",\r\n  distributor: \"0x5B548D33874DeABaC2F683A6E1864795E09932F0\",\r\n  uniswapV2Router02: \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\",\r\n  WETHAddress: \"0xd0A1E359811322d97991E03f863a0C30C2cF029C\",\r\n  USDTAddress: \"0x13512979ade267ab5100878e2e0f485b568328a4\",\r\n  rockstarV2:\"0xA2b885e7065EA59a3251489715ca80DE5Ff642f8\",//mainnet address\r\n  NFTRewardsV2: \"0xdc66567a990B7fa10730459537620857c9e03287\", //mainnet address\r\n};\r\nexport default addresses;","import erc20Abi from \"./abis/erc20\";\r\nimport ownableAbi from \"./abis/ownable\";\r\nimport epnscoreAbi from \"./abis/epnscore\";\r\nimport daiAbi from \"./abis/dai\";\r\nimport epnsTokenAbi from \"./abis/EPNS.json\";\r\nimport stakingAbi from \"./abis/Staking.json\";\r\nimport yieldFarmingAbi from \"./abis/YieldFarm.json\";\r\nimport rockstarAbi from \"./abis/Rockstar.json\";\r\nimport ec721Abi from \"./abis/ERC721.json\";\r\nimport NFTRewards from \"./abis/NFTRewards.json\";\r\nimport epnsCommAbi from \"./abis/epnsCommunicator.json\";\r\nimport MerkleDistributorAbi from \"./abis/MerkleDistributor.json\";\r\nimport UniswapV2Router02Abi from \"./abis/UniswapV2Router02.json\";\r\nimport rockstarV2Abi from \"./abis/RockstarV2.json\"\r\nimport NFTRewardsV2 from \"./abis/NFTRewardsV2.json\";\r\n\r\nexport const abis = {\r\n  erc20: erc20Abi,\r\n  ownable: ownableAbi,\r\n  epnscore: epnscoreAbi,\r\n  epnsPolyComm: epnsCommAbi,\r\n  epnsComm: epnsCommAbi,\r\n  dai: daiAbi,\r\n  epnsToken: epnsTokenAbi,\r\n  staking: stakingAbi,\r\n  yieldFarming: yieldFarmingAbi,\r\n  rockstar: rockstarAbi,\r\n  erc721: ec721Abi,\r\n  NFTRewards: NFTRewards,\r\n  distributor: MerkleDistributorAbi,\r\n  uniswapV2Router02: UniswapV2Router02Abi,\r\n  rockstarV2: rockstarV2Abi,\r\n  NFTRewardsV2: NFTRewardsV2\r\n};\r\n\r\nexport { default as envConfig } from \"./config\";\r\nexport { default as addresses } from \"./addresses\";\r\n","import EthCrypto from 'eth-crypto';\r\nimport {encrypt, decrypt} from 'eccrypto';\r\nimport { publicKeyConvert } from 'secp256k1-v4';\r\nimport * as metamaskSigUtil from \"@metamask/eth-sig-util\";\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\n\r\nconst CryptoHelper = {\r\n  // To Encrypt with AES\r\n  encryptWithAES: function(message, key) {\r\n    return CryptoJS.AES.encrypt(message, key).toString();\r\n  },\r\n  // To Decrypt with AES\r\n  decryptWithAES: function(message, key) {\r\n    let bytes  = CryptoJS.AES.decrypt(message, key);\r\n    return bytes.toString(CryptoJS.enc.Utf8);\r\n  },\r\n  // To Encrypt Secret with Public key\r\n  encryptWithRPCEncryptionPublicKey: function (text, encryptionPublicKey) {\r\n    const encryptedSecret = metamaskSigUtil.encrypt({\r\n      publicKey: encryptionPublicKey,\r\n      data: text,\r\n      version: 'x25519-xsalsa20-poly1305'\r\n    });\r\n\r\n    const bufferRes = Buffer.from(JSON.stringify(encryptedSecret), 'utf8');\r\n    const result = bufferRes.toString('hex');\r\n\r\n    return result;\r\n  },\r\n  decryptWithWalletRPCMethod: async function (provider, encryptedMessage, account) {\r\n    const result = await provider.request({\r\n      method: 'eth_decrypt',\r\n      params: [encryptedMessage, account],\r\n    });\r\n\r\n    return result;\r\n  },\r\n  // To Form Encryted Secret, no more than 15 characters supported\r\n  encryptWithECIES: async function (message, publicKey) {\r\n    const compressedKey = EthCrypto.publicKey.compress(publicKey);\r\n\r\n    const encryptedSecret = await this.encryptWithPublicKey(message, compressedKey);\r\n\r\n    // Not using it since sqlite2 has some error with this\r\n    // const compressedEncryptedSecret = EthCrypto.hex.compress(encryptedSecret);\r\n\r\n    return encryptedSecret;\r\n  },\r\n  // To Form Decrypted Secret, no more than 15 characters supported\r\n  decryptWithECIES: async function(message, privateKey) {\r\n    // Message is always compressed, not using because sqlite2 has some error with this\r\n    //const uncompressedMessage = EthCrypto.hex.decompress(message).substr(2); // to remove 0x\r\n\r\n    return await this.decryptWithPrivateKey(message, privateKey);\r\n  },\r\n  // Encryption with public key\r\n  encryptWithPublicKey: async function(message, publicKey) {\r\n    // Convert compressed public key, starts with 03 or 04\r\n    const pubKeyUint8Array = Uint8Array.from(\r\n      new Buffer(publicKey, 'hex')\r\n    );\r\n    //console.log(\"[ENCRYPTION] Public Key Uint8Array: \" + pubKeyUint8Array);\r\n\r\n    const convertedKeyAsUint8Array = publicKeyConvert(pubKeyUint8Array, false);\r\n    //console.log(\"[ENCRYPTION] Public Key Converted: \" + convertedKeyAsUint8Array);\r\n\r\n    const convertedPublicKeyHex = new Buffer(convertedKeyAsUint8Array);\r\n    //console.log(\"[ENCRYPTION] Converted Public Key Buffer: \" + convertedPublicKeyHex);\r\n\r\n    const pubKey = new Buffer(convertedPublicKeyHex, 'hex');\r\n    //console.log(\"[ENCRYPTION] pubkey getting sentout for encrypt: \" + pubKey);\r\n\r\n    return encrypt(\r\n        pubKey,\r\n        Buffer(message)\r\n    ).then(encryptedBuffers => {\r\n      const cipher = {\r\n          iv: encryptedBuffers.iv.toString('hex'),\r\n          ephemPublicKey: encryptedBuffers.ephemPublicKey.toString('hex'),\r\n          ciphertext: encryptedBuffers.ciphertext.toString('hex'),\r\n          mac: encryptedBuffers.mac.toString('hex')\r\n      };\r\n      // use compressed key because it's smaller\r\n      // const compressedKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(cipher.ephemPublicKey), true)).toString('hex')\r\n      const input = Uint8Array.from(\r\n        new Buffer(cipher.ephemPublicKey, 'hex')\r\n      );\r\n      const keyConvert = publicKeyConvert(input, true)\r\n      // console.log(\"[ENCRYPTION] Coverted key: \" + keyConvert);\r\n\r\n      const keyConvertBuffer = new Buffer(keyConvert);\r\n      // console.log(\"[ENCRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\r\n      // console.log(keyConvertBuffer);\r\n\r\n      //console.log(keyConvert);\r\n      const compressedKey = keyConvertBuffer.toString('hex')\r\n      // console.log(\"[ENCRYPTION] Compressed key in buffer : \");\r\n      // console.log(compressedKey);\r\n\r\n      const ret = Buffer.concat([\r\n        new Buffer(cipher.iv, 'hex'), // 16bit\r\n        new Buffer(compressedKey, 'hex'), // 33bit\r\n        new Buffer(cipher.mac, 'hex'), // 32bit\r\n        new Buffer(cipher.ciphertext, 'hex') // var bit\r\n      ]).toString('hex')\r\n\r\n      return ret\r\n    });\r\n  },\r\n  // Decryption with public key\r\n  decryptWithPrivateKey: async function(message, privateKey) {\r\n    let encrypted = message;\r\n    const buf = new Buffer(encrypted, 'hex');\r\n    // console.log(\"[DECRYPTION] Buffer Passed: \" + buf);\r\n\r\n    encrypted = {\r\n      iv: buf.toString('hex', 0, 16),\r\n      ephemPublicKey: buf.toString('hex', 16, 49),\r\n      mac: buf.toString('hex', 49, 81),\r\n      ciphertext: buf.toString('hex', 81, buf.length)\r\n    };\r\n    // decompress publicKey\r\n    // encrypted.ephemPublicKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(encrypted.ephemPublicKey), true)).toString('hex')\r\n    const input = Uint8Array.from(new Buffer(encrypted.ephemPublicKey, 'hex'));\r\n    const keyConvert = publicKeyConvert(input, false)\r\n    // console.log(\"[DECRYPTION] Coverted key: \" + keyConvert);\r\n\r\n    const keyConvertBuffer = new Buffer(keyConvert);\r\n    // console.log(\"[DECRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\r\n    // console.log(keyConvertBuffer);\r\n\r\n    //console.log(keyConvert);\r\n    const uncompressedKey = keyConvertBuffer.toString('hex')\r\n    // console.log(\"[DECRYPTION] Uncompressed key in buffer : \");\r\n    // console.log(uncompressedKey);\r\n\r\n    encrypted.ephemPublicKey = uncompressedKey;\r\n    const twoStripped = privateKey.substring(2)\r\n\r\n    const encryptedBuffer = {\r\n      iv: new Buffer(encrypted.iv, 'hex'),\r\n      ephemPublicKey: new Buffer(encrypted.ephemPublicKey, 'hex'),\r\n      ciphertext: new Buffer(encrypted.ciphertext, 'hex'),\r\n      mac: new Buffer(encrypted.mac, 'hex')\r\n    };\r\n\r\n    return decrypt(\r\n      new Buffer(twoStripped, 'hex'),\r\n      encryptedBuffer\r\n    ).then(decryptedBuffer => decryptedBuffer.toString());\r\n  },\r\n  // Testing of Encryption and Decryption from Public to Private key\r\n  encryptionDecryptionPublicToPrivateTest: async function(privateKey) {\r\n    const startTime = new Date();\r\n    console.log(\"[ENCRYPTION / DECRYPTION TEST STARTED] - \" + startTime);\r\n\r\n    const publicKey = EthCrypto.publicKeyByPrivateKey(privateKey);\r\n    const compressedKey = EthCrypto.publicKey.compress(publicKey); // is String\r\n    //console.log(compressedKey);\r\n\r\n    // const bytesCompKey = Uint8Array.from(compressedKey);\r\n    //console.log(bytesCompKey);\r\n\r\n    const msgToEncrypt = \"PartialStringAS\";\r\n    const msg = await this.encryptWithPublicKey(msgToEncrypt, compressedKey);\r\n    console.log(\"Encryped Message With compressed public key:\" + msg);\r\n\r\n    const encryptionTime = new Date().getTime() - startTime.getTime();\r\n    console.log(\"[ENCRYPTION / DECRYPTION ENCRYPTION DONE] - \" + encryptionTime / 1000 + \" secs\");\r\n\r\n    // Decrypt this message\r\n    const decryptMsg = await this.decryptWithPrivateKey(msg, privateKey);\r\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTED MESSAGE] - '\" + decryptMsg + \"'\");\r\n\r\n    const decryptionTime = new Date().getTime() - startTime.getTime() - encryptionTime;\r\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTION DONE] - \" + decryptionTime / 1000 + \" secs\");\r\n  },\r\n  // To output messge payload if required\r\n  outputMsgPayload: async function(secret, subject, message, calltoaction, imageurl, pkey) {\r\n    // Output AES\r\n    console.log(\"[AES ENCRYTED FORMAT (\" + new Date() + \")\");\r\n    console.log(\"---------------------\");\r\n    console.log(\"secret --> \");\r\n    const secretEncrypted = await this.encryptWithECIES(secret, pkey);\r\n    const asubE = this.encryptWithAES(subject, secret);\r\n    const amsgE = this.encryptWithAES(message, secret);\r\n    const actaE = this.encryptWithAES(calltoaction, secret);\r\n    const aimgE = this.encryptWithAES(imageurl, secret);\r\n\r\n    console.log(secretEncrypted);\r\n    console.log(\"asub --> \");\r\n    console.log(asubE);\r\n    console.log(\"amsg --> \");\r\n    console.log(amsgE);\r\n    console.log(\"acta --> \");\r\n    console.log(actaE);\r\n    console.log(\"aimg --> \");\r\n    console.log(aimgE);\r\n    console.log(\"decrypted secret --> \");\r\n    console.log(await this.decryptWithECIES(secretEncrypted, pkey));\r\n    console.log(\"decrypted asub --> \");\r\n    console.log(this.decryptWithAES(asubE, secret));\r\n    console.log(\"decrypted amsg --> \");\r\n    console.log(this.decryptWithAES(amsgE, secret));\r\n    console.log(\"decrypted acta --> \");\r\n    console.log(this.decryptWithAES(actaE, secret));\r\n    console.log(\"decrypted aimg --> \");\r\n    console.log(this.decryptWithAES(aimgE, secret));\r\n  },\r\n  makeid: function (length) {\r\n     var result           = '[' + new Date().toISOString() + '] ';\r\n     var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n     var charactersLength = characters.length;\r\n     for ( var i = 0; i < length; i++ ) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n     }\r\n     return result;\r\n  }\r\n};\r\n\r\nexport default CryptoHelper;\r\n","// Define what props.theme will look like\r\nconst themeLight = {\r\n  scheme: \"light\",\r\n  // Section Theme\r\n  sectionBorderBg: \"transparent\",\r\n\r\n  // Header Theme\r\n  headerBg: \"#fff\",\r\n  headerTagBg: \"#000\",\r\n  headerTagFg: \"#fff\",\r\n\r\n  headerIconsBg: \"#000\",\r\n\r\n  // Nav Menu\r\n  navMenuBg: \"#00000066\",\r\n\r\n  // Left Bar Theme\r\n  leftBarLoaderBg: \"#ddd\",\r\n\r\n  leftBarBg: \"#fff\",\r\n  leftBarButtonBg: \"#fff\",\r\n  leftBarHoverColor: \"#5c5c5c\",\r\n  leftBarFontColor: \"#000\",\r\n\r\n  leftBarSocialBg: \"#eee\",\r\n  leftBarSocialIconBg: \"#ddd\",\r\n\r\n  // Interface Theme\r\n  interfaceTopPadding: \"0px\",\r\n  interfaceBorder: \"#f1f1f1\",\r\n\r\n  interfaceSkeleton: \"#eee\",\r\n\r\n  // Main Theme\r\n  backgroundBG: \"#fff\",\r\n  backgroundBGLucid: \"#00000099\",\r\n  mainBg: \"#fff\",\r\n  fontColor: \"#000\",\r\n  fontColorSecondary: \"#00000099\",\r\n  scrollBg: \"#eee\",\r\n  borderBg: \"#f1f1f1\",\r\n\r\n  // View Channels Theme\r\n  // -- View Channel Header Theme\r\n  // -- -- Search Bar\r\n  viewChannelSearchBg: \"#fff\",\r\n  viewChannelSearchBorder: \"#f1f1f1\",\r\n  viewChannelSearchText: \"#000\",\r\n  viewChannelSearchIcon: \"#333\",\r\n\r\n  // -- -- Faucet Theme\r\n  faucetBg: \"#fff\",\r\n  faucetBorder: \"#ededed\",\r\n  faucetIcon: \"#674c9f\",\r\n  faucetHeader: \"#e20880\",\r\n\r\n  // -- View Channel Main Theme\r\n  viewChannelOuterBorder: \"#eee\",\r\n  viewChannelLink: \"#e20880\",\r\n  viewChannelVerifiedBadge: \"#ec008c\",\r\n  viewChannelIconBorder: \"#fafafa\",\r\n  viewChannelSecondaryBG: \"#35c5f3\",\r\n  viewChannelSecondaryIcon: \"#ccc\",\r\n\r\n  // -- -- View Channel Tuts\r\n  viewChannelTutsTitleBg: \"#000\",\r\n  viewChannelTutsButtonBg: \"#e20880\",\r\n\r\n  // Dynamic Tuts\r\n  dynamicTutsBg: \"#fff\",\r\n  dynamicTutsBgOverlay: \"#00000099\",\r\n  dynamicTutsFontColor: \"000\",\r\n  dynamicTutsButtonBg: \"#000\",\r\n  dynamicTutsButtonColor: \"#fff\",\r\n  dynamicTutsPrimaryColor: \"#e20880\",\r\n\r\n  // QnA\r\n  qnaBg: \"#fff\",\r\n  qnaBgBorder: \"#fafafa\",\r\n\r\n  yieldBg: \"#f3f3f3\",\r\n\r\n  pushPriceBg: \"#000\",\r\n\r\n  greyText: \"#818589\",\r\n\r\n  color: \"#000\",\r\n\r\n  channelBg: \"#fafafa\",\r\n\r\n  button: \"#000\",\r\n\r\n  buttonColor: \"#fff\",\r\n\r\n  createColor: \"#808080\",\r\n\r\n  // Toast Notifications\r\n  toastTextColor: \"#000\",\r\n  toastBorderColor: \"#F4F3FF\",\r\n};\r\n\r\nconst themeDark = {\r\n  scheme: \"dark\",\r\n  // Section Theme\r\n  sectionBorderBg: \"#333\",\r\n\r\n  // Header Theme\r\n  headerBg: \"#000\",\r\n  headerTagBg: \"#fff\",\r\n  headerTagFg: \"#000\",\r\n\r\n  headerIconsBg: \"#fff\",\r\n\r\n  // Nav Menu\r\n  navMenuBg: \"#00000066\",\r\n\r\n  // Left Bar Theme\r\n  leftBarLoaderBg: \"#ddd\",\r\n\r\n  leftBarBg: \"#000\",\r\n  leftBarButtonBg: \"#000\",\r\n  leftBarHoverColor: \"#fff\",\r\n  leftBarFontColor: \"#fff\",\r\n\r\n  leftBarSocialBg: \"#222\",\r\n  leftBarSocialIconBg: \"#000\",\r\n\r\n  // Interface Theme\r\n  interfaceTopPadding: \"20px\",\r\n  interfaceBorder: \"#333\",\r\n  interfaceSkeleton: \"#414141\",\r\n\r\n  // Main Theme\r\n  backgroundBG: \"#222\",\r\n  backgroundBGLucid: \"#000000cc\",\r\n  mainBg: \"#000\",\r\n  fontColor: \"#fff\",\r\n  fontColorSecondary: \"#ffffff99\",\r\n  scrollBg: \"#333\",\r\n  borderBg: \"#333\",\r\n\r\n  // View Channels Theme\r\n  // -- View Channel Header Theme\r\n  // -- -- Search Bar\r\n  viewChannelSearchBg: \"#222\",\r\n  viewChannelSearchBorder: \"#333\",\r\n  viewChannelSearchText: \"#fff\",\r\n  viewChannelSearchIcon: \"#414141\",\r\n\r\n  // -- -- Faucet Theme\r\n  faucetBg: \"#222\",\r\n  faucetBorder: \"#333\",\r\n  faucetIcon: \"#414141\",\r\n  faucetHeader: \"#414141\",\r\n\r\n  // -- View Channel Main Theme\r\n  viewChannelOuterBorder: \"#222\",\r\n  viewChannelLink: \"#35c5f3\",\r\n  viewChannelVerifiedBadge: \"#ccc\",\r\n  viewChannelIconBorder: \"#222\",\r\n  viewChannelSecondaryBG: \"#222\",\r\n  viewChannelSecondaryIcon: \"#414141\",\r\n\r\n  // -- -- View Channel Tuts\r\n  viewChannelTutsTitleBg: \"#000\",\r\n  viewChannelTutsButtonBg: \"#000\",\r\n\r\n  // Dynamic Tutorial\r\n  dynamicTutsBg: \"#222\",\r\n  dynamicTutsBgOverlay: \"#000000cc\",\r\n  dynamicTutsFontColor: \"#fff\",\r\n  dynamicTutsButtonBg: \"#000\",\r\n  dynamicTutsButtonColor: \"#fff\",\r\n  dynamicTutsPrimaryColor: \"#fff\",\r\n\r\n  // QnA\r\n  qnaBg: \"#222\",\r\n  qnaBgBorder: \"#666\",\r\n\r\n  color: \"#fff\",\r\n\r\n  yieldBg: \"#ddd\",\r\n\r\n  questionBg: \"#000\",\r\n\r\n  pushPriceBg: \"teal\",\r\n\r\n  greyText: \"#818589\",\r\n\r\n  channelBg: \"#000\",\r\n\r\n  button: \"#fff\",\r\n\r\n  buttonColor: \"#000\",\r\n\r\n  buttonBd: \"1px solid #fff\",\r\n\r\n  createColor: \"#fff\",\r\n\r\n  // Toast Notifications\r\n  toastTextColor: \"#B6BCD6\",\r\n  toastBorderColor: \"#4A4F67\",\r\n};\r\n\r\nmodule.exports = {\r\n  themeLight: themeLight,\r\n  themeDark: themeDark,\r\n};\r\n","import styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Section = styled.section`\r\n  display: flex;\r\n  align-self: stretch;\r\n  justify-content: center;\r\n  align-items: ${(props) => props.align || \"initial\"};\r\n  flex-direction: ${(props) => props.direction || \"column\"};\r\n  background: ${(props) => props.theme || \"transparent\"};\r\n  background: ${(props) => props.gradient || \"undefined\"};\r\n  margin: ${(props) => props.margin || \"0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  overflow: ${(props) => props.overflow || \"initial\"};\r\n  flex: 1;\r\n  position: relative;\r\n`;\r\n\r\nexport const SectionFS = styled(Section)`\r\n  min-height: 100vh;\r\n`;\r\n\r\nexport const SectionFSHero = styled(Section)`\r\n  min-height: 100vh;\r\n  background: rgb(31, 23, 47);\r\n  background: linear-gradient(\r\n    283deg,\r\n    rgba(31, 23, 47, 1) 0%,\r\n    rgba(62, 9, 40, 1) 45%,\r\n    rgba(17, 58, 72, 1) 100%\r\n  );\r\n`;\r\n\r\nexport const SectionHero = styled(Section)`\r\n  background: rgb(31, 23, 47);\r\n  background: linear-gradient(\r\n    283deg,\r\n    rgba(31, 23, 47, 1) 0%,\r\n    rgba(62, 9, 40, 1) 45%,\r\n    rgba(17, 58, 72, 1) 100%\r\n  );\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: ${(props) => props.padding || \"40px 0px\"};\r\n  background: ${(props) => props.theme || \"transparent\"};\r\n  background: ${(props) => props.gradient || \"undefined\"};\r\n  position: relative;\r\n`;\r\n\r\nexport const ItemBreak = styled.div`\r\n  flex-basis: 100%;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: ${(props) => props.wrap || \"wrap\"};\r\n  position: ${(props) => props.position || \"relative\"};\r\n  justify-content: center;\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  flex: ${(props) => props.flex || \"1\"};\r\n  flex-direction: ${(props) => props.direction || \"column\"};\r\n  flex-basis: ${(props) => props.flexBasis || \"auto\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n  align-items: ${(props) => props.align || \"center\"};\r\n  justify-content: ${(props) => props.justify || \"center\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  margin: ${(props) => props.margin || \"0px\"};\r\n  min-width: ${(props) => props.minWidth || \"auto\"};\r\n  max-width: ${(props) => props.maxWidth || \"initial\"};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  text-align: ${(props) => props.textAlign || \"inherit\"};\r\n  filter: ${(props) => props.filter || \"none\"};\r\n\r\n  top: ${(props) => props.top || \"auto\"};\r\n  bottom: ${(props) => props.bottom || \"auto\"};\r\n  left: ${(props) => props.left || \"auto\"};\r\n  right: ${(props) => props.right || \"auto\"};\r\n\r\n  width: ${(props) => props.width || \"auto\"};\r\n  height: ${(props) => props.height || \"auto\"};\r\n\r\n  border: ${(props) => props.border || \"none\"};\r\n\r\n  border-radius: ${(props) => props.radius || \"0px\"};\r\n  overflow: ${(props) => props.overflow || \"initial\"};\r\n\r\n  z-index: ${(props) => props.zIndex || \"auto\"};\r\n\r\n  &:hover & {\r\n    filter: ${(props) =>\r\n      (props.filterHover\r\n        ? props.filterHover\r\n        : props.hover\r\n        ? props.hover\r\n        : \"none\") || \"none\"};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${(props) =>\r\n      (props.tabletAlign\r\n        ? props.tabletAlign\r\n        : props.align\r\n        ? props.align\r\n        : \"center\") || \"center\"};\r\n    text-align: ${(props) =>\r\n      (props.tabletTextAlign\r\n        ? props.tabletTextAlign\r\n        : props.textAlign\r\n        ? props.textAlign\r\n        : \"inherit\") || \"inherit\"};\r\n  }\r\n\r\n  ${ItemBreak} {\r\n    width: 0;\r\n  }\r\n`;\r\n\r\nexport const ItemH = styled(Item)`\r\n  flex-direction: row;\r\n  flex: ${(props) => props.flex || \"1\"};\r\n\r\n  ${ItemBreak} {\r\n    width: auto;\r\n    height: 0;\r\n  }\r\n`;\r\n\r\nexport const WaveOuter = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: ${(props) => props.bottom || \"-70px\"};\r\n  top: ${(props) => props.top || \"auto\"};\r\n  transform: ${(props) => props.transform || \"initial\"};\r\n`;\r\n\r\nexport const WaveInner = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  transform: ${(props) => props.transform || \"initial\"};\r\n`;\r\n\r\nexport const Arc = styled.div`\r\n  position: absolute;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 300px;\r\n\r\n  bottom: ${(props) => props.bottom || \"auto\"};\r\n  top: ${(props) => props.top || \"auto\"};\r\n\r\n  &:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 300%;\r\n    height: 300%;\r\n    top: -25%;\r\n    left: -100%;\r\n\r\n    ${(props) =>\r\n      props.arcRGB &&\r\n      css`\r\n        background: radial-gradient(\r\n          ellipse at center,\r\n          ${props.arcRGB}00 0%,\r\n          ${props.arcRGB}00 50%,\r\n          ${props.arcRGB}ff 50%,\r\n          ${props.arcRGB}ff 100%\r\n        );\r\n      `};\r\n  }\r\n`;\r\n\r\nexport const H1 = styled.h1`\r\n  @media (max-width: 480px) {\r\n    font-size: 2.1rem;\r\n  }\r\n`;\r\n\r\nexport const H2 = styled.h2`\r\n  color: ${(props) => props.color || \"#000\"};\r\n  font-weight: ${(props) => props.weight || 600};\r\n  font-size: ${(props) => props.size || \"2rem\"};\r\n  text-transform: ${(props) => props.textTransform || \"inherit\"};\r\n  margin: ${(props) => props.margin || \"20px 0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"inherit\"};\r\n  font-family: ${(props) =>\r\n    props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${(props) => props.textAlign || \"inherit\"};\r\n`;\r\n\r\nexport const H3 = styled.h3`\r\n  color: ${(props) => props.color || \"rgb(0 0 0 / 0.5)\"};\r\n  font-weight: ${(props) => props.weight || 300};\r\n  font-size: ${(props) => props.size || \"1rem\"};\r\n  text-transform: ${(props) => props.textTransform || \"uppercase\"};\r\n  margin: ${(props) => props.margin || \"-15px 0px 20px 0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"0.1em\"};\r\n  font-family: ${(props) =>\r\n    props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${(props) => props.textAlign || \"inherit\"};\r\n  max-width: ${(props) => props.maxWidth || \"initial\"};\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n`;\r\n\r\nexport const P = styled.p`\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n\r\n  color: ${(props) => props.color || \"#000\"};\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  font-weight: ${(props) => props.weight || 300};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  text-transform: ${(props) => props.textTransform || \"inherit\"};\r\n  margin: ${(props) => props.margin || \"20px 0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"inherit\"};\r\n  text-align: ${(props) => props.textAlign || \"initial\"};\r\n`;\r\n\r\nexport const Para = styled(P)`\r\n  font-weight: ${(props) => props.weight || 300};\r\n  letter-spacing: ${(props) => props.spacing || \"0.02em\"};\r\n  font-size: ${(props) => props.size || \"1.1em\"};\r\n  color: ${(props) => props.color || \"#000000ee\"};\r\n`;\r\n\r\nexport const Span = styled.span`\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n\r\n  color: ${(props) => props.color || \"#000\"};\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  font-weight: ${(props) => props.weight || 300};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  text-transform: ${(props) => props.textTransform || \"inherit\"};\r\n  margin: ${(props) => props.margin || \"0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"inherit\"};\r\n  text-align: ${(props) => props.textAlign || \"initial\"};\r\n  border-radius: ${(props) => props.bRadius || \"initial\"};\r\n\r\n  position: ${(props) => props.pos || \"initial\"};\r\n  right: ${(props) => props.right || \"auto\"};\r\n  left: ${(props) => props.left || \"auto\"};\r\n  bottom: ${(props) => props.bottom || \"auto\"};\r\n  top: ${(props) => props.top || \"auto\"};\r\n\r\n  z-index: ${(props) => props.z || \"auto\"};\r\n`;\r\n\r\nexport const B = styled.span`\r\n  color: ${(props) => props.color || \"inherit\"};\r\n  font-weight: ${(props) => props.weight || \"bold\"};\r\n`;\r\n\r\nexport const UL = styled.ul``;\r\n\r\nexport const LI = styled.li`\r\n  margin: 10px 0px;\r\n`;\r\n\r\nexport const Anchor = styled.a`\r\n  display: flex;\r\n  flex-direction: ${(props) => props.direction || \"row\"};\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n  align-items: ${(props) => props.align || \"center\"};\r\n  justify-content: ${(props) => props.justify || \"center\"};\r\n  font-weight: ${(props) => props.weight || 400};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  color: ${(props) => props.color || \"#fff\"};\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  margin: ${(props) => props.margin || \"0\"};\r\n  padding: ${(props) => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"0.2em\"};\r\n  border: ${(props) => props.border || \"none\"};\r\n  border-radius: ${(props) => props.radius || \"0px\"};\r\n  width: ${(props) => props.width || \"initial\"};\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${(props) => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  filter: ${(props) => props.filter || \"none\"};\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:hover & {\r\n    filter: ${(props) =>\r\n      (props.filterHover\r\n        ? props.filterHover\r\n        : props.hover\r\n        ? props.hover\r\n        : \"none\") || \"none\"};\r\n  }\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${(props) =>\r\n      props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${(props) => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n`;\r\n\r\nexport const AnchorLink = styled(Anchor)`\r\n  background-color: ${(props) =>\r\n    props.theme.scheme === \"dark\" ? props.bg : \"#d1cdcd\"};\r\n`;\r\n\r\nexport const RouterLink = styled(Link)`\r\n  display: flex;\r\n  flex-direction: ${(props) => props.direction || \"row\"};\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n  align-items: ${(props) => props.align || \"center\"};\r\n  justify-content: ${(props) => props.justify || \"center\"};\r\n  font-weight: ${(props) => props.weight || 400};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  color: ${(props) => props.color || \"#fff\"};\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  margin: ${(props) => props.margin || \"0\"};\r\n  padding: ${(props) => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"0.2em\"};\r\n  border: ${(props) => props.border || \"none\"};\r\n  border-radius: ${(props) => props.radius || \"0px\"};\r\n  width: ${(props) => props.width || \"initial\"};\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${(props) => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  filter: ${(props) => props.filter || \"none\"};\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:hover & {\r\n    filter: ${(props) =>\r\n      (props.filterHover\r\n        ? props.filterHover\r\n        : props.hover\r\n        ? props.hover\r\n        : \"none\") || \"none\"};\r\n  }\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${(props) =>\r\n      props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${(props) => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n`;\r\n\r\nexport const A = styled(Anchor)`\r\n  display: inline;\r\n  color: #e1087f;\r\n  background: transparent;\r\n  padding: 0px;\r\n  letter-spacing: inherit;\r\n  text-transform: initial;\r\n`;\r\n\r\nexport const C = styled(Anchor)`\r\n  display: inline;\r\n  color: #4292e4;\r\n  background: transparent;\r\n  padding: 0px;\r\n  letter-spacing: inherit;\r\n  text-transform: initial;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n  align-items: ${(props) => props.align || \"center\"};\r\n  justify-content: ${(props) => props.justify || \"center\"};\r\n  font-weight: ${(props) => props.weight || 400};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  color: ${(props) => props.color || \"#fff\"};\r\n  background: ${(props) => props.bg || \"tranparent\"};\r\n  margin: ${(props) => props.margin || \"0\"};\r\n  padding: ${(props) => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"initial\"};\r\n  border: ${(props) => props.border || \"none\"};\r\n  border-radius: ${(props) => props.radius || \"0px\"};\r\n  text-transform: ${(props) => props.textTransform || \"initial\"};\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${(props) => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${(props) =>\r\n      props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${(props) => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n\r\n  & > div {\r\n    display: flex;\r\n  }\r\n`;\r\n\r\nexport const Showoff = styled.div`\r\n  position: absolute;\r\n  right: ${(props) => props.right || \"auto\"};\r\n  left: ${(props) => props.left || \"auto\"};\r\n  bottom: ${(props) => props.bottom || \"auto\"};\r\n  top: ${(props) => props.top || \"auto\"};\r\n  transform: ${(props) => props.transform || \"initial\"};\r\n  opacity: ${(props) => props.opacity || \"initial\"};\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${(props) =>\r\n      (props.tabletAlign\r\n        ? props.tabletAlign\r\n        : props.align\r\n        ? props.align\r\n        : \"center\") || \"center\"};\r\n\r\n    right: ${(props) =>\r\n      (props.tabletRight\r\n        ? props.tabletRight\r\n        : props.right\r\n        ? props.right\r\n        : \"auto\") || \"auto\"};\r\n    left: ${(props) =>\r\n      (props.tabletLeft\r\n        ? props.tabletLeft\r\n        : props.left\r\n        ? props.left\r\n        : \"auto\") || \"auto\"};\r\n    top: ${(props) =>\r\n      (props.tabletTop ? props.tabletTop : props.top ? props.top : \"auto\") ||\r\n      \"auto\"};\r\n    bottom: ${(props) =>\r\n      (props.tabletBottom\r\n        ? props.tabletBottom\r\n        : props.bottom\r\n        ? props.bottom\r\n        : \"auto\") || \"auto\"};\r\n\r\n    transform: ${(props) =>\r\n      (props.tabletTransform\r\n        ? props.tabletTransform\r\n        : props.transform\r\n        ? props.transform\r\n        : \"auto\") || \"auto\"};\r\n\r\n    opacity: ${(props) =>\r\n      (props.tabletOpacity\r\n        ? props.tabletOpacity\r\n        : props.opacity\r\n        ? props.opacity\r\n        : \"auto\") || \"initial\"};\r\n  }\r\n`;\r\n\r\nexport const FormSubmision = styled.form`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n  align-items: ${(props) => props.align || \"center\"};\r\n  justify-content: ${(props) => props.justify || \"center\"};\r\n  font-weight: ${(props) => props.weight || 400};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  text-transform: ${(props) => props.textTransform || \"inherit\"};\r\n  color: ${(props) => props.color || \"#fff\"};\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  margin: ${(props) => props.margin || \"0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  border: ${(props) => props.border || \"none\"};\r\n  border-radius: ${(props) => props.radius || \"0px\"};\r\n  position: relative;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: ${(props) => props.display || \"flex\"};\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n  align-items: ${(props) => props.align || \"center\"};\r\n  justify-content: ${(props) => props.justify || \"center\"};\r\n  font-weight: ${(props) => props.weight || 300};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  text-transform: ${(props) => props.textTransform || \"inherit\"};\r\n  color: ${(props) => props.color || \"#000\"};\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  margin: ${(props) => props.margin || \"0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"inherit\"};\r\n  border: ${(props) => props.border || \"none\"};\r\n  border-radius: ${(props) => props.radius || \"0px\"};\r\n  outline: ${(props) => props.outline || \"none\"};\r\n  overflow: ${(props) => props.overflow || \"hidden\"};\r\n  position: relative;\r\n  visibility: ${(props) => props.visibility || \"\"};\r\n  width: ${(props) => props.maxllength};\r\n  height: ${(props) => props.height};\r\n\r\n  cursor: ${(props) => props.cursor || \"initial\"};\r\n  pointer: ${(props) => props.hand || \"initial\"};\r\n\r\n  &:focus {\r\n    border: ${(props) => props.focusBorder || \"\"};\r\n  }\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`;\r\n\r\nexport const TextField = styled.textarea`\r\n  display: flex;\r\n  flex: ${(props) => props.flex || \"initial\"};\r\n  align-self: ${(props) => props.self || \"auto\"};\r\n  align-items: ${(props) => props.align || \"center\"};\r\n  justify-content: ${(props) => props.justify || \"center\"};\r\n  font-weight: ${(props) => props.weight || 300};\r\n  font-size: ${(props) => props.size || \"inherit\"};\r\n  text-transform: ${(props) => props.textTransform || \"inherit\"};\r\n  color: ${(props) => props.color || \"#000\"};\r\n  background: ${(props) => props.bg || \"transparent\"};\r\n  margin: ${(props) => props.margin || \"0px\"};\r\n  padding: ${(props) => props.padding || \"0px\"};\r\n  letter-spacing: ${(props) => props.spacing || \"inherit\"};\r\n  border: ${(props) => props.border || \"none\"};\r\n  border-radius: ${(props) => props.radius || \"0px\"};\r\n  outline: ${(props) => props.outline || \"none\"};\r\n  overflow: ${(props) => props.overflow || \"hidden\"};\r\n  position: relative;\r\n  resize: vertical;\r\n\r\n  &:focus {\r\n    border: ${(props) => props.focusBorder || \"\"};\r\n  }\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useDeviceWidthCheck(deviceWidth: number) {\r\n    const [width, setWidth] = useState<number>(window.innerWidth);\r\n  \r\n    function handleWindowSizeChange() {\r\n        setWidth(window.innerWidth);\r\n    }\r\n  \r\n    useEffect(() => {\r\n        window.addEventListener('resize', handleWindowSizeChange);\r\n        return () => {\r\n            window.removeEventListener('resize', handleWindowSizeChange);\r\n        }\r\n    }, []);\r\n  \r\n    return width <= deviceWidth;\r\n}\r\n  ","import { InjectedConnector } from '@web3-react/injected-connector'\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { PortisConnector } from '@web3-react/portis-connector'\r\n// import { NetworkConnector } from '@web3-react/network-connector'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\n// import { WalletLinkConnector } from '@web3-react/walletlink-connector'\r\nimport { LedgerConnector } from '@web3-react/ledger-connector'\r\nimport { TrezorConnector } from '@web3-react/trezor-connector'\r\nimport { LedgerHQFrameConnector } from \"@epnsproject/sdk-ledgerlive\";\r\n// import { FrameConnector } from '@web3-react/frame-connector'\r\n// import { AuthereumConnector } from '@web3-react/authereum-connector'\r\n// import { FortmaticConnector } from '@web3-react/fortmatic-connector'\r\n// import { SquarelinkConnector } from '@web3-react/squarelink-connector'\r\n// import { TorusConnector } from '@web3-react/torus-connector'\r\n\r\nrequire('dotenv').config();\r\nconst SUPPORTED_CHAIN_IDS = [...envConfig.allowedNetworks];\r\nconst POLLING_INTERVAL = 12000;\r\nconst CORE_CHAIN_ID = envConfig.coreContractChain;\r\nconst CORE_RPC = envConfig.coreRPC;\r\n\r\nconst RPC_URLS: { [chainId: number]: string } = {\r\n  [CORE_CHAIN_ID]: envConfig.coreRPC\r\n}\r\n\r\nexport const injected = new InjectedConnector({ supportedChainIds: SUPPORTED_CHAIN_IDS })\r\n\r\n\r\n// Only receive messages from platform.apps.ledger.com\r\nexport const ledgerLiveConnector = new LedgerHQFrameConnector();\r\n\r\nexport const walletconnect = new WalletConnectConnector({\r\n  rpc: { ...RPC_URLS },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: POLLING_INTERVAL\r\n})\r\n//\r\n// export const walletlink = new WalletLinkConnector({\r\n//   url: RPC_URLS[1],\r\n//   appName: 'web3-react example'\r\n// })\r\n//\r\nexport const ledger = new LedgerConnector({ chainId: CORE_CHAIN_ID, url: CORE_RPC, pollingInterval: POLLING_INTERVAL })\r\n\r\nexport const trezor = new TrezorConnector({\r\n  chainId: CORE_CHAIN_ID,\r\n  url: CORE_RPC,\r\n  pollingInterval: POLLING_INTERVAL,\r\n  manifestEmail: 'support@epns.io',\r\n  manifestAppUrl: 'https://staging.epns.io'\r\n})\r\n\r\n//\r\n// export const frame = new FrameConnector({ supportedChainIds: [1] })\r\n//\r\n// export const authereum = new AuthereumConnector({ chainId: 42 })\r\n//\r\n// export const fortmatic = new FortmaticConnector({ apiKey: process.env.FORTMATIC_API_KEY as string, chainId: 4 })\r\n\r\nexport const portis = new PortisConnector({ dAppId: 'cfefa032-9afd-4833-bfb4-2b0cb7ec3413' as string, networks: [CORE_CHAIN_ID] })\r\n\r\n// export const squarelink = new SquarelinkConnector({\r\n//   clientId: process.env.SQUARELINK_CLIENT_ID as string,\r\n//   networks: [1, 100]\r\n// })\r\n\r\n// export const torus = new TorusConnector({ chainId: 1 })\r\n","// Usage:\r\n//   create component file (e.g. BlockiesIdenticon.js) using uncommented code below\r\n//   npm install blockies-identicon\r\n//   in the file you want to use the component (e.g. BlockiesIdenticon.js):\r\n//   import Blockies from \"blockies/react-component\";\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\n\r\nimport React from 'react';\r\nimport blockies from \"./blockies\";\r\n\r\nexport default class BlockiesIdenticon extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  getOpts () {\r\n    return {\r\n      seed: this.props.opts.seed || \"foo\",\r\n      color: this.props.opts.color || \"#dfe\",\r\n      bgcolor: this.props.opts.bgcolor || \"#a71\",\r\n      size: this.props.opts.size || 15,\r\n      scale: this.props.opts.scale || 3,\r\n      spotcolor: this.props.opts.spotcolor || \"#000\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.draw();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    // Check for prop change\r\n    if (this.props.seed !== prevProps.seed) {\r\n      this.draw();\r\n    }\r\n  }\r\n  draw() {\r\n    blockies.render({\r\n      seed: this.props.opts.seed,\r\n      size: this.props.opts.size,\r\n      scale: this.props.opts.scale\r\n    }, this.canvas);\r\n  }\r\n  render() {\r\n    return React.createElement(\"canvas\", {ref: canvas => this.canvas = canvas});\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport styled from 'styled-components';\r\n\r\nimport { Oval } from 'react-loader-spinner'\r\nimport Blockies from \"primaries/BlockiesIdenticon\";\r\n\r\n// Create Header\r\nconst Profile = () => {\r\n  const { error, account, library } = useWeb3React();\r\n\r\n  const [address, setAddress] = React.useState('');\r\n  const [ens, setENS] = React.useState('');\r\n  const [ensFetched, setENSFetched] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (account && account != '') {\r\n      // Check if the address is the same\r\n      if (address !== account) {\r\n        setENS('');\r\n        setENSFetched(false);\r\n\r\n        // get ens\r\n        library\r\n          .lookupAddress(account).then(function (name) {\r\n            setENS(name);\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n          .catch(() => {\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n      }\r\n\r\n    }\r\n  }, [account]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <>\r\n      {account && account !== '' && !error &&\r\n        <Container>\r\n          <Blocky>\r\n            <BlockyInner>\r\n              <Blockies seed={account.toLowerCase()} opts={{ seed: account.toLowerCase(), size: 7, scale: 7 }} />\r\n            </BlockyInner>\r\n          </Blocky>\r\n          <Wallet>\r\n            {!ensFetched &&\r\n              <Oval\r\n                color=\"#FFF\"\r\n                height={16}\r\n                width={16}\r\n              />\r\n            }\r\n            {ensFetched && ens &&\r\n              <>{ens}</>\r\n            }\r\n            {ensFetched && !ens &&\r\n              <>{account.substring(0, 6)}.....{account.substring(account.length - 6)}</>\r\n            }\r\n          </Wallet>\r\n        </Container>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  margin: 0;\r\n  padding: 0;\r\n  background: none;\r\n  border: 0;\r\n  outline: 0;\r\n  justify-content: flex-start;\r\n  flex: 1,\r\n  flex-direction: row;\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst Blocky = styled.div`\r\n  position: relative;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 100%;\r\n  overflow: hidden;\r\n  transform: scale(0.85);\r\n  outline-width: 2px;\r\n  outline-color: rgba(225,225,225,1);\r\n`\r\n\r\nconst BlockyInner = styled.div`\r\n`\r\n\r\nconst Wallet = styled.span`\r\n  margin: 0px 10px;\r\n  padding: 8px 15px;\r\n  height: 16px;\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border-radius: 15px;\r\n  background: rgb(226,8,128);\r\n  background: linear-gradient(107deg, rgba(226,8,128,1) 30%, rgba(103,76,159,1) 70%, rgba(53,197,243,1) 100%);\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport styled, { css, keyframes } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\n// Create Header\r\nfunction Bell({ badgeCount, bellPressedCB, width, height }) {\r\n  const [badge, setBadge] = React.useState(0);\r\n  const [ring, setRing] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    // Set new badge count and ring the bell\r\n    setBadge(badgeCount);\r\n\r\n    if (badge > 0) {\r\n      setResetRinger();\r\n    }\r\n  }, [badgeCount]);\r\n\r\n  const setResetRinger = () => {\r\n    setRing(true);\r\n\r\n    setTimeout(() => {\r\n        setRing(false)\r\n    }, 500);\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      onClick={() => {\r\n        if (bellPressedCB) {bellPressedCB();}\r\n      }}\r\n      width={width}\r\n      height={height}\r\n    >\r\n      <BellImage ring={ring} src=\"./bell.png\" className=\"tadaaa\" ringme={ring} width={width} height={height} />\r\n      <BellImageAbs src=\"./bellball.png\" width={width} height={height} />\r\n      <BellImageAbs src=\"./ring.png\" width={width} height={height} />\r\n      {badge != 0 &&\r\n        <AnimateOnChange\r\n          animationIn=\"fadeIn\"\r\n          animationOut=\"fadeOut\"\r\n          durationOut={200}\r\n        >\r\n          <Badge>{badge}</Badge>\r\n        </AnimateOnChange>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  background: transparent;\r\n  border: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0px;\r\n  position: relative;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst tadaaa = keyframes`\r\n  0% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n\r\n  10%, 20% {\r\n    -webkit-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  30%, 50%, 70%, 90% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n  }\r\n\r\n  40%, 60%, 80% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n`;\r\n\r\nconst BellImage = styled.img`\r\n  position: absolute;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.ringme && css`\r\n    animation: ${tadaaa} 1s ease-out;\r\n  `};\r\n\r\n\r\n`\r\n\r\nconst BellImageAbs = styled(BellImage)`\r\n  left: 0,\r\n`\r\n\r\nconst Badge = styled.span`\r\n  position: absolute;\r\n  font-size: 10px;\r\n  color: #fff;\r\n  padding: 2px 4px;\r\n  border-radius: 100%;\r\n  background: rgba(208.0, 44.0, 30.0, 1.0);\r\n  top: 0px;\r\n  left: 5px;\r\n  font-weight: bold;\r\n`\r\n\r\n// Export Default\r\nexport default Bell;\r\n","export default {\r\n    LINKS: {\r\n      IOS_APP: 'https://apps.apple.com/app/ethereum-push-service-epns/id1528614910',\r\n      ANDROID_APP: 'https://play.google.com/store/apps/details?id=io.epns.epns&hl=mr&gl=US'\r\n    },\r\n  \r\n    // For Async Storage --> Represents Key and some Constants\r\n    STORAGE: {\r\n  \r\n    },\r\n  \r\n    CONSTANTS: {\r\n      HEADER_HEIGHT: 70,\r\n      LEFT_BAR_WIDTH: 260,\r\n\r\n      NAVBAR_SECTIONS: {\r\n        PRIMARY: 1,\r\n        SECONDARY: 2,\r\n        MOBILE: 3\r\n      },\r\n\r\n      NAVBAR_IDENTIFIERS: {\r\n        CREATE_CHANNEL: 1,\r\n        COMMUNICATE_TAB: 2,\r\n        DEVELOPER_TAB: 3,\r\n      }\r\n    },\r\n  \r\n    ADJUSTMENTS: {\r\n    },\r\n  \r\n    COLORS: {\r\n      PRIMARY: 'rgba(27.0, 150.0, 227.0, 1.0)',\r\n  \r\n      LINKS: 'rgba(20.0, 126.0, 251.0, 1.0)',\r\n  \r\n      GRADIENT_PRIMARY: 'rgba(226.0, 8.0, 128.0, 1.0)',\r\n      GRADIENT_SECONDARY: 'rgba(53.0, 197.0, 243.0, 1.0)',\r\n      GRADIENT_THIRD: 'rgba(103.0, 76.0, 159.0, 1.0)',\r\n  \r\n      TRANSPARENT: 'transparent',\r\n  \r\n      WHITE: 'rgba(255.0, 255.0, 255.0, 1.0)',\r\n      DARK_WHITE: 'rgba(255.0, 255.0, 255.0, 0.75)',\r\n      MID_WHITE: 'rgba(255.0, 255.0, 255.0, 0.5)',\r\n      LIGHT_WHITE: 'rgba(255.0, 255.0, 255.0, 0.25)',\r\n  \r\n      SLIGHTER_GRAY: 'rgba(250.0, 250.0, 250.0, 1)',\r\n      SLIGHT_GRAY: 'rgba(231.0, 231.0, 231.0, 1)',\r\n      LIGHT_GRAY: 'rgba(225.0, 225.0, 225.0, 1)',\r\n      MID_GRAY: 'rgba(200.0, 200.0, 200.0, 1)',\r\n      DARK_GRAY: 'rgba(160.0, 160.0, 160.0, 1)',\r\n      DARKER_GRAY: 'rgba(100.0, 100.0, 100.0, 1)',\r\n  \r\n      LIGHT_BLACK_TRANS: 'rgba(0.0, 0.0, 0.0, 0.1)',\r\n      SEMI_MID_BLACK_TRANS: 'rgba(0.0, 0.0, 0.0, 0.25)',\r\n      MID_BLACK_TRANS: 'rgba(0.0, 0.0, 0.0, 0.5)',\r\n      DARK_BLACK_TRANS: 'rgba(0.0, 0.0, 0.0, 0.75)',\r\n      BLACK: 'rgba(0.0, 0.0, 0.0, 1.0)',\r\n  \r\n      CONFIRM_GREEN: 'rgba(50.0, 205.0, 50.0, 1.0)',\r\n  \r\n      CONFIRM: 'rgba(34.0, 139.0, 34.0, 1.0)',\r\n      WARNING: 'rgba(255.0, 153.0, 0.0, 1.0)',\r\n  \r\n      SUBLIME_RED: 'rgba(237.0, 59.0, 72.0, 1.0)',\r\n      BADGE_RED: 'rgba(208.0, 44.0, 30.0, 1.0)',\r\n      LIGHT_MAROON: 'rgba(159.0, 0.0, 0.0, 1.0)',\r\n      LIGHTER_MAROON: 'rgba(129.0, 0.0, 0.0, 1.0)',\r\n    },\r\n  };\r\n  ","import React from \"react\";\r\nimport { BiChevronDown, BiChevronUp } from 'react-icons/bi';\r\n\r\nimport styled, { useTheme, css } from \"styled-components\";\r\nimport {ItemH, Span, Anchor, RouterLink, Image} from 'primaries/SharedStyling';\r\n\r\nimport { themeDark } from \"config/Themization\";\r\nimport GLOBALS from \"config/Globals\";\r\n\r\n// Create Header\r\nfunction NavigationButton({ item, data, sectionID, active }) {\r\n  const theme = useTheme();\r\n\r\n  let SelectedIcon;\r\n  let RouteLogic;\r\n  let definedMargin;\r\n\r\n  switch(sectionID) {\r\n    case GLOBALS.CONSTANTS.NAVBAR_SECTIONS.MOBILE:\r\n      SelectedIcon = LeftBarPrimaryItemIcon;\r\n      definedMargin = \"5px\";\r\n      break;\r\n    case GLOBALS.CONSTANTS.NAVBAR_SECTIONS.SECONDARY:\r\n      SelectedIcon = item.isSection ? LeftBarSecondarySectionIcon : LeftBarSecondaryItemIcon;\r\n      definedMargin = item.isSection ? \"0px\" : \"5px\";\r\n      break;\r\n    default:\r\n      SelectedIcon = item.isSection ? LeftBarPrimarySectionIcon : LeftBarPrimaryItemIcon;\r\n      definedMargin = item.isSection ? \"0px\" : \"5px\";\r\n  }\r\n\r\n  if (data.isRoute) {\r\n    RouteLogic = RouterLink;\r\n  }\r\n  else {\r\n    RouteLogic = Anchor;\r\n  }\r\n\r\n  return (\r\n    <RouteLogic\r\n      style={{display: data.name==='Hide'? 'none': 'block'}}\r\n      flex=\"1\"\r\n      title={`${data.title}`}\r\n      to={`${data.href ? data.href : '#'}`}\r\n      href={`${data.href ? data.href : '#'}`}\r\n      alt={`${data.alt}`}\r\n      target={data.isRoute ? null : data.newTab ? \"_blank\" : \"self\"}\r\n      disabled={data.disabled}\r\n      hoverBG={theme.leftBarHoverColor}\r\n      radius=\"12px\"\r\n      align=\"stretch\"\r\n      padding=\"10px\"\r\n      margin={definedMargin}\r\n      active={active}\r\n      className={data?.name?.toLowerCase()}\r\n    >\r\n      <ItemH\r\n          align=\"center\"\r\n      >\r\n          <SelectedIcon\r\n            src={`./${data.src}`}\r\n            margin=\"0 5px\"\r\n            alt={`${data.alt}`}\r\n            active={active}\r\n          />\r\n          \r\n          <Span \r\n            flex=\"1\" \r\n            weight=\"400\"\r\n            spacing=\"0\"\r\n            margin=\"0 5px\"\r\n            color={theme.leftBarFontColor}\r\n          >\r\n            {data.name}\r\n          </Span>\r\n          \r\n          {item.hasItems && !item.opened &&\r\n            <BiChevronDown\r\n              color={theme.leftBarFontColor}\r\n            />\r\n          }\r\n\r\n          {item.hasItems && item.opened &&\r\n            <BiChevronUp\r\n              color={theme.leftBarFontColor}\r\n            />\r\n          }\r\n      </ItemH>\r\n    </RouteLogic>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst InheritedSectionGroupIcon = styled(Image)`\r\n  height: 32px;\r\n  width: 32px;\r\n  margin: 0 5px;\r\n\r\n  filter: ${(props) => props.active ? \"brightness(1)\" : props.theme === themeDark ? \"brightness(0) invert(1)\" : \"brightness(0)\"};\r\n  opacity: ${(props) => props.active ? \"1\" : props.theme === themeDark ? \"0.5\" : \"0.25\"};\r\n\r\n  transition: transform .1s ease-out;\r\n  ${ props => props.active && css`\r\n    transform: scale(1.1) translate(0px, 0px);\r\n  `};\r\n`\r\n\r\nconst InheritedSectionItemIcon = styled(Image)`\r\n  height: 16px;\r\n  width: 16px;\r\n  margin: 0 5px;\r\n\r\n  filter: ${(props) => props.active ? \"brightness(1)\" : props.theme === themeDark ? \"brightness(0) invert(1)\" : \"brightness(0)\"};\r\n  opacity: ${(props) => props.active ? \"1\" : props.theme === themeDark ? \"0.5\" : \"0.25\"};\r\n\r\n  transition: transform .1s ease-out;\r\n  ${ props => props.active && css`\r\n    transform: scale(1.25) translate(0px, 0px);\r\n  `};\r\n\r\n`\r\n\r\nconst LeftBarPrimarySectionIcon = styled(InheritedSectionGroupIcon)`\r\n\r\n`\r\n\r\nconst LeftBarPrimaryItemIcon = styled(InheritedSectionItemIcon)`\r\n\r\n`\r\n\r\n\r\nconst LeftBarSecondarySectionIcon = styled(InheritedSectionGroupIcon)`\r\n  height: 16px;\r\n  width: 16px;\r\n`\r\n\r\nconst LeftBarSecondaryItemIcon = styled(InheritedSectionItemIcon)`\r\n\r\n`\r\n\r\n// Export Default\r\nexport default NavigationButton;\r\n","import React, { createContext, useState } from 'react'\r\n\r\nexport const NavigationContext = createContext({\r\n  navigationSetup: null,\r\n  setNavigationSetup: (value: any) => {}\r\n});\r\n\r\nconst NavigationContextProvider = (props) => {\r\n  const [navigationSetup, setNavigationSetup] = useState(null);\r\n  \r\n  return (\r\n    <NavigationContext.Provider value={{ navigationSetup, setNavigationSetup }}>\r\n      {props.children}\r\n    </NavigationContext.Provider>\r\n  )\r\n}\r\n\r\nexport default NavigationContextProvider;","import React, { useContext } from \"react\";\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\nimport {\r\n  NoEthereumProviderError,\r\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\r\n} from '@web3-react/injected-connector'\r\nimport { Web3Provider } from 'ethers/providers'\r\nimport { hexlify } from \"ethers/utils\";\r\n\r\nimport { DarkModeSwitch } from 'react-toggle-dark-mode';\r\n\r\nimport { AiOutlineMenu, AiOutlineClose } from 'react-icons/ai';\r\n\r\nimport styled, { css, useTheme } from \"styled-components\";\r\nimport {Section, Item, ItemH, Button, Span} from 'primaries/SharedStyling';\r\n\r\nimport Profile from 'primaries/Profile';\r\nimport Bell from 'primaries/Bell';\r\nimport NavigationButton from 'components/NavigationButton';\r\n\r\nimport { NavigationContext } from \"contexts/NavigationContext\";\r\n\r\nimport GLOBALS from \"config/Globals\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\n\r\n// Create Header\r\nfunction Header({ isDarkMode, darkModeToggle }) {\r\n  // Get theme\r\n  const theme = useTheme();\r\n\r\n  // Get Web3 Context\r\n  const context = useWeb3React<Web3Provider>()\r\n\r\n  const { navigationSetup } = useContext(NavigationContext)\r\n\r\n  const { active, error } = useWeb3React();\r\n  const { deactivate } = context\r\n\r\n  const [showLoginControls, setShowLoginControls] = React.useState(false);\r\n\r\n  // Handle Nav Bar\r\n  const [showNavBar, setShowNavBar] = React.useState(false);\r\n\r\n  // Handle Header Tag\r\n  const [ headerTag, setHeaderTag ] = React.useState(null);\r\n\r\n  // Get Location\r\n  const location = useLocation();\r\n\r\n  React.useEffect(() => {\r\n    // runs when navigation setup is updated, will run on init\r\n    updateHeaderTag(location)\r\n  }, [navigationSetup])\r\n\r\n  // Change text based on change of location\r\n  React.useEffect(() => {\r\n    // runs on location, i.e. route, change\r\n    updateHeaderTag(location)\r\n  }, [location])\r\n\r\n  // handle header tag update\r\n  const updateHeaderTag = (location) => {\r\n    if (navigationSetup) {\r\n      Object.entries(navigationSetup.navigation).forEach(([key, value]) => {\r\n        const item = navigationSetup.navigation[key];\r\n        if (location.pathname === item.data.href) {\r\n          setHeaderTag(item.data.headerTag);\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\nasync function handleChangeNetwork(){\r\nconst chainIds = envConfig.allowedNetworks;\r\n  if (!chainIds.includes(window.ethereum.networkVersion)) {\r\n        try {\r\n          await window.ethereum.request({\r\n            method: 'wallet_switchEthereumChain',\r\n            params: [{ chainId: hexlify(envConfig.coreContractChain) }]\r\n          });\r\n        } catch (err) {\r\n          console.error(err);\r\n        }\r\n      }\r\n}\r\n\r\n  // handle error functions\r\n  function getErrorMessage(error: Error) {\r\n    if (error instanceof NoEthereumProviderError) {\r\n      return 'Web3 not enabled, install MetaMask on desktop or visit from a dApp browser on mobile'\r\n    } else if (error instanceof UnsupportedChainIdError) {\r\n      handleChangeNetwork();\r\n      if(envConfig.coreContractChain === 42)\r\n      return \"Unsupported Network, please connect to the Ethereum Kovan network or Polygon Mumbai network\"\r\n      else \r\n      return \"Unsupported Network, please connect to the Ethereum Mainnet network\"\r\n    } else if (\r\n      error instanceof UserRejectedRequestErrorInjected\r\n    ) {\r\n      return 'Please authorize this website to access the dApp'\r\n    } else {\r\n      console.error(error)\r\n      return 'An unknown error occurred. Check the console for more details'\r\n    }\r\n  }\r\n\r\n  const bellPressed = () => {\r\n    setShowLoginControls(!showLoginControls);\r\n  }\r\n\r\n  const disconnect = () => {\r\n    setShowLoginControls(false);\r\n    deactivate();\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      direction=\"row\"\r\n      padding=\"0px 15px\"\r\n    >\r\n      \r\n      <ItemH\r\n        justify=\"flex-start\"\r\n        flex=\"0\"\r\n      >\r\n        <RightBarContainer\r\n          justify=\"flex-start\"\r\n          flex=\"0\"\r\n        >\r\n          <RightBarDesktop\r\n            justify=\"flex-start\"\r\n            flex=\"0\"\r\n          >\r\n            {active && !error &&\r\n              <Profile />\r\n            }\r\n            {!active &&\r\n              <Logo src=\"epns.png\" />\r\n            }\r\n          </RightBarDesktop>\r\n          \r\n          {active && !error &&\r\n            <RightBarMobile>\r\n              <Button\r\n                bg=\"transparent\"\r\n                padding=\"5px\"\r\n                radius=\"4px\"\r\n                onClick={() => {setShowNavBar(!showNavBar)}}\r\n              >\r\n                <AiOutlineMenu size={30} color={theme.headerIconsBg}/>\r\n              </Button>\r\n            </RightBarMobile>\r\n          }\r\n        </RightBarContainer>\r\n        \r\n        {navigationSetup && showNavBar && active && !error &&\r\n          <NavMenuContainer\r\n            tabletAlign=\"flex-start\"\r\n          >\r\n            <NavMenu>\r\n              <Profile />\r\n\r\n              <NavMenuInner\r\n                tabletAlign=\"flex-start\"\r\n              >\r\n                {Object.keys(navigationSetup.navigation).map(function(key) {\r\n                  return (\r\n                    <Item\r\n                      onClick={() => {setShowNavBar(!showNavBar)}}\r\n                    >\r\n                      <NavigationButton\r\n                        item={navigationSetup.navigation[key]}\r\n                        data={navigationSetup.navigation[key].data}\r\n                        sectionID={GLOBALS.CONSTANTS.NAVBAR_SECTIONS.MOBILE}\r\n                        active={navigationSetup.navigation[key].active}\r\n                      />\r\n                    </Item>\r\n                  );\r\n                })}\r\n              </NavMenuInner>\r\n            </NavMenu>\r\n\r\n            <Item\r\n              position=\"absolute\"\r\n              top=\"15px\"\r\n              right=\"5px\"\r\n            >\r\n              <Button\r\n                bg=\"transparent\"\r\n                padding=\"5px\"\r\n                radius=\"4px\"\r\n                onClick={() => {setShowNavBar(!showNavBar)}}\r\n              >\r\n                <AiOutlineClose size={30} color={theme.headerIconsBg}/>\r\n              </Button>\r\n            </Item>\r\n\r\n          </NavMenuContainer>\r\n        }\r\n      </ItemH>\r\n\r\n      <ItemH\r\n        justify=\"flex-end\"\r\n      >\r\n        {headerTag && active && !error &&\r\n          <HeaderTag\r\n            align=\"flex-start\"\r\n            overflow=\"hidden\"\r\n            margin=\"0px 5px\"\r\n          >\r\n            <Span\r\n              textTransform=\"uppercase\"\r\n              spacing=\"0.1em\"\r\n              weight=\"normal\"\r\n              padding=\"8px 15px\"\r\n              bg={!isDarkMode ? headerTag.light.bg : headerTag.dark.bg}\r\n              color={!isDarkMode ? headerTag.light.fg : headerTag.dark.fg}\r\n            >\r\n              {headerTag.title}\r\n            </Span>\r\n          </HeaderTag>\r\n        }\r\n        \r\n\r\n       \r\n           \r\n        {active && !error &&\r\n          <Bell\r\n            badgeCount={0}\r\n            bellPressedCB={bellPressed}\r\n            width={32}\r\n            height={32}\r\n          />\r\n        }\r\n         <DarkModeSwitch\r\n              style={{ margin: '0 1rem' }}\r\n              checked={isDarkMode}\r\n              onChange={darkModeToggle}\r\n              size={24}\r\n              sunColor=\"#ddd\"\r\n            />\r\n\r\n        {showLoginControls &&\r\n          <Item\r\n            position=\"absolute\"\r\n          >\r\n            <Button\r\n              bg=\"#000\"\r\n              size=\"12px\"\r\n              spacing=\"0.2em\"\r\n              textTransform=\"uppercase\"\r\n              weight=\"600\"\r\n              radius=\"20px\"\r\n              onClick={disconnect}\r\n            >\r\n              Disconnect\r\n            </Button>\r\n          </Item>\r\n        }\r\n\r\n        <ItemH\r\n          justify=\"flex-end\"\r\n          flex=\"initial\"\r\n        >\r\n          {!!error &&\r\n            <PrimaryTheme>{getErrorMessage(error)}</PrimaryTheme>\r\n          }\r\n          {!active && !error &&\r\n            <ThirdTheme>Please connect to a Web3 Network</ThirdTheme>\r\n          }\r\n          <Connection phase={active ? 'active' : error ? 'error' : 'waiting'} />\r\n        </ItemH>\r\n      </ItemH>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// CSS Styles\r\nconst Container = styled(Section)`\r\n  background: ${props => props.theme.headerBg};\r\n  border-bottom: 1px solid ${props => props.theme.sectionBorderBg};\r\n  height: ${GLOBALS.CONSTANTS.HEADER_HEIGHT}px;\r\n`\r\n\r\nconst Logo = styled.img`\r\n  height: 40px;\r\n`\r\n\r\nconst RightBarContainer = styled(ItemH)`\r\n\r\n`\r\n\r\nconst RightBarDesktop = styled(ItemH)`\r\n  @media (max-width: 992px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst RightBarMobile = styled(ItemH)`\r\n  margin: 5px 5px 5px -5px;\r\n  \r\n  @media (min-width: 993px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst NavMenuContainer = styled(Item)`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  z-index: 1;\r\n  align-items: flex-start;\r\n\r\n  background: ${props => props.theme.navMenuBg};\r\n  backdrop-filter: blur(30px);\r\n  z-index: 11;\r\n`\r\n\r\nconst NavMenu = styled(Item)`\r\n  align-items: stretch;\r\n  justify-content: flex-start;\r\n  padding: 10px 10px;\r\n`\r\n\r\nconst NavMenuInner = styled(Item)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  overflow-y: scroll;\r\n  height: calc(100vh - 70px);\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n`\r\n\r\nconst PrimaryTheme = styled(Notice)`\r\n  background: #e20880;\r\n`\r\n\r\nconst ThirdTheme = styled(Notice)`\r\n  background: #674c9f;\r\n`\r\n\r\nconst Connection = styled.span`\r\n  height: 10px;\r\n  width: 10px;\r\n  border-radius: 100%;\r\n  flex-shrink: 0;\r\n\r\n  ${props => props.phase === 'active' && css`\r\n    background: #77DD77;\r\n  `};\r\n\r\n  ${props => props.phase === 'waiting' && css`\r\n    background: #FFAE42;\r\n  `};\r\n\r\n  ${props => props.phase === 'error' && css`\r\n    background: #DC143C;\r\n  `};\r\n`\r\n\r\nconst HeaderTag = styled(Item)`\r\n  flex: 1;\r\n  margin=\"5px 15px 5px 15px\"\r\n\r\n  @media (min-width: 993px) {\r\n    margin: \"5px 10px\";\r\n  }\r\n`\r\n\r\nconst DarkMode = styled(Item)`\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default Header;\r\n","import { themeLight, themeDark } from \"config/Themization\";\r\nimport GLOBALS from \"config/Globals\";\r\n\r\nconst NavigationList = {\r\n    primary: {\r\n      communicate: {\r\n        uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.COMMUNICATE_TAB,\r\n        src: \"svg/communicate.svg\",\r\n        iconFactory: null,\r\n        name: 'Communicate',\r\n        title: 'Communicate Tab',\r\n        alt: 'Communicate Tab Icon',\r\n        href: null,\r\n        newTab: false,\r\n        isRoute: true,\r\n        hasMenuLogic: true,\r\n        opened: true,\r\n  \r\n        drilldown: {\r\n          inbox: {\r\n            src: \"svg/feedbox.svg\",\r\n            iconFactory: null,\r\n            name: 'Inbox',\r\n            title: 'Inbox',\r\n            alt: 'Open Inbox',\r\n            href: '/inbox',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: 'Inbox',\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_PRIMARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          spam: {\r\n            src: \"svg/spam.svg\",\r\n            iconFactory: null,\r\n            name: 'Spam',\r\n            title: 'Spam',\r\n            alt: 'Open Spam',\r\n            href: '/spam',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: 'Spam',\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_PRIMARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },  \r\n          channels: {\r\n            src: \"svg/channel.svg\",\r\n            iconFactory: null,\r\n            name: 'Channels',\r\n            title: 'Browse Channels',\r\n            alt: 'Open Channels',\r\n            href: '/channels',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: 'View Channels',\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          receiveNotifs: {\r\n            src: \"svg/share.svg\",\r\n            iconFactory: null,\r\n            name: 'Receive Notifs',\r\n            title: 'Receive Notifs',\r\n            alt: 'Receive Notifs',\r\n            href: '/receive',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: 'Receive Notifications',\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_THIRD,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n        }\r\n      },\r\n      developer: {\r\n        uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.DEVELOPER_TAB,\r\n        src: \"svg/developer.svg\",\r\n        iconFactory: null,\r\n        name: 'Developer',\r\n        title: 'Check Developer Tab',\r\n        alt: 'Developer Tab Icon',\r\n        href: null,\r\n        newTab: false,\r\n        opened: false,\r\n        isRoute: true,\r\n        hasMenuLogic: true,\r\n  \r\n        drilldown: {\r\n          createChannel: {\r\n            uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.CREATE_CHANNEL,\r\n            src: \"svg/channeladmin.svg\",\r\n            iconFactory: null,\r\n            name: 'Create Channel',\r\n            title: 'Create Channel',\r\n            alt: 'Create Channels / Dashboard',\r\n            href: '/dashboard',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: 'Channel Dashboard',\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          sendNotifs: {\r\n            uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.SEND_NOTIFS,\r\n            src: \"svg/send.svg\",\r\n            iconFactory: null,\r\n            name: 'Send Notifications',\r\n            title: 'Send Notifications',\r\n            alt: 'Send Notifs',\r\n            href: '/send',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: 'Send Notifications',\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          developerGuide: {\r\n            uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.DEVELOPER_GUIDE,\r\n            src: \"svg/tutorial.svg\",\r\n            iconFactory: null,\r\n            name: \"Developer's Guide\",\r\n            title: \"Developer's Guide\",\r\n            alt: \"Developer's Guide\",\r\n            href: 'https://docs.epns.io/',\r\n            newTab: false,\r\n            isRoute: false,\r\n            hasMenuLogic: false,\r\n            headerTag: {\r\n              title: \"Developer's Guide\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          dynamicEnviroment: {\r\n            src: \"svg/network.svg\",\r\n            iconFactory: null,\r\n            name: window.location.hostname == \"app.epns.io\" ? \"Staging dApp\" : \"Prod dApp\",\r\n            title: window.location.hostname == \"app.epns.io\" ? \"Staging dApp\" : \"Prod dApp\",\r\n            alt: window.location.hostname == \"app.epns.io\" ? \"Checkout Staging dApp\" : \"Checkout Prod dApp\",\r\n            href: window.location.hostname == \"app.epns.io\" ? \"https://staging.epns.io\" : \"https://app.epns.io\",\r\n            newTab: false,\r\n            isRoute: false,\r\n            hasMenuLogic: false,\r\n            headerTag: {\r\n              title: \"Various dApp Enviroments\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          // createTestChannel: {\r\n          //   uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.CREATE_TEST_CHANNEL,\r\n          //   src: \"svg/news.svg\",\r\n          //   iconFactory: null,\r\n          //   name: 'Create Test Channel',\r\n          //   title: 'Go To Staging Environment To Create a Test Channel',\r\n          //   alt: 'Create A Test Channel',\r\n          //   href: 'https://staging-app.epns.io/#/dashboard',\r\n          //   newTab: false,\r\n          //   isRoute: false,\r\n          //   hasMenuLogic: true,\r\n          //   headerTag: {\r\n          //     title: 'Create A Test Channel',\r\n          //     light: {\r\n          //       bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n          //       fg: themeLight.headerTagFg,\r\n          //     },\r\n          //     dark: {\r\n          //       bg: themeDark.headerTagBg,\r\n          //       fg: themeDark.headerTagFg,\r\n          //     }\r\n          //   }\r\n          // },\r\n        },\r\n      },\r\n      govern: {\r\n        src: \"svg/govern.svg\",\r\n        iconFactory: null,\r\n        name: 'Govern',\r\n        title: 'Governance Tab',\r\n        alt: 'Governance Tab Icon', \r\n        href: null,\r\n        newTab: false,\r\n        opened: false,\r\n        isRoute: true,\r\n        hasMenuLogic: true,\r\n  \r\n        drilldown: {\r\n          governance: {\r\n            uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.GOVERNANCE,\r\n            src: \"svg/governalt.svg\",\r\n            iconFactory: null,\r\n            name: 'Governance',\r\n            title: 'Governance',\r\n            alt: 'Governance',\r\n            href: '/govern',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: 'Governance',\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          governanceGuide: {\r\n            uid: GLOBALS.CONSTANTS.NAVBAR_IDENTIFIERS.GOVERNANCE_GUIDE,\r\n            src: \"svg/tutorial.svg\",\r\n            iconFactory: null,\r\n            name: \"Learn to Govern\",\r\n            title: \"Learn to Govern\",\r\n            alt: \"Learn to Govern\",\r\n            href: 'https://docs.epns.io/governance/epns-governance/governance-guide',\r\n            newTab: false,\r\n            isRoute: false,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: \"Learn to Govern\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n        },\r\n      },\r\n      incentives: {\r\n        src: \"svg/incentive.svg\",\r\n        iconFactory: null,\r\n        name: 'Incentives',\r\n        title: 'Check Incentives Tab',\r\n        alt: 'Incentives Tab Icon',\r\n        href: null,\r\n        newTab: false,\r\n        opened: false,\r\n        isRoute: true,\r\n        hasMenuLogic: true,\r\n  \r\n        drilldown: {\r\n          yield: {\r\n            src: \"svg/yield.svg\",\r\n            iconFactory: null,\r\n            name: 'Yield Farming',\r\n            title: 'Yield Farming',\r\n            alt: 'Open Yield Farming',\r\n            href: '/yield',\r\n            newTab: false,\r\n            isRoute: true,  \r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: \"Yield Farming\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_PRIMARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          rockstars: {\r\n            src: \"svg/rockstars.svg\",\r\n            iconFactory: null,\r\n            name: 'Rockstars of EPNS',\r\n            title: 'Check Rockstars of EPNS',\r\n            alt: 'Open Inbox',\r\n            href: '/rockstar',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: \"Rockstars NFTs\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          airdrop: {\r\n            src: \"svg/gratitude.svg\",\r\n            iconFactory: null,\r\n            name: 'Gratitude Drop',\r\n            title: 'Check Gratitude Drop',\r\n            alt: 'Open Gratitude Drop',\r\n            href: '/gratitude',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: \"Gratitude Drop\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_THIRD,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },      \r\n        }\r\n      },\r\n      walkthrough: {\r\n        src: \"svg/walkthrough.svg\",\r\n        iconFactory: null,\r\n        name: 'Walkthrough',\r\n        title: 'Check Walkthrough Tab',\r\n        alt: 'Walkthrough Tab Icon',\r\n        href: null,\r\n        newTab: false,\r\n        opened: false,\r\n        isRoute: true,\r\n        hasMenuLogic: true,\r\n  \r\n        drilldown: {\r\n          livewalkthrough: {\r\n            src: \"svg/tutorial.svg\",\r\n            iconFactory: null,\r\n            name: 'Live Walkthrough',\r\n            title: 'Live Walkthrough',\r\n            alt: 'Start Live Walkthrough',\r\n            href: '/live_walkthrough',\r\n            newTab: false,\r\n            isRoute: true,  \r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: \"Live Walkthrough\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          faq: {\r\n            src: \"svg/qna.svg\",\r\n            iconFactory: null,\r\n            name: 'FAQs',\r\n            title: 'Checkout Frequently Asked Questions',\r\n            alt: 'Open FAQs',\r\n            href: '/faq',\r\n            newTab: false,\r\n            isRoute: true,\r\n            hasMenuLogic: true,\r\n            headerTag: {\r\n              title: \"FAQ\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_PRIMARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n          quickGuide: {\r\n            src: \"svg/tutorial.svg\",\r\n            iconFactory: null,\r\n            name: \"Quick Guide\",\r\n            title: \"Quick Guide\",\r\n            alt: \"Quick Guide\",\r\n            href: 'https://getstarted.epns.io/',\r\n            newTab: false,\r\n            isRoute: false,\r\n            hasMenuLogic: false,\r\n            headerTag: {\r\n              title: \"Quick Guide\",\r\n              light: {\r\n                bg: GLOBALS.COLORS.GRADIENT_SECONDARY,\r\n                fg: themeLight.headerTagFg,\r\n              },\r\n              dark: {\r\n                bg: themeDark.headerTagBg,\r\n                fg: themeDark.headerTagFg,\r\n              }\r\n            }\r\n          },\r\n        } \r\n      }\r\n    },\r\n    secondary: {\r\n      latest: {\r\n        src: \"svg/news.svg\",\r\n        iconFactory: null,\r\n        name: 'Latest',\r\n        title: 'Checkout latest news',\r\n        alt: \"Open What's Latest\",\r\n        // href: 'https://staging-dapp.epns.io',\r\n        id:\"olvy-target\",\r\n        newTab: false,\r\n        opened: false,\r\n        isRoute: true,\r\n        isMenuLogic: false,\r\n      },\r\n      support: {\r\n        src: \"svg/support.svg\",\r\n        iconFactory: null,\r\n        name: 'Support',\r\n        title: 'Open a support ticket',\r\n        alt: 'Open Support Ticket',\r\n        href: '/support',\r\n        newTab: false,\r\n        opened: false,\r\n        isRoute: true,\r\n        isMenuLogic: false,\r\n      },\r\n    },\r\n  }\r\n  \r\n  export default NavigationList;\r\n  \r\n","/**\r\n * This file helps us to maintain the state of the user journey tutorial\r\n */\r\n import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n const initialState = {\r\n   run: false,\r\n   stepIndex: 0,\r\n   welcomeNotifs: [],// only welcome notifications\r\n   tutorialContinous: false,\r\n   isCommunicateOpen: false,\r\n   isDeveloperOpen: false,\r\n };\r\n \r\n export const userJourneySlice = createSlice({\r\n     name: \"tutorial\",\r\n     initialState,\r\n     reducers: {\r\n         incrementStepIndex: (state) => {\r\n             state.stepIndex += 1;\r\n         },\r\n         decrementStepIndex: (state) => {\r\n           if (state.stepIndex > 0)\r\n             state.stepIndex -= 1;\r\n         },\r\n         setRun: (state, action) => {\r\n             state.run = action.payload;\r\n         },\r\n         setIndex: (state, action) => {\r\n           state.stepIndex = action.payload;\r\n         },\r\n         addNewWelcomeNotif: (state, action) => {\r\n             state.welcomeNotifs = [{...action.payload}, ...state.welcomeNotifs]\r\n         },\r\n         setWelcomeNotifsEmpty: (state) => {\r\n             state.welcomeNotifs = [];\r\n         },\r\n         setTutorialContinous: (state, action) => {\r\n             state.tutorialContinous = action.payload;\r\n             },\r\n         setCommunicateOpen: (state, action) => {\r\n             state.isCommunicateOpen = action.payload;\r\n             },\r\n            setDeveloperOpen: (state, action) => {\r\n                state.isDeveloperOpen = action.payload;\r\n            },\r\n     }\r\n });\r\n \r\n export const {\r\n     incrementStepIndex,\r\n     decrementStepIndex,\r\n     setRun,\r\n     setIndex,\r\n     addNewWelcomeNotif,\r\n     setWelcomeNotifsEmpty,\r\n     setTutorialContinous,\r\n     setCommunicateOpen,\r\n    setDeveloperOpen\r\n } = userJourneySlice.actions;\r\n \r\n export default userJourneySlice.reducer;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst SEND_NOTIFICATION_STATES = {\r\n    LOADING:0,\r\n    SEND:1,\r\n    HIDE:2\r\n}\r\n\r\nconst initialState = {\r\n    canSend: SEND_NOTIFICATION_STATES.LOADING,\r\n};\r\n\r\n\r\nexport const contractSlice = createSlice({\r\n    name: \"canSend\",\r\n    initialState,\r\n    reducers: {\r\n        setCanSend: (state, action) => {\r\n            state.canSend = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nexport const {\r\n    setCanSend,\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;\r\nexport {SEND_NOTIFICATION_STATES}","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport {Oval} from 'react-loader-spinner';\r\nimport { FaGithub, FaTelegramPlane, FaMedium, FaDiscord, FaTwitter } from 'react-icons/fa';\r\n\r\nimport styled, { useTheme, css } from \"styled-components\";\r\nimport {Section, Item, ItemH, AnchorLink as Anchor } from 'primaries/SharedStyling';\r\n\r\nimport NavigationButton from 'components/NavigationButton';\r\nimport navigationList from \"config/NavigationList\";\r\n\r\nimport { NavigationContext } from \"contexts/NavigationContext\";\r\n\r\nimport GLOBALS from \"config/Globals\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {incrementStepIndex, setDeveloperOpen , setTutorialContinous , setCommunicateOpen} from \"../redux/slices/userJourneySlice\";\r\n\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nimport {setCanSend,SEND_NOTIFICATION_STATES} from \"redux/slices/sendNotificationSlice\";\r\nimport { postReq } from \"api\";\r\nimport {NavigationLoaderButton} from 'components/NavigationLoaderButton';\r\n\r\n// Create Header\r\nfunction Navigation() {\r\n    const { channelDetails, delegatees, aliasDetails: { aliasAddr, aliasEthAddr, isAliasVerified } } = useSelector((state: any) => state.admin);\r\n    const [ refresh, setRefresh ] = useState(false);\r\n\r\n    const { run, stepIndex, isCommunicateOpen, isDeveloperOpen } = useSelector((state: any) => state.userJourney);\r\n    const { navigationSetup, setNavigationSetup } = useContext(NavigationContext);\r\n\r\n    const CORE_CHAIN_ID = envConfig.coreContractChain;\r\n    const { account, chainId } = useWeb3React();\r\n    const onCoreNetwork = CORE_CHAIN_ID === chainId;\r\n\r\n    const theme = useTheme();\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n\r\n    const {canSend} = useSelector(\r\n      (state:any) => {\r\n        return state.canSend\r\n      }\r\n    );\r\n    \r\n  useEffect(() => {\r\n    if (canSend === SEND_NOTIFICATION_STATES.LOADING) return\r\n    if (!navigationSetup) return\r\n\r\n    if (canSend === SEND_NOTIFICATION_STATES.HIDE) {\r\n      navigationSetup.primary[1].data.drilldown[0].data.name = 'Create Channel';\r\n      navigationSetup.primary[1].data.drilldown[1].data.name = 'Hide';\r\n    } else if (canSend === SEND_NOTIFICATION_STATES.SEND) {\r\n      if (channelDetails !== 'unfetched' && channelDetails != null) {\r\n        navigationSetup.primary[1].data.drilldown[0].data.name = channelDetails['name'];\r\n        console.log(navigationSetup);\r\n      } else {\r\n        navigationSetup.primary[1].data.drilldown[0].data.name = \"Create Channel\";\r\n      }\r\n      navigationSetup.primary[1].data.drilldown[1].data.name = 'Send Notifications';\r\n    }\r\n  }, [canSend, channelDetails, navigationSetup]);\r\n\r\n  useEffect(() => {\r\n    if (((aliasAddr || aliasEthAddr) && isAliasVerified) || (delegatees && delegatees.length > 0)) {\r\n      dispatch(setCanSend(SEND_NOTIFICATION_STATES.SEND));\r\n    } else {\r\n      dispatch(setCanSend(SEND_NOTIFICATION_STATES.HIDE));\r\n    }\r\n  }, [channelDetails, aliasAddr, isAliasVerified, delegatees, canSend])\r\n\r\n    // useEffect(()=>{\r\n    //   (async()=>{\r\n    //     const channelAddress = await postReq(\"/channels/_search\", {\r\n    //       \"page\": 1,\r\n    //       \"pageSize\": 1,\r\n    //       \"address\":account,\r\n    //       \"chainId\": chainId,\r\n    //       \"query\":account,\r\n    //       \"op\": \"read\"          \r\n    //     }).then(({ data }) => data.channels);\r\n\r\n    //     if(channelAddress.length === 0){\r\n    //       setLoading(false)\r\n    //       dispatch(setCanSend(SEND_NOTIFICATION_STATES.HIDE))\r\n    //     }else{\r\n    //       dispatch(setCanSend(SEND_NOTIFICATION_STATES.SEND))\r\n    //     }\r\n    //   })()\r\n    // },[channelDetails])\r\n    \r\n    // Similar to componentDidMount and componentDidUpdate:\r\n    useEffect(() => {\r\n      // Set Primary List\r\n      const primaryList = returnTransformedList(navigationList.primary, GLOBALS.CONSTANTS.NAVBAR_SECTIONS.PRIMARY);\r\n\r\n      // Set Secondary List\r\n      const secondaryList = returnTransformedList(navigationList.secondary, GLOBALS.CONSTANTS.NAVBAR_SECTIONS.SECONDARY);\r\n\r\n      // Set Nav List\r\n      let count = -1;\r\n      let navList = returnNavList(navigationList.primary, count);\r\n      navList = Object.assign(navList, returnNavList(navigationList.secondary, Object.keys(navList).length));\r\n      \r\n      const finalList = {\r\n        primary: primaryList,\r\n        secondary: secondaryList,\r\n        navigation: navList\r\n      };\r\n      \r\n      setNavigationSetup(finalList);\r\n    }, []);\r\n    \r\n    const returnTransformedList = (lists, identity) => {\r\n      let transformedList = [];\r\n      let count = -1;\r\n      Object.entries(lists).forEach(([key, value]) => {\r\n        count++;\r\n        let identifier = count.toString();\r\n\r\n        const section = lists[key];\r\n\r\n        transformedList[identifier] = {};\r\n        transformedList[identifier].active = false;\r\n        transformedList[identifier].isSection = true;\r\n        transformedList[identifier].hasMenuLogic = value['hasMenuLogic'];\r\n\r\n        transformedList[identifier].id = identity + \"_\" + key;\r\n        transformedList[identifier].parent = null;\r\n        transformedList[identifier].hasItems = false;\r\n        transformedList[identifier].opened = false;\r\n\r\n        if (location.pathname === section.href) {\r\n            transformedList[identifier].active = true;\r\n        }\r\n        transformedList[identifier].data = value;\r\n\r\n        if (section.hasOwnProperty('drilldown')) {\r\n          let drillcount = -1;\r\n          let drilldownModified = {};\r\n\r\n          Object.entries(section.drilldown).forEach(([drillkey, drillvalue]) => {\r\n            drillcount++;\r\n            let drillIdentifier = drillcount.toString();\r\n            const item = section.drilldown[drillkey];\r\n\r\n            drilldownModified[drillIdentifier] = {};\r\n            drilldownModified[drillIdentifier].active = false;\r\n            drilldownModified[drillIdentifier].isSection = false;\r\n            drilldownModified[drillIdentifier].hasMenuLogic = drillvalue['hasMenuLogic'];\r\n\r\n            drilldownModified[drillIdentifier].id = drillkey;\r\n            drilldownModified[drillIdentifier].parent = transformedList[identifier].id;\r\n            transformedList[identifier].hasItems = true;\r\n\r\n            // Check and expand it if the pathname matches\r\n            if (location.pathname === item.href) {\r\n                transformedList[identifier].active = true;\r\n                transformedList[identifier].opened = true;\r\n\r\n                drilldownModified[drillIdentifier].active = true;\r\n            }\r\n\r\n            drilldownModified[drillIdentifier].data = drillvalue;\r\n          })\r\n\r\n          transformedList[identifier].data.drilldown = drilldownModified;\r\n        }\r\n      });\r\n\r\n      return transformedList;\r\n    }\r\n\r\n    // Location has changed, reflect it accordingly\r\n    React.useEffect(() => {\r\n      if (navigationSetup) {\r\n        // loop and find the item in question\r\n        Object.entries(navigationSetup).forEach(([key, value]) => {\r\n          if (key === \"primary\" || key === \"secondary\") {\r\n            const topSection = navigationSetup[key];\r\n\r\n            Object.entries(topSection).forEach(([key, value]) => {\r\n              const section = topSection[key];\r\n\r\n              if (section.data.hasOwnProperty('drilldown')) {\r\n                Object.entries(section.data.drilldown).forEach(([drillkey, drillvalue]) => {\r\n                  const item = section.data.drilldown[drillkey];\r\n\r\n                  if (location.pathname === item.data.href) {\r\n                    const transformedList = mutateTransformedList(item);\r\n                    setNavigationSetup(transformedList);\r\n                    setRefresh(!refresh);\r\n                    return;\r\n                  }\r\n                });\r\n              }\r\n              else {\r\n                if (location.pathname === section.data.href) {\r\n                  const transformedList = mutateTransformedList(section);\r\n                  setNavigationSetup(transformedList);\r\n                  setRefresh(!refresh);\r\n                  return;\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }, [location, navigationSetup, canSend])\r\n\r\n    const mutateTransformedList = (item, onlyDrilldown?) => {\r\n      // Finally transform the json menulist\r\n      let transformedMenuList = navigationSetup; \r\n\r\n      let activeParentId = null;\r\n      let activeDrilldownId = null; \r\n\r\n      // check if this requires menu Logic\r\n      if (item.hasMenuLogic) {\r\n        // check if it's a section\r\n        if (item.isSection) {\r\n          activeParentId = item.id;\r\n        }\r\n        else {\r\n          // item is drilldown, mark both id \r\n          activeDrilldownId = item.id;\r\n          activeParentId = item.parent;\r\n        }\r\n      }\r\n\r\n      if (activeParentId == null && activeDrilldownId == null) {\r\n        // nothing to do, return back\r\n        return transformedMenuList;\r\n      }\r\n\r\n      // Check and take action on Drop down getting toggled or section doesn't have dropdown menu\r\n      let selectedSectionIsActionable = false;\r\n\r\n      if (activeDrilldownId == null) {\r\n        Object.keys(transformedMenuList).forEach(key => {\r\n          if (key === 'primary' || key === 'secondary') {\r\n            Object.keys(transformedMenuList[key]).forEach(sectionkey => {\r\n              const section = transformedMenuList[key][sectionkey];\r\n              \r\n              if (section.id === activeParentId) {\r\n                transformedMenuList[key][sectionkey].opened = !transformedMenuList[key][sectionkey].opened;\r\n\r\n                if (section.hasItems) {\r\n                  selectedSectionIsActionable = true;\r\n                }\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n\r\n      if (selectedSectionIsActionable || onlyDrilldown) {\r\n        // section had items but activeDrilldownId not set means dropdown toggle\r\n        return transformedMenuList;\r\n      }\r\n      else {\r\n        // menu item is getting selected\r\n        Object.keys(transformedMenuList).forEach(key => {\r\n          if (key === 'primary' || key === 'secondary') {\r\n            Object.keys(transformedMenuList[key]).forEach(sectionkey => {\r\n              const section = transformedMenuList[key][sectionkey];\r\n\r\n              if (section.id !== activeParentId) {\r\n                if (section.active) {\r\n                  transformedMenuList[key][sectionkey].active = false;\r\n                  \r\n                  if (section.hasItems) {\r\n                    // loop and make all false\r\n                    Object.keys(transformedMenuList[key][sectionkey].data.drilldown).forEach(drillkey => {\r\n                      transformedMenuList[key][sectionkey].data.drilldown[drillkey].active = false;\r\n                    })\r\n                  }\r\n                }\r\n              }\r\n              else {\r\n                transformedMenuList[key][sectionkey].active = true;\r\n                \r\n                if (section.hasItems) {\r\n                  // loop and make all false\r\n                  Object.keys(transformedMenuList[key][sectionkey].data.drilldown).forEach(drillkey => {\r\n                    const item = transformedMenuList[key][sectionkey].data.drilldown[drillkey];\r\n\r\n                    if (item.id === activeDrilldownId) {\r\n                      transformedMenuList[key][sectionkey].data.drilldown[drillkey].active = true;\r\n                    }\r\n                    else {\r\n                      transformedMenuList[key][sectionkey].data.drilldown[drillkey].active = false;\r\n                    }\r\n                  })\r\n                }\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n\r\n      return transformedMenuList;\r\n    }\r\n\r\n    const returnNavList = (lists, count) => {\r\n      let transformedList = [];\r\n      \r\n      Object.entries(lists).forEach(([key, value]) => {\r\n        const section = lists[key];\r\n\r\n        // omit parent if drilldown\r\n        if (section.hasOwnProperty('drilldown')) {\r\n          Object.entries(section.drilldown).forEach(([drillkey, drillvalue]) => {\r\n            count++;\r\n            let identifier = count.toString();\r\n\r\n            const item = section.drilldown[drillkey];\r\n\r\n            transformedList[identifier] = {};\r\n            transformedList[identifier].active = false;\r\n            transformedList[identifier].isSection = false;\r\n            transformedList[identifier].id = `${key}_${drillkey}`;\r\n\r\n            // Check and expand it if the pathname matches\r\n            if (location.pathname === item.href) {\r\n              transformedList[identifier].active = true;\r\n            }\r\n            transformedList[identifier].data = drillvalue['data'];\r\n          })\r\n        }\r\n        else {\r\n          count++;\r\n          let identifier = count.toString();\r\n\r\n          transformedList[identifier] = {};\r\n          transformedList[identifier].active = false;\r\n          transformedList[identifier].isSection = true;\r\n          transformedList[identifier].hasItems = false;\r\n          transformedList[identifier].id = key;\r\n\r\n          if (location.pathname === section.href) {\r\n              transformedList[identifier].active = true;\r\n          }\r\n          transformedList[identifier].data = value;\r\n        }\r\n      });\r\n\r\n      return transformedList;\r\n    }\r\n\r\n    // Render main items\r\n    const renderMainItems = (items, sectionID) => {\r\n      let Section;\r\n      let fontSize;\r\n      let secondaryButton=0;\r\n      switch(sectionID) {\r\n        case GLOBALS.CONSTANTS.NAVBAR_SECTIONS.SECONDARY:\r\n          Section = SecondarySection;\r\n          fontSize = \"small\";\r\n          secondaryButton=1;\r\n          break;\r\n        default:\r\n          Section = PrimarySection;\r\n          fontSize = \"normal\";\r\n      }\r\n\r\n      let rendered = (\r\n        Object.keys(items).map(function(key,index) {\r\n          const section = items[key];\r\n          // console.log(section)\r\n          const data = section.data;\r\n          const uid = section.data.uid;\r\n          \r\n          if (uid === 2 && section.opened != isCommunicateOpen)\r\n            dispatch(setCommunicateOpen(section.opened));\r\n          if (uid === 3 && section.opened != isDeveloperOpen)\r\n            dispatch(setDeveloperOpen(section.opened));\r\n          \r\n          let innerRendered = (\r\n            <Section \r\n                key={key}\r\n                flex=\"1\"\r\n                align=\"stretch\"\r\n                size={fontSize}\r\n            >\r\n              {\r\n                (secondaryButton)?\r\n                  (\r\n                    <Item\r\n                    padding=\"10px\"\r\n                    flexBasis=\"100%\"\r\n                    align=\"stretch\"\r\n                    direction=\"row\"\r\n                    overflow=\"hidden\"\r\n                  >\r\n                    <SectionInnerGroupContainer\r\n                      flex=\"1\"\r\n                      align=\"stretch\"\r\n                      bg={theme.leftBarButtonBg}\r\n                      zIndex={2}\r\n                      refresh={refresh}\r\n                      margintop=\"15px\"\r\n                      onClick={() => {\r\n                        // console.log(`Clicked secondary button`);\r\n                        mutateTransformedList(section, true)\r\n                      }}      \r\n                      id={data.id}          \r\n                    >\r\n                      <NavigationButton\r\n                        item={section}\r\n                        data={data}\r\n                        sectionID={sectionID}\r\n                        active={section.active}\r\n                      />\r\n                    </SectionInnerGroupContainer>\r\n                    \r\n                    { \r\n                    section.hasItems \r\n                      ? renderChildItems(\r\n                          data.drilldown, \r\n                          section.opened,\r\n                          GLOBALS.CONSTANTS.NAVBAR_SECTIONS.PRIMARY,\r\n                        )\r\n                      : null\r\n                    }\r\n                  </Item>\r\n                  ):\r\n                  (\r\n                    <Item\r\n                      padding=\"10px\"\r\n                      flexBasis=\"100%\"\r\n                      align=\"stretch\"\r\n                      direction=\"row\"\r\n                      overflow=\"hidden\"\r\n                    >\r\n                      <SectionInnerGroupContainer\r\n                          flex=\"1\"\r\n                          align=\"stretch\"\r\n                          bg={theme.leftBarButtonBg}\r\n                          margintop=\"-10px\"\r\n                          zIndex={2}\r\n                          refresh={refresh}\r\n                          onClick={() => {\r\n                            mutateTransformedList(section, true)\r\n    \r\n                            if(run && ((stepIndex === 1 && uid === 2) || (stepIndex === 16 && uid === 3))){\r\n                              setTimeout(() => {\r\n                                dispatch(incrementStepIndex())\r\n                              }, 500);\r\n                            }\r\n                          }}              \r\n                        >\r\n                        <NavigationButton\r\n                          item={section}\r\n                          data={data}\r\n                          sectionID={sectionID}\r\n                          active={section.active}\r\n                        />\r\n                      </SectionInnerGroupContainer>\r\n                      { \r\n                        section.hasItems \r\n                        ? renderChildItems(\r\n                            data.drilldown, \r\n                            section.opened,\r\n                            GLOBALS.CONSTANTS.NAVBAR_SECTIONS.PRIMARY,\r\n                            index === 1 // send true if this one in Developer Section\r\n                          )\r\n                        : null\r\n                      }\r\n                    </Item>\r\n                  )\r\n                \r\n              }\r\n             \r\n                \r\n\r\n            </Section>\r\n          )\r\n\r\n          return innerRendered;\r\n        })\r\n      )\r\n\r\n      return rendered;\r\n    }\r\n\r\n    // Render Child Items\r\n    const renderChildItems = (drilldown, opened, sectionID, isDevBar=false) => {\r\n      let SectionGroup;\r\n      let SectionItem;\r\n\r\n      switch(sectionID) {\r\n        case GLOBALS.CONSTANTS.NAVBAR_SECTIONS.SECONDARY:\r\n          SectionGroup = PrimarySectionGroup;\r\n          SectionItem = PrimarySectionItem;\r\n          break;\r\n        default:\r\n          SectionGroup = PrimarySectionGroup;\r\n          SectionItem = PrimarySectionItem;\r\n      }\r\n\r\n      let rendered = (\r\n        <SectionGroup\r\n          align=\"stretch\"\r\n          opened={opened}\r\n          refresh={refresh}\r\n        >\r\n          {Object.keys(drilldown).map(function(key) {\r\n            const item = drilldown[key];\r\n            const data = item.data;\r\n            return (\r\n              <SectionItem\r\n                  key={key}\r\n                  flex=\"1\"\r\n                  align=\"stretch\"\r\n                  size=\"small\" \r\n              >\r\n                <SectionInnerItemContainer\r\n                  flex=\"1\"\r\n                  align=\"stretch\"\r\n                  bg={theme.leftBarButtonBg}\r\n                  zIndex={1}\r\n                  refresh={refresh}\r\n                  onClick={() => {\r\n                    if(run && ((stepIndex=== 2 && data.name === \"Channels\") || (stepIndex === 6 && data.name === \"Inbox\")|| (stepIndex === 8 && data.name === \"Spam\") ||  (stepIndex === 10 && data.name === \"Receive Notifs\") ||  (stepIndex === 16 && data.name === \"Create Channel\") ||  (stepIndex === 17 && data.name === \"Developer's Guide\")))\r\n                    { \r\n                      if(stepIndex === 10)dispatch(setTutorialContinous(true));\r\n                      dispatch(incrementStepIndex())\r\n                    }\r\n                    \r\n                  }}\r\n                  >\r\n                  <NavigationButton\r\n                    item={item}\r\n                    data={data}\r\n                    sectionID={sectionID}\r\n                    active={item.active}\r\n                    />\r\n                </SectionInnerItemContainer>\r\n              </SectionItem>\r\n            )\r\n          })}\r\n        </SectionGroup>\r\n      );\r\n\r\n      return rendered;\r\n    }\r\n    \r\n    return (\r\n      <Container direction=\"column\" headerHeight={GLOBALS.CONSTANTS.HEADER_HEIGHT}>\r\n        {!navigationSetup &&\r\n          <Item padding=\"20px\" justify=\"flex-start\">\r\n            <Oval color={theme.leftBarLoaderBg} height={20} width={20} />\r\n          </Item>\r\n        }\r\n        {navigationSetup && Object.keys(navigationSetup).length > 0 &&\r\n          <>\r\n            <Primary>\r\n              {\r\n                renderMainItems(\r\n                  navigationSetup.primary,\r\n                  GLOBALS.CONSTANTS.NAVBAR_SECTIONS.PRIMARY\r\n                )\r\n              }\r\n            </Primary>\r\n            <Footer\r\n              justify=\"flex-end\"\r\n              align=\"strecth\"\r\n            >\r\n              <Secondary\r\n                align=\"stretch\"\r\n                justify=\"flex-end\"\r\n                margin=\"10px 0px 10px 0px\"\r\n              >\r\n                {\r\n                  renderMainItems(\r\n                    navigationSetup.secondary,\r\n                    GLOBALS.CONSTANTS.NAVBAR_SECTIONS.SECONDARY\r\n                  )\r\n                }\r\n              </Secondary>\r\n\r\n              {/* Put social */}\r\n              <ItemH\r\n                flex=\"initial\"\r\n                padding=\"10px\"\r\n                radius=\"0px 12px 0px 0px\"\r\n                bg={theme.leftBarSocialBg}\r\n              >\r\n                <Anchor\r\n                title=\"Open Twitter\"\r\n                href=\"https://twitter.com/epnsproject\"\r\n                target=\"_blank\"\r\n                bg={theme.leftBarSocialIconBg}\r\n                radius=\"4px\"\r\n                padding=\"10px\"\r\n                margin=\"5px\"\r\n                onMouseOver={({ target }) => target.style.color = theme.color}\r\n                onMouseOut={({target})=>target.style.color = \"fff\"}\r\n                >\r\n                  <FaTwitter size={15} color=\"fff\" />\r\n                </Anchor>\r\n                <Anchor\r\n                  title=\"Open Telegram\"\r\n                  href=\"https://t.me/epnsproject\"\r\n                  target=\"_blank\"\r\n                  bg={theme.leftBarSocialIconBg}\r\n                  radius=\"4px\"\r\n                  padding=\"10px\"\r\n                  margin=\"5px\"\r\n                  onMouseOver={({ target }) => target.style.color = theme.color}\r\n                  onMouseOut={({target})=>target.style.color = \"fff\"}\r\n                >\r\n                  <FaTelegramPlane size={15} color=\"#fff\"/>\r\n                </Anchor>\r\n                <Anchor\r\n                  title=\"Open Medium\"\r\n                  href=\"https://medium.com/ethereum-push-notification-service\"\r\n                  target=\"_blank\"\r\n                  bg={theme.leftBarSocialIconBg}\r\n                  radius=\"4px\"\r\n                  padding=\"10px\"\r\n                  margin=\"5px\"\r\n                  onMouseOver={({ target }) => target.style.color = theme.color}\r\n                  onMouseOut={({target})=>target.style.color = \"fff\"}\r\n                >\r\n                  <FaMedium size={15} color=\"#fff\"/>\r\n                </Anchor>\r\n                <Anchor\r\n                  title=\"Open Discord\"\r\n                  href=\"https://discord.gg/YVPB99F9W5\"\r\n                  target=\"_blank\"\r\n                  bg={theme.leftBarSocialIconBg}\r\n                  radius=\"4px\"\r\n                  padding=\"10px\"\r\n                  margin=\"5px\"\r\n                  onMouseOver={({ target }) => target.style.color = theme.color}\r\n                  onMouseOut={({target})=>target.style.color = \"fff\"}\r\n                >\r\n                  <FaDiscord size={15} color=\"#fff\"/>\r\n                </Anchor>\r\n                <Anchor\r\n                  title=\"Open Github\"\r\n                  href=\"https://github.com/ethereum-push-notification-service\"\r\n                  target=\"_blank\"\r\n                  bg={theme.leftBarSocialIconBg}\r\n                  radius=\"4px\"\r\n                  padding=\"10px\"\r\n                  margin=\"5px\"\r\n                  onMouseOver={({ target }) => target.style.color = theme.color}\r\n                  onMouseOut={({target})=>target.style.color = \"fff\"}\r\n                >\r\n                  <FaGithub size={15} color={\"#fff\"}/>\r\n                </Anchor>\r\n              </ItemH>\r\n            </Footer>\r\n          </>\r\n        }\r\n      </Container>\r\n    );\r\n}\r\n\r\n\r\n\r\n// CSS Styles\r\nconst Container = styled(Section)`\r\n  background: ${props => props.theme.leftBarBg};\r\n  flex: 1;\r\n  height: calc(100% - ${props => props.headerHeight}px);\r\n  margin: ${props => props.headerHeight}px 0px 0px 0px;\r\n  border-right: 1px solid ${props => props.theme.sectionBorderBg};\r\n`\r\n\r\nconst Primary = styled(Item)`\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  align-items: stretch;\r\n  justify-content: flex-start;\r\n  background: '#fff';\r\n  overflow-y: scroll;\r\n  &::-webkit-scrollbar-track {\r\n    border-radius: 10px;\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    border-radius: 10px;\r\n    background-image: -webkit-gradient(linear,\r\n                       left top,\r\n                       left bottom,\r\n                       color-stop(0.44, #35c5f3),\r\n                       color-stop(0.72, #35b0f3),\r\n                       color-stop(0.86, #35a1f3));\r\n  }\r\n  padding: 0px 0px 20px 0px;\r\n`\r\n\r\nconst InheritedSection = styled(Item)`\r\n  flex: initial;\r\n  align-items: 'center';\r\n`\r\n\r\nconst PrimarySection = styled(InheritedSection)`\r\n  border-bottom: 1px solid ${props => props.theme.sectionBorderBg};\r\n  border-top: 1px solid ${props => props.theme.sectionBorderBg};\r\n  margin-top: -1px;\r\n`\r\n\r\nconst InheritedSectionGroup = styled(Item)`\r\n  align-items: 'stretch';\r\n`\r\n\r\nconst InheritedSectionItem = styled(Item)`\r\n  align-items: 'stretch';\r\n  padding: 0px 0px 0px 20px;\r\n`\r\n\r\nconst SectionInnerGroupContainer = styled(Item)`\r\n    &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: ${props=>props.margintop};\r\n    right: 0;\r\n    left: 0;\r\n    background: ${props => props.theme.leftBarButtonBg};\r\n    height: 10px;\r\n  } \r\n`\r\n\r\nconst SectionInnerItemContainer = styled(Item)`\r\n\r\n`\r\n\r\nconst PrimarySectionGroup = styled(InheritedSectionGroup)`\r\n  transition: margin .1s ease-out;\r\n  ${ props => !props.opened && css`\r\n    margin-top: -100%;\r\n  `};\r\n`\r\n\r\nconst PrimarySectionItem = styled(InheritedSectionItem)`\r\n  \r\n`\r\n\r\nconst Footer = styled(Item)`\r\n  z-index: 3;\r\n`\r\n\r\nconst Secondary = styled(Item)`\r\n  flex: auto;\r\n`\r\n\r\nconst SecondarySection = styled(InheritedSection)`\r\n\r\n`\r\n\r\nconst Social = styled(Item)`\r\n\r\n`\r\n\r\n// Export Default\r\nexport default Navigation;\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction NotificationToast({ notification, clearToast }) {\r\n\r\n  // toast customize\r\n  const LoaderToast = ({color }) => (\r\n      <Toaster>\r\n      <div>{notification.notificationTitle}</div>\r\n      <div>{notification.notificationBody}</div>\r\n      </Toaster>\r\n  )\r\n \r\n  // Render\r\n  return (\r\n    <NotificationWrapper>{\r\n    toast.dark(<LoaderToast onClick={clearToast} color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        })\r\n    }\r\n    </NotificationWrapper>\r\n  );\r\n}\r\n\r\nconst NotificationWrapper = styled.div`\r\n  display: none;\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\n\r\n\r\n// Export Default\r\nexport default NotificationToast;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\n// Create Header\r\nfunction DisplayNotice({ title, theme }) {\r\n  React.useEffect(() => {\r\n\r\n  }, [title, theme]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <Container>\r\n      <AnimateOnChange\r\n        animationIn=\"fadeIn\"\r\n        animationOut=\"fadeOut\"\r\n        durationOut={200}\r\n      >\r\n        <Notice theme={theme}>{title}</Notice>\r\n      </AnimateOnChange>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n\r\n  ${props => props.theme === 'primary' && css`\r\n    background: #e20880;\r\n  `};\r\n\r\n  ${props => props.theme === 'secondary' && css`\r\n    background: #35c5f3;\r\n  `};\r\n\r\n  ${props => props.theme === 'third' && css`\r\n    background: #674c9f;\r\n  `};\r\n`\r\n\r\n// Export Default\r\nexport default DisplayNotice;\r\n","const size = {\r\n  mobileS: '320px',\r\n  mobileM: '375px',\r\n  mobileL: '425px',\r\n  tablet: '768px',\r\n  laptop: '1024px',\r\n  laptopL: '1440px',\r\n  desktop: '2560px'\r\n}\r\n\r\nexport const Device = {\r\n  mobileS: `(max-width: ${size.mobileS})`,\r\n  mobileM: `(max-width: ${size.mobileM})`,\r\n  mobileL: `(max-width: ${size.mobileL})`,\r\n  tablet: `(max-width: ${size.tablet})`,\r\n  laptop: `(max-width: ${size.laptop})`,\r\n  laptopL: `(max-width: ${size.laptopL})`,\r\n  desktop: `(max-width: ${size.desktop})`,\r\n  desktopL: `(max-width: ${size.desktop})`\r\n};\r\n","import React from \"react\";\r\n\r\nimport styled from 'styled-components';\r\nimport { Item, ItemH, Span, A} from '../primaries/SharedStyling';\r\n\r\n// Faucet URLs\r\nfunction MetaInfoDisplay({ externalIcon, internalIcon, text, bgColor, onClick, onMouseEnter, onMouseLeave }) {\r\n\r\n  // render\r\n  return (\r\n    <MetaContainer>\r\n      {externalIcon &&\r\n        <Item\r\n          margin=\"0px 4px 0px 0px\"\r\n        >\r\n          {externalIcon}\r\n        </Item>\r\n      }\r\n      <MetaContent\r\n        hoverBG=\"transparent\"\r\n        onClick={onClick}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n      >\r\n        <Span\r\n          bg={bgColor}\r\n        >\r\n          {internalIcon && \r\n            <IconContainer>\r\n              {internalIcon}\r\n            </IconContainer>\r\n          }\r\n          {text}\r\n        </Span>\r\n      </MetaContent>\r\n    </MetaContainer>\r\n  );\r\n}\r\n\r\nconst MetaContainer = styled(ItemH)`\r\n  flex-wrap: initial;\r\n  flex: initial;\r\n  padding: 5px;\r\n`\r\n\r\nconst MetaContent = styled(A)`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  \r\n  & > Span {\r\n    background: ${props => props.bgColor};\r\n    margin: 0px 5px;\r\n    color: #fff;\r\n    font-weight: 600;\r\n    padding: 5px 10px;\r\n    display: flex;\r\n    border-radius: 10px;\r\n    font-size: 11px;\r\n    gap: 3px;\r\n    transition: 300ms;\r\n  }\r\n`\r\n\r\nconst IconContainer = styled(Span)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0px 4px 0px 0px;\r\n  color: inherit;\r\n`\r\n\r\n// Export Default\r\nexport default MetaInfoDisplay;\r\n","const channelsTuts = { \r\n  ens: {\r\n    maintainer: '0x983110309620D911731Ac0932219af06091b6744',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/AmalyHBJ5Gw?controls=0&autoplay=1',\r\n    userjourneyshort: 'ens',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-to-add-push-notifications-to-ens-decentralized-domain-name-services-a20f001a7234'\r\n  },\r\n  coindesk: {\r\n    maintainer: '0xe56f1D3EDFFF1f25855aEF744caFE7991c224FFF',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/z_RZgoYNH_Y?controls=0&autoplay=1',\r\n    userjourneyshort: 'coindesk',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-and-coindesk-announce-media-push-notifications-1707b12884d'\r\n  },  \r\n  snapshot: {\r\n    maintainer: '0x8C28Cf33d9Fd3D0293f963b1cd27e3FF422B425c',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/AYy42D5oG20?controls=0&autoplay=1',\r\n    userjourneyshort: 'snapshot',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-partners-with-snapshot-to-deliver-notifications-to-improve-community-governance-5730559cb84b'\r\n  },\r\n  makerdao: {\r\n    maintainer: '0x8Cd0ad5C55498Aacb72b6689E1da5A284C69c0C7',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/OxZ5H2vRnRc?controls=0&autoplay=1',\r\n    userjourneyshort: 'makerdao',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-partners-with-makerdao-development-and-ux-core-unit-to-enable-push-notifications-for-protocol-53f777957d26'\r\n  },\r\n  cvi: {\r\n    maintainer: '0x2dbf5aFead4759E6151590E4a8F6cD596B7044F8',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/r_wXWfEWSM0?controls=0&autoplay=1',\r\n    userjourneyshort: 'cvi',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-collaborates-with-cvi-crypto-volatility-index-to-enable-push-notifications-for-their-5ea662ee73a3'\r\n  },\r\n  bancor: {\r\n    maintainer: '0x7F41abf7fDb9E4A6373EC3BAB3Df814b5CCceCC3',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/SmoOX2JXx_4?controls=0&autoplay=1',\r\n    userjourneyshort: 'bancor',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-integrates-with-bancor-network-to-facilitate-decentralized-push-notifications-d35b5e27d4a9'\r\n  },\r\n  oasisapp: {\r\n    maintainer: '0x12b3eE60Df8ea26D03b8035Ec90434a38A82C4C7',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/7PPc6a3XUo4?controls=0&autoplay=1',\r\n    userjourneyshort: 'oasisapp',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-push-notifications-arrive-at-defi-on-oasis-app-770ae7ed1b'\r\n  },\r\n  mover: {\r\n    maintainer: '0xb754601d2C8C1389E6633b1449B84CcE57788566',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/TX1acRPGovA?controls=0&autoplay=1',\r\n    userjourneyshort: 'mover',\r\n    article: 'https://medium.com/ethereum-push-notification-service/mover-integrates-with-epns-to-deliver-yield-harvesting-notifications-ab3bc9a6b26e'\r\n  },\r\n  poh: {\r\n    maintainer: '0x327a29fcE0a6490E4236240Be176dAA282EcCfdF',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/_Urc35obsOQ?controls=0&autoplay=1',\r\n    userjourneyshort: 'poh',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-joins-proof-of-humanity-to-enhance-the-user-experience-of-decentralized-self-sovereign-e734780c9840'\r\n  },\r\n  kyber: {\r\n    maintainer: '0x91c9D4373B077eF8082F468C7c97f2c499e36F5b',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/EpTYdJMQxoU?controls=0&autoplay=1',\r\n    userjourneyshort: 'kyber',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-push-notifications-to-support-kybers-frictionless-liquidity-pools-4fe65746b39'\r\n  },\r\n  fabwelt: {\r\n    maintainer: '0x361Cb6BE977d0113A33914A8f952Ced95747F793',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/kLyZ0DT?controls=0&autoplay=1',\r\n    userjourneyshort: 'fabwelt',\r\n    article: 'https://medium.com/ethereum-push-notification-service/fabwelt-partners-with-epns-to-bring-push-notifications-to-crypto-gaming-c247e70bb627'\r\n  },\r\n  banklessfr: {\r\n    maintainer: '0xA8aF754379d8ae406dFbDD0D6c46324aD647243E',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/1mnLTslK_sY?controls=0&autoplay=1',\r\n    userjourneyshort: 'banklessfr',\r\n    article: null\r\n  },\r\n  angle: {\r\n    maintainer: '0xA2dEe32662F6243dA539bf6A8613F9A9e39843D3',\r\n    userjourneyyoutube: null,\r\n    userjourneyshort: 'angle',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-allies-with-angle-protocol-to-facilitate-push-notifications-for-users-af77cf4d3e2b'\r\n  },\r\n  mstable: {\r\n    maintainer: '0xC30CE8F08BD8F667E65185310807Db937A5d6E53',\r\n    userjourneyyoutube: null,\r\n    userjourneyshort: 'mstable',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-allies-with-mstable-to-facilitate-decentralized-notifications-for-users-a3e6be14eecc'\r\n  },\r\n  aragon: {\r\n    maintainer: '0x187a34c86aA6378333cE9033Aa34718D2CEdEd2C',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/PT90Zyi9A0g?controls=0&autoplay=1',\r\n    userjourneyshort: 'aragon',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-partners-with-aragon-voice-to-power-unstoppable-decentralized-governance-56182b9d9aa0'\r\n  },\r\n  cryptomanga: {\r\n    maintainer: '0x0B430A1651E6A64510afC97195040359941d0b23',\r\n    userjourneyyoutube: null,\r\n    userjourneyshort: 'cryptomanga',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-x-cryptomanga-decentralized-communication-for-decentralized-gaming-d296956afdeb'\r\n  },\r\n  dydx: {\r\n    maintainer: '0x23c6b8fB0557FD5e6696BceF3fD4855E0d7018C0',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/oXgNlebVUAo?controls=0&autoplay=1',\r\n    userjourneyshort: 'dydx',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-teams-up-with-dydx-foundation-to-enable-notifications-for-governance-updates-5794a5e22c4d'\r\n  },\r\n  idle: {\r\n    maintainer: '0xFb3bD022D5DAcF95eE28a6B07825D4Ff9C5b3814',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/08bBRIzRcok?controls=0&autoplay=1',\r\n    userjourneyshort: 'idle',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-collaborates-with-idle-to-enable-push-notifications-for-governance-updates-32e142ed2f33'\r\n  },\r\n  tracerdao: {\r\n    maintainer: '0x8bf25240402C126bb236d26D391b782c5c893D32',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/Pw5zjKmQLFg?controls=0&autoplay=1',\r\n    userjourneyshort: 'tracerdao',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-brings-push-notifs-to-tracer-dao-governance-91f7b9a9ddcc'\r\n  },\r\n  armor: {\r\n    maintainer: '0x5aFeDeF166bd626B3043cb1D53e16EA9BF863E06',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/AMW9Xf0Rc2Y?controls=0&autoplay=1',\r\n    userjourneyshort: 'armor',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-partners-with-armor-to-enable-push-notifications-for-its-users-daa70b4f172d'\r\n  },\r\n  pods: {\r\n    maintainer: '0xb4F88Ad000A53638F203dcA2C39828a58057d53c',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/Ink21CE_RzM?controls=0&autoplay=1',\r\n    userjourneyshort: 'pods',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-inks-partnership-with-options-protocol-pods-finance-e5adcd2d5821'\r\n  },\r\n  ooki: {\r\n    maintainer: '0x9B43a385E08EE3e4b402D4312dABD11296d09E93',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/vGu--SUV4l4?controls=0&autoplay=1',\r\n    userjourneyshort: 'ooki',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-partners-with-bzx-to-deliver-crucial-margin-trading-push-notifications-to-wallets-a2f52e4fcefe'\r\n  },\r\n  pushgov: {\r\n    maintainer: '0xfE4A6Fbd27B496855245A1e8047F693f0aDfDb08',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/vvDlJttgQgQ?controls=0&autoplay=1',\r\n    userjourneyshort: 'pushgov',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-governance-goes-live-lets-push-for-progressive-decentralized-governance-7448b58b89b4'\r\n  },\r\n  symphony: {\r\n    maintainer: '0xd32908F63713F514aDDBE3962A2dE7112fdCD4A7',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/FtadeuLSPmE?controls=0&autoplay=1',\r\n    userjourneyshort: 'symphony',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-collaborates-with-symphony-finance-to-facilitate-push-notifications-for-limit-order-c6f27bf8e02a'\r\n  },\r\n  ethtracker: {\r\n    maintainer: '0xDBc5936E4daaE94F415C39D284f6a69c4d553F2F',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/13ahwv-Ox04?controls=0&autoplay=1',\r\n    userjourneyshort: 'ethtracker',\r\n    article: null\r\n  },\r\n  ethpricetracker: {\r\n    maintainer: '0x2B8ffb4460550Dbe8Ec1cEA9C1B61322dB56B082',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/13ahwv-Ox04?controls=0&autoplay=1',\r\n    userjourneyshort: 'ethpricetracker',\r\n    article: null\r\n  },\r\n  btctracker: {\r\n    maintainer: '0x03EAAAa48ea78d1E66eA3458364d553AD981871E',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/13ahwv-Ox04?controls=0&autoplay=1',\r\n    userjourneyshort: 'btctracker',\r\n    article: null\r\n  },\r\n  aave: {\r\n    maintainer: '0xAA940b3501176af328423d975C350d0d1BaAae50',\r\n    userjourneyyoutube: 'https://www.youtube.com/embed/YKflQ8eADFg?controls=0&autoplay=1',\r\n    userjourneyshort: 'aave',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-x-aave-protection-against-asset-liquidation-f33be395ef87'\r\n  },\r\n  gro: {\r\n    maintainer: '0x3c1F2E6Ec3De7811E2daa2B8E132CdCd8e39851c',\r\n    userjourneyyoutube: null,\r\n    userjourneyshort: 'gro',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-monthly-blocks-4371ef89bc91'\r\n  },\r\n  flipside: {\r\n    maintainer: '0xC2f41b3a1FF28Fd2A6EeE76EE12e51482fcFd11F',\r\n    userjourneyyoutube: null,\r\n    userjourneyshort: 'flipside',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-and-flipside-crypto-join-forces-to-facilitate-push-notifications-for-users-58df98b7aba7'\r\n  },\r\n  thedefiant: {\r\n    maintainer: '0x46b676303ebC5699BF47e416677A57A89c70a015',\r\n    userjourneyyoutube: null,\r\n    userjourneyshort: 'thedefiant',\r\n    article: 'https://medium.com/ethereum-push-notification-service/epns-teams-up-with-the-defiant-to-bring-defi-news-directly-to-users-wallets-8b4896d674bb'\r\n  },\r\n}\r\n\r\nexport default channelsTuts;\r\n","import React from \"react\";\r\n\r\nimport styled, { useTheme } from 'styled-components';\r\nimport { Item, ItemH, Image, Span, Button} from 'primaries/SharedStyling';\r\n\r\nimport { FaPlay, FaShareSquare, FaYoutube } from 'react-icons/fa';\r\n\r\nimport MetaInfoDisplayer from \"components/MetaInfoDisplayer\";\r\n\r\nimport channelTuts from \"config/channelTuts\";\r\n\r\n// Check channel has tutorial\r\nexport const isChannelTutorialized = (addr) => {\r\n  let keyFound = false;\r\n  Object.entries(channelTuts).forEach(([key, value]) => {\r\n    if (channelTuts[key].maintainer === addr) {\r\n      keyFound = true;\r\n      return;\r\n    }\r\n  });\r\n\r\n  return keyFound;\r\n}\r\n\r\n// Channel Tutorial\r\nconst ChannelTutorial = ({ addr, bgColor, loadTeaser, playTeaser }) => {\r\n  const themes = useTheme();\r\n\r\n  // set state\r\n  const [showTuts, setShowTuts] = React.useState(false);\r\n\r\n  // helper functions\r\n  const getChannelTutItem = (addr) => {\r\n    let item = null;\r\n\r\n    Object.entries(channelTuts).forEach(([key, value]) => {\r\n      if (channelTuts[key].maintainer === addr) {\r\n        item = channelTuts[key];\r\n        return;\r\n      }\r\n    });\r\n\r\n    return item;\r\n  }\r\n\r\n  const item = getChannelTutItem(addr);\r\n\r\n  // render\r\n  return (\r\n    <Item\r\n      flex=\"initial\"\r\n      onMouseEnter={() => {\r\n        setShowTuts(true);\r\n        console.log(\"enter\")\r\n      }}\r\n      onMouseLeave={() => {\r\n        setShowTuts(false);\r\n        console.log(\"exit\")\r\n      }}\r\n      zIndex=\"10\"\r\n    >\r\n      {showTuts &&\r\n        <Item\r\n          position=\"absolute\"\r\n          width=\"280px\"\r\n          bottom=\"0px\"\r\n          padding=\"0px 0px 40px 0px\"\r\n        >\r\n          <TutsInner\r\n            bg={themes.backgroundBG}\r\n            padding=\"10px\"\r\n            border={`1px solid ${themes.borderBg}`}\r\n          >\r\n            {item.userjourneyshort && \r\n              <Item>\r\n                <Span\r\n                  bg={themes.viewChannelTutsTitleBg}\r\n                  color=\"#fff\"\r\n                  padding=\"4px 10px\"\r\n                  margin=\"0px 0px 10px 0px\"\r\n                  self=\"flex-end\"\r\n                  spacing=\"0.1em\"\r\n                  textTransform=\"uppercase\"\r\n                  size=\"bold\"\r\n                >\r\n                  Opt-in to enable\r\n                </Span>\r\n                <Image\r\n                  src={`./tuts/${item.userjourneyshort}/${item.userjourneyshort}_${themes.scheme}.png`}\r\n                  srcSet={`./tuts/${item.userjourneyshort}/${item.userjourneyshort}_${themes.scheme}@2x.png 2x, ./tuts/${item.userjourneyshort}/${item.userjourneyshort}_${themes.scheme}@3x.png 3x`}\r\n                  alt={`${item.alt}`}\r\n                />\r\n              </Item>\r\n            }\r\n\r\n            <ItemH\r\n              padding=\"10px 0px 0px 0px\"\r\n              justify=\"space-between\"\r\n              self=\"stretch\"\r\n            >\r\n              {item.userjourneyyoutube && \r\n                <Button\r\n                  bg={themes.viewChannelTutsButtonBg}\r\n                  color='#fff'\r\n                  radius=\"4px\"\r\n                  padding=\"5px 10px\"\r\n                  onClick={() => {\r\n                    setShowTuts(false);\r\n                    loadTeaser(item.userjourneyyoutube);\r\n                    playTeaser(true);\r\n                  }}\r\n                >\r\n                  <Span\r\n                    margin=\"0px 5px 0px 0px\"\r\n                    weight=\"bold\"\r\n                    color='#fff'\r\n                  >\r\n                    User Journey\r\n                  </Span>\r\n                  <FaYoutube size=\"20px\" />\r\n                </Button>\r\n              }\r\n              \r\n              {item.article && \r\n                <Button\r\n                  bg={themes.viewChannelTutsButtonBg}\r\n                  color='#fff'\r\n                  radius=\"4px\"\r\n                  padding=\"5px 10px\"\r\n                  onClick={() => {\r\n                    setShowTuts(false);\r\n                    window.open(`${item.article}`, \"_blank\") //to open new page\r\n                  }}\r\n                >\r\n                  <FaShareSquare size=\"20px\" />\r\n                </Button>\r\n              }\r\n            </ItemH>\r\n          </TutsInner>\r\n        </Item>\r\n      }\r\n\r\n      <MetaInfoDisplayer\r\n        internalIcon={<FaPlay />}\r\n        text=\"Short Tutorial\"\r\n        bgColor={bgColor}\r\n      />\r\n    </Item>\r\n  );\r\n}\r\n\r\n// CSS STYLES\r\nconst TutsInner = styled(Item)`\r\n  border-radius: 10px;\r\n  box-shadow: 0px 15px 20px -5px rgb(0 0 0 / 10%);\r\n`\r\n\r\n// Export Default\r\nexport default ChannelTutorial;\r\n","import axios from 'axios';\r\nimport { getReq } from \"api\";\r\nimport { ethers } from \"ethers\";\r\nimport { convertAddressToAddrCaip } from './CaipHelper';\r\nimport { IPFSGateway } from './IpfsHelper';\r\n//import { parseEther, bigNumber } from 'ethers/utils'\r\n\r\nconst COINDESK_CHANNEL_ADDR = \"0xe56f1D3EDFFF1f25855aEF744caFE7991c224FFF\";\r\nconst COINDESK_HASH =\r\n  \"1+bafkreif643vf3cteadznccivnsk5uj26e3ls7onbshnldb3aej3omrxsau\";\r\nconst ENS_CHANNEL_ADDR = \"0x983110309620D911731Ac0932219af06091b6744\";\r\nconst ENS_HASH =\r\n  \"1+bafkreiekigkyezwrspignt7l7vsrjefjmogwmigy4eqtts277cu2p23ilm\";\r\n// FeedDB Helper Function\r\nconst EPNSCoreHelper = {\r\n  // get gas price in dollars\r\n  getGasPriceInDollars: async (library) => {\r\n    const ethPrice = await axios\r\n      .get(\"https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=USD\")\r\n      .then(({ data }) => data.USD || 0);\r\n    const gasPriceInWei = await library.getGasPrice();\r\n    const gasPriceInEth = ethers.utils.formatEther(gasPriceInWei);\r\n    const gasPriceInUsd = gasPriceInEth * ethPrice;\r\n    return gasPriceInUsd;\r\n  },\r\n\r\n  // To get owner info\r\n  getOwnerInfo: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract\r\n        .governance()\r\n        .then((response) => {\r\n          if (enableLogs) console.log(\"getOwnerInfo() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getOwnerInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  getVotingPower: async (delegateeAddress, contract, rawFormat = false) => {\r\n    let isAddress = await ethers.utils.isAddress(delegateeAddress);\r\n    if (isAddress || delegateeAddress.endsWith(\".eth\")) {\r\n      try {\r\n        let decimals = await contract.decimals();\r\n        let votes = await contract.getCurrentVotes(delegateeAddress);\r\n        let votingPower = await Number(votes / Math.pow(10, decimals));\r\n        let prettyVotingPower = votingPower.toString();\r\n        return rawFormat ? votingPower : prettyVotingPower;\r\n      } catch (err) {\r\n        console.log(\r\n          \"🚀 ~ file: ViewDelegateeItem.js ~ line 47 ~ getVotingPower ~ err\",\r\n          err\r\n        );\r\n      }\r\n    }\r\n    return \"0.000\";\r\n  },\r\n  // To get user info\r\n  getUserInfo: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract\r\n        .users(user)\r\n        .then((response) => {\r\n          const mappings = { ...response };\r\n          mappings.addr = user;\r\n\r\n          if (enableLogs) console.log(\"getUserInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getUserInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // To retrieve a channel address from it's id\r\n  getChannelAddressFromID: async (channelID, contract) => {\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract\r\n        .channelById(channelID)\r\n        .then((response) => {\r\n          // console.log(\"getChannelAddressFromID() --> %o\", response.toString());\r\n          resolve(response.toString());\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getChannelAddressFromID() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // To retrieve a channel's Info from channel address\r\n  getChannelInfo: async (channel, contract) => {\r\n    if (channel === null) return;\r\n    const enableLogs = 0;\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract\r\n        .channels(channel)\r\n        .then((response) => {\r\n          // Add an extra field for future info\r\n          const mappings = { ...response };\r\n          mappings.addr = channel;\r\n\r\n          if (enableLogs) console.log(\"getChannelInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getChannelInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // To retrieve a channel's AddChannel event\r\n  getChannelEvent: async (channel, startBlock, updateBlock, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel ipfs hash from channel info\r\n      let filter = contract.filters.AddChannel(channel);\r\n      let block = startBlock;\r\n      if (startBlock != updateBlock) {\r\n        filter = contract.filters.UpdateChannel(channel);\r\n        block = updateBlock;\r\n      }\r\n\r\n      contract\r\n        .queryFilter(filter, block, block)\r\n        .then((response) => {\r\n          let filteredResponse;\r\n\r\n          if (enableLogs)\r\n            console.log(\r\n              \"getChannelEvent() --> Finding: %s in | %o |\",\r\n              channel,\r\n              response\r\n            );\r\n\r\n          response.forEach(function(item) {\r\n            if (item.args.channel.toString() == channel.toString()) {\r\n              if (enableLogs)\r\n                console.log(\r\n                  \"getChannelEvent() --> Selected Channel %o: \",\r\n                  item\r\n                );\r\n              filteredResponse = ethers.utils.toUtf8String(item.args.identity);\r\n            }\r\n          });\r\n\r\n          if (enableLogs)\r\n            console.log(\r\n              \"getChannelEvent() --> Filtered Channel: %o\",\r\n              filteredResponse\r\n            );\r\n          resolve(filteredResponse);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getChannelEvent() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Retrive IPFS File from ipfshash\r\n  getJsonFileFromIdentity: async (identity, channel) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Split Channel Identity, delimeter of identity is \"+\"\r\n      if (!identity) {\r\n        reject(\"There is no identity file for channel:\", channel);\r\n      }\r\n      const ids = identity?.split(\"+\") || []; // First segment is storage type, second is the pointer to it\r\n\r\n      if (ids[0] == 1) {\r\n        // IPFS HASH\r\n        // Form Gateway URL\r\n        const IPFS_GATEWAY = IPFSGateway;\r\n        const url = IPFS_GATEWAY + ids[1];\r\n        fetch(url)\r\n          .then((response) => response.json())\r\n          .then((response) => {\r\n            if (enableLogs)\r\n              console.log(\"getJsonFileFromIdentity() --> %o\", response);\r\n            resolve(response);\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"!!!Error, getJsonFileFromIdentity() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n  },\r\n\r\n  // Helper to get Channel Alias from Channel's address\r\n  getAliasAddressFromChannelAddress: async (channel, chainId) => {\r\n    if (channel === null) return;\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      const channelAddressInCaip = convertAddressToAddrCaip(channel, chainId);\r\n      getReq(`/v1/alias/${channelAddressInCaip}/channel`)\r\n        .then((response) => {\r\n          if (enableLogs)\r\n            console.log(\"getAliasAddressFromChannelAddress() --> %o\", response);\r\n          resolve(response?.data?.aliasAddress);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\r\n            \"!!!Error, getAliasAddressFromChannelAddress() --> %o\",\r\n            err\r\n          );\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Helper to get Channel from Channel's address\r\n  getChannelJsonFromChannelAddress: async (channel, contract) => {\r\n    if (channel === null) return;\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      EPNSCoreHelper.getChannelInfo(channel, contract)\r\n        .then((response) =>\r\n          EPNSCoreHelper.getChannelEvent(\r\n            channel,\r\n            response.channelStartBlock.toNumber(),\r\n            response.channelUpdateBlock.toNumber(),\r\n            contract\r\n          )\r\n        )\r\n        .then((response) => {\r\n          // add little hack for now to change coindesk's descriptioon\r\n          const hash =\r\n            channel === COINDESK_CHANNEL_ADDR\r\n              ? COINDESK_HASH\r\n              : channel === ENS_CHANNEL_ADDR\r\n              ? ENS_HASH\r\n              : response;\r\n          return EPNSCoreHelper.getJsonFileFromIdentity(hash, channel);\r\n          // return EPNSCoreHelper.getJsonFileFromIdentity(response, channel)\r\n        })\r\n        .then((response) => {\r\n          if (enableLogs)\r\n            console.log(\"getChannelJsonFromChannelAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\r\n            \"!!!Error, getChannelJsonFromChannelAddress() --> %o\",\r\n            err\r\n          );\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Helper to get Channel from User's address\r\n  getChannelJsonFromUserAddress: async (user, contract) => {\r\n    if (user === null) return;\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      // EPNSCoreHelper.getUserInfo(user, contract)\r\n      //   .then(response => EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract))\r\n      EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract)\r\n        .then((response) => {\r\n          if (enableLogs)\r\n            console.log(\"getChannelJsonFromUserAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getChannelJsonFromUserAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Total Number of Channels\r\n  getTotalNumberOfChannels: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract\r\n        .channelsCount()\r\n        .then((response) => {\r\n          if (enableLogs)\r\n            console.log(\r\n              \"getTotalNumberOfChannels() --> %o\",\r\n              response.toNumber()\r\n            );\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getTotalNumberOfChannels() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get channels address given number of channels, , atIndex: -1 is start from latest, numChannels: -1 is return all\r\n  getChannelsMetaLatestToOldest: async (atIndex, numChannels, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      EPNSCoreHelper.getTotalNumberOfChannels(contract)\r\n        .then(async (response) => {\r\n          let channelsInfo = [];\r\n          const channelsCount = response;\r\n\r\n          if (atIndex > channelsCount || atIndex == -1) {\r\n            atIndex = channelsCount - 1;\r\n          }\r\n\r\n          if (numChannels == -1) {\r\n            numChannels = channelsCount;\r\n          }\r\n\r\n          // Get channels\r\n          let channelArrays = [];\r\n\r\n          // prefil and then refil\r\n          let count = 0;\r\n          for (let i = numChannels - 1; i >= 0; i--) {\r\n            const assignedChannelID = atIndex - i;\r\n            channelArrays.push(assignedChannelID);\r\n          }\r\n\r\n          const promises = channelArrays.map(async (channelID) => {\r\n            await EPNSCoreHelper.getChannelAddressFromID(channelID, contract)\r\n              .then((response) =>\r\n                EPNSCoreHelper.getChannelInfo(response, contract)\r\n              )\r\n              .then((response) => {\r\n                if (enableLogs)\r\n                  console.log(\r\n                    \"getChannelsMetaLatestToOldest(%d, %d) --> %o\",\r\n                    channelID,\r\n                    numChannels,\r\n                    channelsInfo\r\n                  );\r\n                channelsInfo = [response, ...channelsInfo];\r\n              })\r\n              .catch((err) =>\r\n                console.log(\"Error in channel: %d | skipping...\", channelID)\r\n              );\r\n          });\r\n\r\n          // wait until all promises are resolved\r\n          await Promise.all(promises);\r\n\r\n          if (enableLogs)\r\n            console.log(\r\n              \"getChannelsMetaLatestToOldest(Index: %d, Number: %d) --> %o\",\r\n              atIndex,\r\n              numChannels,\r\n              channelsInfo\r\n            );\r\n          resolve(channelsInfo);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getChannelsMetaLatestToOldest() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Total Number of Users\r\n  getTotalNumberOfUsers: async (contract) => {\r\n    return new Promise((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract\r\n        .usersCount()\r\n        .then((response) => {\r\n          console.log(\"getTotalNumberOfUsers() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getTotalNumberOfUsers() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // To retrieve public key of a user\r\n  getPublicKey: async (address, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel ipfs hash from channel info\r\n      let filteredResponse;\r\n      contract\r\n        .queryFilter(\"PublicKeyRegistered\")\r\n        .then((response) => {\r\n          response.forEach(function(item) {\r\n            if (item.args[0] == address) {\r\n              filteredResponse = item;\r\n            }\r\n          });\r\n\r\n          if (enableLogs)\r\n            console.log(\"Public Key Registry Response: \" + response);\r\n          if (enableLogs)\r\n            console.log(\"Public Key Registry Filtered: \" + filteredResponse);\r\n\r\n          if (!filteredResponse || filteredResponse.length == 0) {\r\n            resolve(null);\r\n          } else {\r\n            resolve(filteredResponse.args[1]);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getSubscribedStatus: async (user, channel, contract) => {\r\n    return new Promise((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract\r\n        .isUserSubscribed(channel, user)\r\n        .then((response) => {\r\n          // console.log(\"getSubscribedStatus() --> %o\", {response, user, channel});\r\n          resolve(response);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getSubscribedStatus() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getTotalSubscribedChannels: async (user, contract) => {\r\n    return new Promise((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users[user]\r\n        .subscribedCount()\r\n        .then((response) => {\r\n          console.log(\r\n            \"getTotalSubscribedChannels() --> %o\",\r\n            response.toNumber()\r\n          );\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getTotalSubscribedChannels() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Fair Share\r\n  getFairShareOfUserAtBlock: async (user, block, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract\r\n        .users(user)\r\n        .then((response) => {\r\n          if (response.userActivated) {\r\n            contract\r\n              .calcAllChannelsRatio(user, block)\r\n              .then((response) => {\r\n                if (enableLogs)\r\n                  console.log(\"calcAllChannelsRatio() --> %o\", response);\r\n                resolve(response);\r\n              })\r\n              .catch((err) => {\r\n                console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n                reject(err);\r\n              });\r\n          } else {\r\n            if (enableLogs)\r\n              console.log(\r\n                \"!!!Warning, calcAllChannelsRatio() --> User not activated\"\r\n              );\r\n            reject(\"User not activated\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Pool Funds\r\n  getPoolFunds: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      contract\r\n        .poolFunds()\r\n        .then((response) => {\r\n          if (enableLogs) console.log(\"getPoolFunds() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getPoolFunds() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Helper Functions\r\n  // To format Big Number\r\n  formatBigNumberToMetric: (bignumber, convertToCurrency) => {\r\n    try {\r\n      if (convertToCurrency) {\r\n        bignumber = bignumber.div(100000000000000);\r\n        bignumber = bignumber.div(10000);\r\n      }\r\n      bignumber = bignumber.toNumber();\r\n      return EPNSCoreHelper.metricFormatter(bignumber, 2);\r\n    } catch (e) {\r\n      console.log(e);\r\n      return \"---\";\r\n    }\r\n  },\r\n  // Metric Formatter, thanks: https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900\r\n  metricFormatter: (num, digits) => {\r\n    var si = [\r\n      { value: 1, symbol: \"\" },\r\n      { value: 1e3, symbol: \"k\" },\r\n      { value: 1e6, symbol: \"M\" },\r\n      { value: 1e9, symbol: \"G\" },\r\n      { value: 1e12, symbol: \"T\" },\r\n      { value: 1e15, symbol: \"P\" },\r\n      { value: 1e18, symbol: \"E\" },\r\n    ];\r\n    var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    var i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n      if (num >= si[i].value) {\r\n        break;\r\n      }\r\n    }\r\n    return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\r\n  },\r\n};\r\n\r\nexport default EPNSCoreHelper;\r\n","import EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\n\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { postReq, getReq } from \"api\";\r\n\r\n// STATIC SINGLETON\r\nexport const ChannelEvents = {\r\n  ADD_CHANNEL_ANY: \"AddChannelAny\",\r\n  ADD_CHANNEL_SELF: \"AddChannelSelf\",\r\n  UPDATE_CHANNEL_ANY: \"UpdateChannelAny\",\r\n  UPDATE_CHANNEL_SELF: \"UpdateChannelSelf\",\r\n  SUBSCRIBER_ANY_CHANNEL: \"SubscriberAnyChannel\",\r\n  SUBSCRIBER_SELF_CHANNEL: \"SubscriberSelfChannel\",\r\n  UNSUBSCRIBER_ANY_CHANNEL: \"UnsubscriberAnyChannel\",\r\n  UNSUBSCRIBER_SELF_CHANNEL: \"UnsubscriberSelfChannel\",\r\n};\r\n\r\nexport default class ChannelsDataStore {\r\n  static instance = ChannelsDataStore.instance || new ChannelsDataStore();\r\n\r\n  state = {\r\n    channelsCount: -1,\r\n    channelsMeta: {},\r\n    channelsJson: {},\r\n    subscribers: {},\r\n    subscribersCount: {},\r\n\r\n    callbacks: [],\r\n\r\n    account: null,\r\n    epnsReadProvider: null,\r\n    epnsCommReadProvider: null,\r\n    chainId: null,\r\n    onCoreNetwork: false,\r\n  };\r\n\r\n  // init\r\n  init = (account, epnsReadProvider, epnsCommReadProvider, chainId) => {\r\n    // set account\r\n    this.state.account = account;\r\n\r\n    // set chainId\r\n    this.state.chainId = chainId;\r\n    this.state.onCoreNetwork = chainId === envConfig.coreContractChain;\r\n\r\n    // First attach listeners then overwrite the old one if any\r\n    this.resetChannelsListeners();\r\n    this.state.epnsReadProvider = epnsReadProvider;\r\n    this.state.epnsCommReadProvider = epnsCommReadProvider;\r\n    this.initChannelsListenersAsync();\r\n\r\n    // next get store channels count\r\n    this.getChannelsCountAsync();\r\n  };\r\n\r\n  // RESET LISTENERS\r\n  resetChannelsListeners = () => {\r\n    // only proceed if a read provider is attached\r\n    if (this.state.epnsReadProvider) {\r\n      this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n      this.state.epnsReadProvider.removeAllListeners(\"UpdateChannel\");\r\n      this.state.epnsCommReadProvider.removeAllListeners(\"Subscribe\");\r\n      this.state.epnsCommReadProvider.removeAllListeners(\"Unsubscribe\");\r\n    }\r\n  };\r\n\r\n  // init LISTENERS\r\n  initChannelsListenersAsync = async () => {\r\n    // Add Listeners\r\n    await this.listenForAddChannelAnyAsync();\r\n    await this.listenForAddChannelSelfAsync();\r\n\r\n    await this.listenForUpdateChannelAnyAsync();\r\n    await this.listenForUpdateChannelSelfAsync();\r\n\r\n    // use the communicator contract for the below\r\n    await this.listenForSubscribeAnyAsync();\r\n    await this.listenForSubscribeSelfAsync();\r\n    await this.listenForUnsubscribeAnyAsync();\r\n    await this.listenForUnsubscribeSelfAsync();\r\n  };\r\n\r\n  // 1. Add Any Channel Listeners\r\n  listenForAddChannelAnyAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.AddChannel(null, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // Do own stuff\r\n      await this.incrementChannelsCountAsync(1);\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 2. Add Self Channel Listener\r\n  listenForAddChannelSelfAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.AddChannel(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // Do own stuff\r\n      // Nothing to do, just do callback\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 3. Update Any Channel Listener\r\n  listenForUpdateChannelAnyAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.UpdateChannel(null, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 4. Update Self Channel Listener\r\n  listenForUpdateChannelSelfAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.UpdateChannel(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 5. Subscriber Any\r\n  listenForSubscribeAnyAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Subscribe(null, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      //   // Do own stuff\r\n      //   if (this.state.channelsMeta[channel]) {\r\n      //     const channelID = this.state.channelsMeta[channel];\r\n      //     let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n      //     count = count + 1;\r\n      //     this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n      //   }\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 6. Subscriber Self\r\n  listenForSubscribeSelfAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Subscribe(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 7. Unsubscribe Any\r\n  listenForUnsubscribeAnyAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Unsubscribe(null, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      // Do own stuff\r\n      // if (this.state.channelsMeta[channel]) {\r\n      //   const channelID = this.state.channelsMeta[channel];\r\n      //   let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n      //   count = count - 1;\r\n      //   this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n      // }\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 8. Unsubscribe Self\r\n  listenForUnsubscribeSelfAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Unsubscribe(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // FOR CALLBACKS\r\n  addCallbacks = (callbackType, callbackID, callback) => {\r\n    // first check if callback already exists\r\n    if (!this.state.callbacks[callbackType]) {\r\n      this.state.callbacks[callbackType] = {};\r\n    }\r\n\r\n    if (!this.state.callbacks[callbackType][callbackID]) {\r\n      this.state.callbacks[callbackType][callbackID] = callback;\r\n    }\r\n  };\r\n\r\n  removeCallbacks = (callbackType, callbackID) => {\r\n    // first check if callback already exists\r\n    if (this.state.callbacks[callbackType][callbackID]) {\r\n      this.state.callbacks[callbackType][callbackID] = null;\r\n    }\r\n  };\r\n\r\n  // CHANNELS COUNT\r\n  getChannelsCountAsync = async () => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsCount == -1) {\r\n        // Count not set, get and set it first\r\n        const count = EPNSCoreHelper.getTotalNumberOfChannels(\r\n          this.state.epnsReadProvider\r\n        )\r\n          .then((response) => {\r\n            this.state.channelsCount = response;\r\n\r\n            if (enableLogs)\r\n              console.log(\"getChannelsCountAsync() --> %o\", response);\r\n            resolve(this.state.channelsCount);\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"!!!Error, getChannelsCountAsync() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      } else {\r\n        resolve(this.state.channelsCount);\r\n      }\r\n    });\r\n  };\r\n\r\n  incrementChannelsCountAsync = async (incrementCount) => {\r\n    return new Promise((resolve, reject) => {\r\n      this.getChannelsCountAsync()\r\n        .then((response) => {\r\n          this.state.channelsCount = response + incrementCount;\r\n          console.log(\r\n            \"incrementChannelsCountAsync() --> %d\",\r\n            this.state.channelsCount\r\n          );\r\n          resolve(this.state.channelsCount);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, incrementChannelsCountAsync() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n  /**\r\n   * Get paginated channel information\r\n   * @param {Number} startIndex the number of channels viewed so far e.g 50\r\n   * @param {Number} pageCount the number of items per page we want\r\n   * @returns\r\n   */\r\n  getChannelFromApi = async (startIndex, pageCount, account, chainId) => {\r\n    return postReq(\"/channels/_search\", {\r\n      page: Math.ceil(startIndex / pageCount) || 1,\r\n      pageSize: pageCount,\r\n      address: account,\r\n      chainId: chainId,\r\n      query: \" \",\r\n      op: \"read\",\r\n    }).then((response) => {\r\n      let output;\r\n      output = response.data.channels.map(\r\n        ({ alias_address, channel, memberCount, isSubscriber }) => {\r\n          this.state.subscribersCount[channel] = memberCount;\r\n          return {\r\n            addr: channel,\r\n            alias_address: alias_address,\r\n            memberCount: memberCount,\r\n            isSubscriber: isSubscriber,\r\n          };\r\n        }\r\n      );\r\n      return output;\r\n    });\r\n  };\r\n  //Helper to get eth address of an alias when in alias network\r\n  getEthAddressFromAlias = async (channel) => {\r\n    if (channel === null) return;\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      postReq(\"/channels/getCoreAddress\", {\r\n        aliasAddress: channel,\r\n        op: \"read\",\r\n      })\r\n        .then(({ data }) => {\r\n          if (enableLogs)\r\n            console.log(\"getEthAddressFromAlias() --> %o\", data?.ethAddress);\r\n          resolve(data?.ethAddress);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getEthAddressFromAlias() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n  // Helper to get Channel Alias from Channel's address\r\n  getChannelDetailsFromAddress = async (channel) => {\r\n    if (channel === null) return;\r\n    const enableLogs = 0;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      getReq(`/v1/channels/search?query=${channel}`)\r\n        .then((response) => {\r\n          let output;\r\n          output = response.data.channels.map(\r\n            ({\r\n              alias_address,\r\n              is_alias_verified,\r\n            }) => {\r\n              return {\r\n                aliasAddress: alias_address === \"NULL\" ? null: alias_address,\r\n                isAliasVerified: is_alias_verified,\r\n              };\r\n            }\r\n          );\r\n          if (enableLogs)\r\n            console.log(\"getChannelDetailsFromAddress() --> %o\", response);\r\n          if (output.length === 0) {\r\n            output.push({ alias_address: null, isAliasVerified: null });\r\n          }\r\n          resolve(output[0]);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, getChannelDetailsFromAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n  // CHANNELS META FUNCTIONS\r\n  // To get channels meta\r\n  // get channels meta in a paginated format\r\n  // by passing in the starting index and the number of items per page\r\n  getChannelsMetaAsync = async (startIndex, pageCount) => {\r\n    this.getChannelFromApi(\r\n      startIndex,\r\n      pageCount,\r\n      this.state.account,\r\n      this.state.chainId\r\n    );\r\n    return new Promise(async (resolve, reject) => {\r\n      // get total number of channels\r\n      const channelsCount = await this.getChannelsCountAsync();\r\n      let stopIndex = startIndex + pageCount;\r\n\r\n      // if the stop index is -1 then get all channels\r\n      if (stopIndex == -1 || stopIndex > channelsCount) {\r\n        stopIndex = channelsCount;\r\n      }\r\n\r\n      // initialise an array with the values from 0 to the length of the number of channels\r\n      let channelIDs = [];\r\n\r\n      for (let i = startIndex; i < stopIndex; i++) {\r\n        channelIDs.push(i);\r\n      }\r\n      console.log({ channelIDs });\r\n\r\n      const promises = channelIDs.map(async (channelID) => {\r\n        // Match the cache\r\n        return this.getChannelMetaAsync(channelID)\r\n          .then((response) => response)\r\n          .catch((err) =>\r\n            console.log(\r\n              \"!!!Error (but skipping), getChannelMetaAsync() --> %o\",\r\n              err\r\n            )\r\n          );\r\n      });\r\n\r\n      // wait until all promises are resolved\r\n      const channelMetaData = await Promise.all(promises);\r\n\r\n      // return channels meta\r\n      // console.log(\"getChannelsMetaAsync(From %d to %d) --> %o\", startIndex, stopIndex, channelMetaData);\r\n      resolve(channelMetaData);\r\n    });\r\n  };\r\n\r\n  // To get a single channel meta via id\r\n  getChannelMetaAsync = async (channelID) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsMeta[channelID]) {\r\n        console.log(\r\n          \"getChannelMetaAsync() [CACHED] --> %o\",\r\n          this.state.channelsMeta[channelID]\r\n        );\r\n        resolve(this.state.channelsMeta[channelID]);\r\n      } else {\r\n        let channelAddress;\r\n\r\n        await EPNSCoreHelper.getChannelAddressFromID(\r\n          channelID,\r\n          this.state.epnsReadProvider\r\n        )\r\n          .then(async (response) => {\r\n            channelAddress = response;\r\n            await this.getChannelMetaViaAddressAsync(channelAddress).then(\r\n              (response) => {\r\n                // update the channel cache before resolving\r\n                this.state.channelsMeta[channelID] = response;\r\n                this.state.channelsMeta[channelAddress] = channelID;\r\n\r\n                // resolve\r\n                // console.log(\"getChannelMetaAsync() [Address: %s] --> %o\", channelAddress, response);\r\n                resolve(response);\r\n              }\r\n            );\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"!!!Error, getChannelMetaAsync() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  // To get a single channel meta via address\r\n  getChannelMetaViaAddressAsync = async (channelAddress) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsMeta[channelAddress]) {\r\n        const channelID = this.state.channelsMeta[channelAddress];\r\n\r\n        console.log(\r\n          \"getChannelMetaViaAddressAsync() [CACHED] --> %o\",\r\n          this.state.channelsMeta[channelID]\r\n        );\r\n        resolve(this.state.channelsMeta[channelID]);\r\n      } else {\r\n        // Can't cache this :(, no way to know channel id\r\n        await EPNSCoreHelper.getChannelInfo(\r\n          channelAddress,\r\n          this.state.epnsReadProvider\r\n        )\r\n          .then((response) => {\r\n            // resolve\r\n            // console.log(\"getChannelMetaViaAddressAsync() [Address: %s] --> %o\", channelAddress, response);\r\n            resolve(response);\r\n          })\r\n          .catch((err) => {\r\n            console.log(\r\n              \"!!!Error, getChannelMetaViaAddressAsync() --> %o\",\r\n              err\r\n            );\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  getChannelSubscribers = async (channelAddress) => {\r\n    if (!channelAddress) return;\r\n    const cachedSubscribers = this.state.subscribers[channelAddress];\r\n    if (cachedSubscribers) {\r\n      return cachedSubscribers;\r\n    }\r\n    let address = channelAddress;\r\n\r\n    return postReq(\"/channels/_get_subscribers\", {\r\n      channel: address,\r\n      blockchain: this.state.chainId,\r\n      op: \"read\",\r\n    })\r\n      .then(({ data }) => {\r\n        const subs = data.subscribers;\r\n        this.state.subscribers[channelAddress] = subs;\r\n        return subs;\r\n      })\r\n      .catch((err) => {\r\n        console.log(`getChannelSubscribers => ${err.message}`);\r\n        return [];\r\n      });\r\n  };\r\n\r\n  getChannelSubscribersCount = async (channelAddress) => {\r\n    if (!channelAddress) return;\r\n    const cachedSubscribersCount = this.state.subscribers[channelAddress];\r\n    if (cachedSubscribersCount) {\r\n      return cachedSubscribersCount;\r\n    }\r\n    let address = channelAddress;\r\n\r\n    return postReq(\"/channels/_get_subscribers\", {\r\n      channel: address,\r\n      blockchain: this.state.chainId,\r\n      op: \"read\",\r\n    })\r\n      .then(({ data }) => {\r\n        const subs = data.subscribers;\r\n        this.state.subscribersCount[channelAddress] = subs.length;\r\n        return subs.length;\r\n      })\r\n      .catch((err) => {\r\n        console.log(`getChannelSubscribersCount => ${err.message}`);\r\n        return [];\r\n      });\r\n  };\r\n\r\n  // CHANNELS INFO FUNCTIONS\r\n  // To get a single channel meta via id\r\n  getChannelJsonAsync = async (channelAddress) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsJson[channelAddress]) {\r\n        // console.log(\"getChannelJsonAsync() [CACHED] --> %o\", this.state.channelsJson[channelAddress]);\r\n        resolve(this.state.channelsJson[channelAddress]);\r\n      } else {\r\n        try {\r\n          // let objResponse = {};\r\n          const getChannelJson = await EPNSCoreHelper.getChannelJsonFromChannelAddress(\r\n            channelAddress,\r\n            this.state.epnsReadProvider\r\n          ).then((response) => {\r\n            return response;\r\n          });\r\n          // console.log(await this.state.channelsMeta, channelAddress);\r\n          // const getAliasAddress = EPNSCoreHelper.getAliasAddressFromChannelAddress(\r\n          //   channelAddress, this.state.chainId\r\n          // )\r\n          // .then((response) => {\r\n          //   objResponse.alias_address = response;\r\n          // });\r\n\r\n          // await Promise.all([getAliasAddress, getChannelJson]);\r\n\r\n          console.log(\r\n            \"getChannelJsonAsync() [Address: %s] --> %o\",\r\n            getChannelJson\r\n          );\r\n          this.state.channelsJson[channelAddress] = getChannelJson;\r\n          resolve(getChannelJson);\r\n        } catch (err) {\r\n          console.log(\"!!!Error, getChannelJsonAsync() --> %o\", err);\r\n          reject(err);\r\n        }\r\n      }\r\n    });\r\n  };\r\n}","/**\r\n * This file helps us maintain the channels fetched in state, such that when we leave the tab, the channels can be fetched from memory\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  CHANNNEL_DEACTIVATED_STATE: 2,\r\n  CHANNEL_BLOCKED_STATE: 3,\r\n  CHANNEL_ACTIVE_STATE: 1,\r\n  CHANNEL_BLACKLIST: [], //a list of channels\r\n  page: 0,\r\n  channels: [], // the channels meta-data\r\n  channelsCache: {}, // a mapping of channel address to channel details\r\n};\r\n\r\nexport const channelSlice = createSlice({\r\n  name: \"channels\",\r\n  initialState,\r\n  reducers: {\r\n    setChannelMeta: (state, action) => {\r\n      state.channels = action.payload;\r\n    },\r\n    incrementPage: (state) => {\r\n      state.page += 1;\r\n    },\r\n    cacheChannelInfo: (state, action) => {\r\n      const { address, meta } = action.payload;\r\n      state.channelsCache[address] = meta;\r\n    },\r\n    cacheSubscribe: (state, action) => {\r\n      const { channelAddress } = action.payload;\r\n      const channelIndex = state.channels.findIndex((channelInfo) => channelInfo.addr === channelAddress);\r\n      state.channels[channelIndex].memberCount++;\r\n      state.channels[channelIndex].isSubscriber = true;\r\n    },\r\n    cacheUnsubscribe: (state, action) => {\r\n      const { channelAddress } = action.payload;\r\n      const channelIndex = state.channels.findIndex((channelInfo) => channelInfo.addr === channelAddress);\r\n      state.channels[channelIndex].memberCount--;\r\n      state.channels[channelIndex].isSubscriber = false;\r\n    }\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n  setChannelMeta,\r\n  incrementPage,\r\n  cacheChannelInfo,\r\n  cacheSubscribe,\r\n  cacheUnsubscribe\r\n} = channelSlice.actions;\r\n\r\nexport default channelSlice.reducer;\r\n","import React from \"react\";\r\nimport styled, { css, useTheme } from \"styled-components\";\r\nimport { Device } from \"assets/Device\";\r\n\r\nimport { toast as toaster } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport Skeleton from \"@yisheng90/react-loading\";\r\nimport { IoMdPeople } from \"react-icons/io\";\r\nimport { GoVerified } from \"react-icons/go\";\r\nimport { FaRegAddressCard } from \"react-icons/fa\";\r\nimport { AiOutlineShareAlt } from \"react-icons/ai\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { ItemH, Span } from \"../primaries/SharedStyling\";\r\n\r\nimport { postReq } from \"api\";\r\n\r\nimport MetaInfoDisplayer from \"components/MetaInfoDisplayer\";\r\nimport NotificationToast from \"../primaries/NotificationToast\";\r\n\r\nimport ChannelTutorial, {\r\n  isChannelTutorialized,\r\n} from \"segments/ChannelTutorial\";\r\n\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport { cacheChannelInfo, setChannelMeta } from \"redux/slices/channelSlice\";\r\n\r\nimport { envConfig } from \"@project/contracts\";\r\nimport {\r\n  incrementStepIndex,\r\n  addNewWelcomeNotif,\r\n} from \"redux/slices/userJourneySlice\";\r\nimport { cacheSubscribe, cacheUnsubscribe } from \"redux/slices/channelSlice\";\r\nimport useToast from \"hooks/useToast\";\r\n\r\nimport { MdCheckCircle, MdError } from \"react-icons/md\";\r\nimport * as EpnsAPI from \"@epnsproject/sdk-restapi\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\n\r\n// Create Header\r\nfunction ViewChannelItem({ channelObjectProp, loadTeaser, playTeaser }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const themes = useTheme();\r\n\r\n  const { run, stepIndex } = useSelector((state) => state.userJourney);\r\n\r\n  const {\r\n    epnsReadProvider,\r\n    epnsWriteProvider,\r\n    epnsCommReadProvider,\r\n    pushAdminAddress,\r\n    ZERO_ADDRESS,\r\n  } = useSelector((state) => state.contracts);\r\n  const { canVerify } = useSelector((state) => state.admin);\r\n  const { channelsCache, CHANNEL_BLACKLIST, channels } = useSelector(\r\n    (state) => state.channels\r\n  );\r\n  const { account, library, chainId } = useWeb3React();\r\n\r\n  const onCoreNetwork = chainId === envConfig.coreContractChain;\r\n\r\n  const [channelObject, setChannelObject] = React.useState({});\r\n  const [channelJson, setChannelJson] = React.useState({});\r\n  const [subscribed, setSubscribed] = React.useState(channelObjectProp['isSubscriber']);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [memberCount, setMemberCount] = React.useState(channelObjectProp['memberCount']);\r\n  const [isPushAdmin, setIsPushAdmin] = React.useState(false);\r\n  const [isVerified, setIsVerified] = React.useState(false);\r\n  const [isBlocked, setIsBlocked] = React.useState(false);\r\n  const [vLoading, setvLoading] = React.useState(false);\r\n  const [bLoading, setBLoading] = React.useState(false);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n  const [canUnverify, setCanUnverify] = React.useState(false);\r\n  const [verifierDetails, setVerifierDetails] = React.useState(null);\r\n  const [copyText, setCopyText] = React.useState(null);\r\n\r\n  // ------ toast related section\r\n  const isChannelBlacklisted = CHANNEL_BLACKLIST.includes(channelObject.addr);\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n\r\n  let isOwner;\r\n  if (!onCoreNetwork) {\r\n    isOwner = channelObject.alias_address === account;\r\n  } else {\r\n    isOwner = channelObject.addr === account;\r\n  }\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n  // ------ toast related section\r\n\r\n  React.useEffect(() => {\r\n    if (!channelObject.addr) return;\r\n    if (channelObject.verifiedBy) {\r\n      // procced as usual\r\n      fetchChannelJson().catch((err) => alert(err.message));\r\n      setIsBlocked(\r\n        channelObject.channelState === 3 || channelObject.channelState === 2 //dont display channel if blocked //dont display channel if deactivated\r\n      );\r\n    } else {\r\n      // if this key (verifiedBy) is not present it means we are searching and should fetch the channel object from chain again\r\n      epnsReadProvider.channels(channelObject.addr).then((response) => {\r\n        setChannelObject({\r\n          ...response,\r\n          addr: channelObject.addr,\r\n          alias_address: channelObject.alias_address,\r\n          memberCount: channelObject.memberCount,\r\n          isSubscriber: channelObject.isSubscriber,\r\n        });\r\n        fetchChannelJson();\r\n      });\r\n    }\r\n  }, [account, channelObject, chainId]);\r\n\r\n  React.useEffect(() => {\r\n    if (!channelObjectProp) return;\r\n    const channelIndex = channels.findIndex((channelInfo) => channelInfo.addr === channelObjectProp.addr);\r\n    if (channelIndex === -1) {\r\n      dispatch(setChannelMeta([...channels, channelObjectProp]));\r\n      setChannelObject(channelObjectProp);\r\n    } else {\r\n      setChannelObject(channels[channelIndex]);\r\n    }\r\n  }, [channelObjectProp, channels]);\r\n\r\n  React.useEffect(() => {\r\n    if (!isVerified || channelObject?.verifiedBy === ZERO_ADDRESS) return;\r\n    ChannelsDataStore.instance\r\n      .getChannelJsonAsync(channelObject.verifiedBy)\r\n      .then((verifierDetails) => {\r\n        setVerifierDetails(verifierDetails);\r\n      })\r\n      .catch((err) => {\r\n        console.log(channelObject.verifiedBy, err);\r\n      });\r\n  }, [isVerified, channelObject]);\r\n\r\n  const EPNS_DOMAIN = {\r\n    name: \"EPNS COMM V1\",\r\n    chainId: chainId,\r\n    verifyingContract: epnsCommReadProvider.address,\r\n  };\r\n  // to fetch channels\r\n  const fetchChannelJson = async () => {\r\n    try {\r\n      let channelJson = {};\r\n      setCopyText(channelObject.addr);\r\n      if (channelsCache[channelObject.addr]) {\r\n        channelJson = channelsCache[channelObject.addr];\r\n      } else {\r\n        channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(\r\n          channelObject.addr\r\n        );\r\n        dispatch(\r\n          cacheChannelInfo({\r\n            address: channelObject.addr,\r\n            meta: channelJson,\r\n          })\r\n        );\r\n      }\r\n      let channelAddress = channelObject.addr;\r\n      if (!onCoreNetwork) {\r\n        channelAddress = channelObject.alias_address;\r\n      }\r\n      if (!channelAddress) return;\r\n\r\n      setIsPushAdmin(pushAdminAddress === account);\r\n      setMemberCount(channelObject.memberCount);\r\n      setSubscribed(channelObject.isSubscriber);\r\n      setChannelJson({\r\n        ...channelJson,\r\n        addr: channelObject.addr,\r\n        memberCount: channelObject.memberCount,\r\n        isSubscriber: channelObject.isSubscriber,\r\n      });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setIsBlocked(true);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!channelObject) return;\r\n    setIsVerified(\r\n      Boolean(\r\n        (channelObject.verifiedBy &&\r\n          channelObject.verifiedBy !== ZERO_ADDRESS) ||\r\n          channelObject.addr === pushAdminAddress\r\n      )\r\n    );\r\n    setCanUnverify(channelObject.verifiedBy == account);\r\n  }, [channelObject]);\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Oval color={color} height={30} width={30} />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  );\r\n\r\n  // to subscribe\r\n  const subscribe = async () => {\r\n    console.log(\"click executed\");\r\n    subscribeAction(false);\r\n  };\r\n  const formatAddress = (addressText) => {\r\n    return addressText.length > 40\r\n      ? `${addressText.slice(0, 4)}....${addressText.slice(36)}`\r\n      : addressText;\r\n  };\r\n\r\n  // Toastify\r\n  let notificationToast = () =>\r\n    toaster.dark(<LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />, {\r\n      position: \"bottom-right\",\r\n      autoClose: false,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const verifyChannel = () => {\r\n    setvLoading(true);\r\n    // post op\r\n    epnsWriteProvider\r\n      .verifyChannel(channelObject.addr)\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction sent\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        // await tx.wait(1);\r\n        // console.log (\"Transaction Mined!\");\r\n        setIsVerified(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"!!!Error verifyChannel() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || \"Unknown Error\",\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        setvLoading(false);\r\n      });\r\n  };\r\n\r\n  const unverifyChannel = () => {\r\n    setvLoading(true);\r\n    epnsWriteProvider\r\n      .unverifyChannel(channelObject.addr)\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction sent\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        await tx.wait(1);\r\n        console.log(\"Transaction Mined!\");\r\n        setIsVerified(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"!!!Error handleSendMessage() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || \"Unknown Error\",\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      });\r\n    setvLoading(false);\r\n  };\r\n  const blockChannel = () => {\r\n    setBLoading(true);\r\n    epnsWriteProvider\r\n      .blockChannel(channelObject.addr)\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction Sent\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        // await tx.wait(1);\r\n        // console.log (\"Transaction Mined!\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"!!!Error handleSendMessage() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error.message,\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        // post op\r\n        setBLoading(false);\r\n        setIsBlocked(true);\r\n      });\r\n  };\r\n\r\n  const subscribeToast = useToast();\r\n  const subscribeAction = async () => {\r\n    setTxInProgress(true);\r\n    // let txToast;\r\n    try {\r\n      // const type = {\r\n      //   Subscribe: [\r\n      //     { name: \"channel\", type: \"address\" },\r\n      //     { name: \"subscriber\", type: \"address\" },\r\n      //     { name: \"action\", type: \"string\" },\r\n      //   ],\r\n      // };\r\n\r\n      let channelAddress = channelObject.addr;\r\n      // if (!onCoreNetwork) {\r\n      //   channelAddress = channelObject.alias_address;\r\n      // }\r\n\r\n      // const message = {\r\n      //   channel: channelAddress,\r\n      //   subscriber: account,\r\n      //   action: \"Subscribe\",\r\n      // };\r\n\r\n      // const signature = await library\r\n      //   .getSigner(account)\r\n      //   ._signTypedData(EPNS_DOMAIN, type, message);\r\n      // subscribeToast.showToast(\"Waiting for Confirmation...\");\r\n\r\n      subscribeToast.showToast(\"Waiting for Confirmation...\");\r\n\r\n      if (run) {\r\n        const type = {\r\n          Subscribe: [\r\n            { name: \"channel\", type: \"address\" },\r\n            { name: \"subscriber\", type: \"address\" },\r\n            { name: \"action\", type: \"string\" },\r\n          ],\r\n        };\r\n        \r\n        const message = {\r\n          channel: channelAddress,\r\n          subscriber: account,\r\n          action: \"Subscribe\",\r\n        };\r\n\r\n        await library\r\n          .getSigner(account)\r\n          ._signTypedData(EPNS_DOMAIN, type, message);\r\n        \r\n        console.log(\"in run\");\r\n        subscribeToast.updateToast(\r\n          \"Success\",\r\n          \"Successfully opted into channel !\",\r\n          \"SUCCESS\",\r\n          (size) => <MdCheckCircle size={size} color=\"green\" />\r\n        );\r\n\r\n        dispatch(\r\n          addNewWelcomeNotif({\r\n            cta: \"\",\r\n            title: channelJson.info,\r\n            message: `Welcome to ${channelJson.name} Channel. From now onwards, you'll be getting notifications from this channel`,\r\n            icon: channelJson.icon,\r\n            url: channelJson.url,\r\n            sid: \"\",\r\n            app: channelJson.name,\r\n            image: \"\",\r\n          })\r\n        );\r\n        setTxInProgress(false);\r\n        setSubscribed(true);\r\n        if (stepIndex === 5) {\r\n          console.log(\"this is working\");\r\n          dispatch(incrementStepIndex());\r\n        }\r\n        return;\r\n      }\r\n\r\n      const _signer = await library.getSigner(account);\r\n      await EpnsAPI.channels.subscribe({\r\n        signer: _signer,\r\n        channelAddress: convertAddressToAddrCaip(channelAddress, chainId), // channel address in CAIP\r\n        userAddress: convertAddressToAddrCaip(account, chainId), // user address in CAIP\r\n        onSuccess: () => {\r\n          dispatch(cacheSubscribe({ channelAddress: channelObject.addr }));\r\n          setSubscribed(true);\r\n          setMemberCount(memberCount + 1);\r\n\r\n          subscribeToast.updateToast(\r\n            \"Success\",\r\n            \"Successfully opted into channel !\",\r\n            \"SUCCESS\",\r\n            (size) => <MdCheckCircle size={size} color=\"green\" />\r\n          );\r\n        },\r\n        onError: () => {\r\n          console.error('opt in error');\r\n          subscribeToast.updateToast(\r\n            \"Error\",\r\n            `There was an error opting into channel`,\r\n            \"ERROR\",\r\n            (size) => <MdError size={size} color=\"red\" />\r\n          );\r\n        },\r\n        env: envConfig['env']\r\n      })\r\n\r\n      // postReq(\"/channels/subscribe\", {\r\n      //   signature,\r\n      //   message,\r\n      //   op: \"write\",\r\n      //   chainId,\r\n      //   contractAddress: epnsCommReadProvider.address,\r\n      // }).then((res) => {\r\n      //   dispatch(cacheSubscribe({ channelAddress: channelObject.addr }));\r\n      //   setSubscribed(true);\r\n      //   setMemberCount(memberCount + 1);\r\n\r\n      //   subscribeToast.updateToast(\r\n      //     \"Success\",\r\n      //     \"Successfully opted into channel !\",\r\n      //     \"SUCCESS\",\r\n      //     (size) => <MdCheckCircle size={size} color=\"green\" />\r\n      //   );\r\n\r\n      //   console.log(res);\r\n      //   setTxInProgress(false);\r\n      // });\r\n    } catch (err) {\r\n      subscribeToast.updateToast(\r\n        \"Error\",\r\n        `There was an error opting into channel ( ${err.message} )`,\r\n        \"ERROR\",\r\n        (size) => <MdError size={size} color=\"red\" />\r\n      );\r\n\r\n      console.log(err);\r\n    } finally {\r\n      setTxInProgress(false);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = (address) => {\r\n    let hostname = window.location.hostname;\r\n    // if we are on localhost, attach the port\r\n    if (hostname === \"localhost\") {\r\n      hostname = hostname + \":3000\";\r\n    }\r\n    const url = `${hostname}/#/channels?channel=${address}`;\r\n    // fallback for non navigator browser support\r\n    if (navigator && navigator.clipboard) {\r\n      navigator.clipboard.writeText(url);\r\n    } else {\r\n      const el = document.createElement(\"textarea\");\r\n      el.value = url;\r\n      document.body.appendChild(el);\r\n      el.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(el);\r\n    }\r\n  };\r\n\r\n  const unsubscribeToast = useToast();\r\n  const unsubscribeAction = async () => {\r\n    // let txToast;\r\n    try {\r\n      // const type = {\r\n      //   Unsubscribe: [\r\n      //     { name: \"channel\", type: \"address\" },\r\n      //     { name: \"unsubscriber\", type: \"address\" },\r\n      //     { name: \"action\", type: \"string\" },\r\n      //   ],\r\n      // };\r\n\r\n      let channelAddress = channelObject.addr;\r\n      // if (!onCoreNetwork) {\r\n      //   channelAddress = channelObject.alias_address;\r\n      // }\r\n\r\n      // const message = {\r\n      //   channel: channelAddress,\r\n      //   unsubscriber: account,\r\n      //   action: \"Unsubscribe\",\r\n      // };\r\n      // const signature = await library\r\n      //   .getSigner(account)\r\n      //   ._signTypedData(EPNS_DOMAIN, type, message);\r\n\r\n      unsubscribeToast.showToast(\"Waiting for Confirmation...\");\r\n\r\n      const _signer = await library.getSigner(account);\r\n      await EpnsAPI.channels.unsubscribe({\r\n        signer: _signer,\r\n        channelAddress: convertAddressToAddrCaip(channelAddress, chainId), // channel address in CAIP\r\n        userAddress: convertAddressToAddrCaip(account, chainId), // user address in CAIP\r\n        onSuccess: () => {\r\n          dispatch(cacheUnsubscribe({ channelAddress: channelObject.addr }));\r\n          setSubscribed(false);\r\n          setMemberCount(memberCount - 1);\r\n\r\n          unsubscribeToast.updateToast(\r\n            \"Success\",\r\n            \"Successfully opted out of channel !\",\r\n            \"SUCCESS\",\r\n            (size) => <MdCheckCircle size={size} color=\"green\" />\r\n          );\r\n        },\r\n        onError: () => {\r\n          console.error('opt out error');\r\n          unsubscribeToast.updateToast(\r\n            \"Error\",\r\n            `There was an error opting out of channel`,\r\n            \"ERROR\",\r\n            (size) => <MdError size={size} color=\"red\" />\r\n          );\r\n        },\r\n        env: envConfig['env']\r\n      })\r\n\r\n      // postReq(\"/channels/unsubscribe\", {\r\n      //   signature,\r\n      //   message,\r\n      //   op: \"write\",\r\n      //   chainId,\r\n      //   contractAddress: epnsCommReadProvider.address,\r\n      // })\r\n      //   .then((res) => {\r\n      //     dispatch(cacheUnsubscribe({ channelAddress: channelObject.addr }));\r\n      //     setSubscribed(false);\r\n      //     setMemberCount(memberCount - 1);\r\n\r\n      //     // toaster.update(txToast, {\r\n      //     //   render: \"Successfully opted out of channel !\",\r\n      //     //   type: toaster.TYPE.SUCCESS,\r\n      //     //   autoClose: 5000,\r\n      //     // });\r\n      //     unsubscribeToast.updateToast(\r\n      //       \"Success\",\r\n      //       \"Successfully opted out of channel !\",\r\n      //       \"SUCCESS\",\r\n      //       (size) => <MdCheckCircle size={size} color=\"green\" />\r\n      //     );\r\n\r\n      //     console.log(res);\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     // toaster.update(txToast, {\r\n      //     //   render:\r\n      //     //     \"There was an error opting into channel (\" + err.message + \")\",\r\n      //     //   type: toaster.TYPE.ERROR,\r\n      //     //   autoClose: 5000,\r\n      //     // });\r\n      //     unsubscribeToast.updateToast(\r\n      //       \"Error\",\r\n      //       `There was an error opting into channel ( ${err.message} )`,\r\n      //       \"ERROR\",\r\n      //       (size) => <MdError size={size} color=\"red\" />\r\n      //     );\r\n\r\n      //     console.log(err);\r\n      //   })\r\n      //   .finally(() => {\r\n      //     setTxInProgress(false);\r\n      //   });\r\n    } catch (err) {\r\n      unsubscribeToast.updateToast(\r\n        \"Error\",\r\n        `There was an error opting out of channel ( ${err.message} )`,\r\n        \"ERROR\",\r\n        (size) => <MdError size={size} color=\"red\" />\r\n      );\r\n\r\n      console.log(err);\r\n    } finally {\r\n      setTxInProgress(false);\r\n    }\r\n  };\r\n\r\n  const CTA_OVERRIDE_CACHE = {\r\n    \"0xb1676B5Ab63F01F154bb9938F5e8999d9Da5444B\": \"https://boardroom.io/\",\r\n    \"0x7DA9A33d15413F499299687cC9d81DE84684E28E\":\r\n      \"https://rmm.realtoken.network/dashboard\",\r\n    \"0x90A48D5CF7343B08dA12E067680B4C6dbfE551Be\": \"https://shapeshift.com\",\r\n  };\r\n  if (isBlocked) return <></>;\r\n  if (isChannelBlacklisted) return <></>;\r\n\r\n  // render\r\n  return (\r\n    <Container key={channelObject.addr}>\r\n      <ChannelLogo>\r\n        <ChannelLogoOuter>\r\n          <ChannelLogoInner>\r\n            {loading ? (\r\n              <Skeleton color={themes.interfaceSkeleton} height=\"100%\" />\r\n            ) : (\r\n              <ChannelLogoImg src={`${channelJson.icon}`} />\r\n            )}\r\n          </ChannelLogoInner>\r\n        </ChannelLogoOuter>\r\n      </ChannelLogo>\r\n\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          {loading ? (\r\n            <Skeleton\r\n              color={themes.interfaceSkeleton}\r\n              width=\"50%\"\r\n              height={24}\r\n            />\r\n          ) : (\r\n            <ChannelTitleLink\r\n              href={CTA_OVERRIDE_CACHE[channelObject.addr] || channelJson.url}\r\n              target=\"_blank\"\r\n              rel=\"nofollow\"\r\n            >\r\n              <Span>\r\n                {channelJson.name}\r\n                {isVerified && (\r\n                  <Span margin=\"0px 5px\">\r\n                    <GoVerified\r\n                      size={18}\r\n                      color={themes.viewChannelVerifiedBadge}\r\n                    />\r\n                  </Span>\r\n                )}\r\n              </Span>\r\n            </ChannelTitleLink>\r\n          )}\r\n        </ChannelTitle>\r\n\r\n        <ChannelDesc>\r\n          {loading ? (\r\n            <>\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton\r\n                  color={themes.interfaceSkeleton}\r\n                  width=\"100%\"\r\n                  height={5}\r\n                />\r\n              </SkeletonWrapper>\r\n\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton\r\n                  color={themes.interfaceSkeleton}\r\n                  width=\"100%\"\r\n                  height={5}\r\n                />\r\n              </SkeletonWrapper>\r\n\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton\r\n                  color={themes.interfaceSkeleton}\r\n                  width=\"40%\"\r\n                  height={5}\r\n                />\r\n              </SkeletonWrapper>\r\n            </>\r\n          ) : (\r\n            <ChannelDescLabel>{channelJson.info}</ChannelDescLabel>\r\n          )}\r\n        </ChannelDesc>\r\n\r\n        <ChannelMeta>\r\n          {loading ? (\r\n            <>\r\n              <SkeletonWrapper atH={10} atW={30} marginBottom=\"0\">\r\n                <Skeleton color={themes.interfaceSkeleton} />\r\n              </SkeletonWrapper>\r\n            </>\r\n          ) : (\r\n            <ItemH align=\"center\" justify=\"flex-start\" margin=\"0px -5px\">\r\n              <MetaInfoDisplayer\r\n                externalIcon={\r\n                  <IoMdPeople\r\n                    size={20}\r\n                    color={themes.viewChannelSecondaryIcon}\r\n                  />\r\n                }\r\n                internalIcon={null}\r\n                text={memberCount}\r\n                bgColor={themes.viewChannelSecondaryBG}\r\n              />\r\n\r\n              <MetaInfoDisplayer\r\n                externalIcon={\r\n                  <FaRegAddressCard\r\n                    size={20}\r\n                    color={themes.viewChannelSecondaryIcon}\r\n                  />\r\n                }\r\n                internalIcon={<AiOutlineShareAlt />}\r\n                text={formatAddress(copyText)}\r\n                bgColor={themes.viewChannelSecondaryBG}\r\n                onClick={() => {\r\n                  copyToClipboard(channelJson.addr);\r\n                  setCopyText(\"copied\");\r\n                }}\r\n                onMouseEnter={() => {\r\n                  setCopyText(\"click to copy\");\r\n                }}\r\n                onMouseLeave={() => {\r\n                  setCopyText(channelJson.addr);\r\n                }}\r\n              />\r\n\r\n              {isChannelTutorialized(channelObject.addr) && (\r\n                <ChannelTutorial\r\n                  addr={channelObject.addr}\r\n                  bgColor={themes.viewChannelSecondaryBG}\r\n                  loadTeaser={loadTeaser}\r\n                  playTeaser={playTeaser}\r\n                />\r\n              )}\r\n\r\n              {verifierDetails && (\r\n                <Subscribers>\r\n                  <VerifiedBy>Verified by:</VerifiedBy>\r\n                  <VerifierIcon src={verifierDetails.icon} />\r\n                  <VerifierName>{verifierDetails.name}</VerifierName>\r\n                </Subscribers>\r\n              )}\r\n            </ItemH>\r\n          )}\r\n        </ChannelMeta>\r\n      </ChannelInfo>\r\n      {!!account && !!library && (\r\n        <>\r\n          <LineBreak />\r\n          <ChannelActions>\r\n            {loading && (\r\n              <SkeletonButton>\r\n                <Skeleton color={themes.interfaceSkeleton} />\r\n              </SkeletonButton>\r\n            )}\r\n            {!loading && isPushAdmin && (\r\n              <SubscribeButton onClick={blockChannel} disabled={bLoading}>\r\n                {bLoading && (\r\n                  <ActionLoader>\r\n                    <Oval color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={bLoading}>Block channel</ActionTitle>\r\n              </SubscribeButton>\r\n            )}\r\n            {!loading && (isPushAdmin || canVerify) && !isVerified && (\r\n              <SubscribeButton onClick={verifyChannel} disabled={vLoading}>\r\n                {vLoading && (\r\n                  <ActionLoader>\r\n                    <Oval color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={vLoading}>Verify Channel</ActionTitle>\r\n              </SubscribeButton>\r\n            )}\r\n            {!loading && (isPushAdmin || canUnverify) && isVerified && (\r\n              <UnsubscribeButton onClick={unverifyChannel} disabled={vLoading}>\r\n                {vLoading && (\r\n                  <ActionLoader>\r\n                    <Oval color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={vLoading}>Unverify Channel</ActionTitle>\r\n              </UnsubscribeButton>\r\n            )}\r\n            {!loading && !subscribed && (\r\n              <SubscribeButton\r\n                onClick={subscribe}\r\n                disabled={txInProgress}\r\n                className=\"optin\"\r\n              >\r\n                {txInProgress && (\r\n                  <ActionLoader>\r\n                    <Oval color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={txInProgress}>Opt-In</ActionTitle>\r\n              </SubscribeButton>\r\n            )}\r\n            {!loading && subscribed && (\r\n              <>\r\n                {isOwner && <OwnerButton disabled>Owner</OwnerButton>}\r\n                {!isOwner && (\r\n                  <UnsubscribeButton\r\n                    onClick={unsubscribeAction}\r\n                    disabled={txInProgress}\r\n                  >\r\n                    {txInProgress && (\r\n                      <ActionLoader>\r\n                        <Oval color=\"#FFF\" height={16} width={16} />\r\n                      </ActionLoader>\r\n                    )}\r\n                    <ActionTitle hideit={txInProgress}>Opt-Out</ActionTitle>\r\n                  </UnsubscribeButton>\r\n                )}\r\n              </>\r\n            )}\r\n          </ChannelActions>\r\n        </>\r\n      )}\r\n      {toast && (\r\n        <NotificationToast notification={toast} clearToast={clearToast} />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst FlexBox = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ColumnFlex = styled(FlexBox)`\r\n  flex-direction: column;\r\n`;\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  background: ${(props) => props.theme.mainBg};\r\n  border-radius: 10px;\r\n  border: 1px solid ${(props) => props.theme.viewChannelOuterBorder};\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 10px;\r\n\r\n  align-self: stretch;\r\n`;\r\n\r\nconst SkeletonWrapper = styled.div`\r\n  overflow: hidden;\r\n  width: ${(props) => props.atW + \"%\" || \"100%\"};\r\n  height: ${(props) => props.atH}px;\r\n  border-radius: ${(props) => props.borderRadius || 10}px;\r\n  margin-bottom: ${(props) => props.marginBottom || 5}px;\r\n  margin-right: ${(props) => props.marginRight || 0}px;\r\n`;\r\n\r\nconst ChannelLogo = styled.div`\r\n  max-width: 100px;\r\n  min-width: 32px;\r\n  flex: 1;\r\n  margin: 5px;\r\n  padding: 10px;\r\n  border: 2px solid ${(props) => props.theme.viewChannelIconBorder};\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: flex-start;\r\n`;\r\n\r\nconst ChannelLogoOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`;\r\n\r\nconst ChannelLogoInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ChannelLogoImg = styled.img`\r\n  object-fit: contain;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 240px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n\r\n  @media (max-width: 480px) {\r\n    min-width: 210px;\r\n  }\r\n`;\r\n\r\nconst ChannelTitle = styled(ItemH)`\r\n  padding: 5px 10px 5px 0px;\r\n  justify-content: flex-start;\r\n  margin: 0;\r\n  flex: initial;\r\n  align-items: center;\r\n`;\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  display: flex;\r\n  flex: 1;\r\n  align-item: center;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n\r\n  & > span {\r\n    font-weight: 600;\r\n    color: ${(props) => props.theme.viewChannelLink};\r\n    font-size: 20px;\r\n  }\r\n\r\n  & > span > span {\r\n    vertical-align: middle;\r\n  }\r\n`;\r\n\r\nconst VerifiedBy = styled.span`\r\n  color: #ec008c;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n  letter-spacing: 0.05em;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst VerifierIcon = styled.img`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  margin-left: 6px;\r\n  margin-right: 4px;\r\n`;\r\n\r\nconst VerifierName = styled.span`\r\n  font-weight: 400;\r\n  color: ${(props) => props.theme.color};\r\n  font-size: 16px;\r\n  letter-spacing: 0em;\r\n`;\r\n\r\nconst ChannelDesc = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  font-size: 14px;\r\n  color: rgba(0, 0, 0, 0.75);\r\n  padding: 5px 0px 10px 0px;\r\n  font-weight: 400;\r\n  flex-direction: column;\r\n  color: ${(props) => props.theme.color};\r\n`;\r\n\r\nconst ChannelDescLabel = styled.label`\r\n  flex: 1;\r\n`;\r\n\r\nconst ChannelMeta = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  padding: 5px 0px;\r\n  font-size: 13px;\r\n`;\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 5px 10px;\r\n  display: flex;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n  gap: 3px;\r\n`;\r\n\r\nconst Subscribers = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst SubscribersCount = styled(ChannelMetaBox)`\r\n  background: ${(props) => props.theme.viewChannelSecondaryBG};\r\n  transition: 300ms;\r\n`;\r\n\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #674c9f;\r\n`;\r\n\r\nconst LineBreak = styled.div`\r\n  display: none;\r\n  flex-basis: 100%;\r\n  height: 0;\r\n\r\n  @media ${Device.tablet} {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst ChannelActions = styled.div`\r\n  margin: 5px;\r\n  flex-grow: 1;\r\n  // max-width: 250px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  // justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst ActionTitle = styled.span`\r\n  ${(props) =>\r\n    props.hideit &&\r\n    css`\r\n      visibility: hidden;\r\n    `};\r\n`;\r\n\r\nconst ActionLoader = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst SkeletonButton = styled.div`\r\n  border: 0;\r\n  outline: 0;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  flex: 1;\r\n`;\r\n\r\nconst SubscribeButton = styled(ChannelActionButton)`\r\n  background: #e20880;\r\n  min-width: 80px;\r\n`;\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #674c9f;\r\n  min-width: 80px;\r\n`;\r\n\r\nconst OwnerButton = styled(ChannelActionButton)`\r\n  background: #35c5f3;\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\n// Export Default\r\nexport default ViewChannelItem;\r\n","import React from \"react\";\r\n\r\nimport { useTheme } from 'styled-components';\r\nimport { Item, ItemH, Span, Anchor} from '../primaries/SharedStyling';\r\n\r\nimport { FaGasPump } from 'react-icons/fa';\r\n\r\n// Faucet URLs\r\nfunction Faucets({chainId}) {\r\n  const themes = useTheme();\r\n\r\n  const faucetInfo = {\r\n    \"42\": {\r\n      name: \"Kovan Ether\",\r\n      network: \"Kovan\",\r\n      url: \"https://gitter.im/kovan-testnet/faucet\"\r\n    },\r\n    \"80001\": {\r\n      name: \"Mumbai Matic\",\r\n      network: \"Polygon\",\r\n      url: \"https://faucet.polygon.technology/\"\r\n    }\r\n  }\r\n\r\n  // render\r\n  return (\r\n    <ItemH\r\n      self=\"flex-end\"\r\n      flex=\"initial\"\r\n      bg={`${themes.faucetBg}`}\r\n      radius=\"8px\"\r\n      padding=\"30px 10px 10px 10px\"\r\n      margin=\"10px\"\r\n      border={`1px solid ${themes.faucetBorder}`}\r\n      overflow=\"hidden\"\r\n      align=\"center\"\r\n    >\r\n      <Span\r\n        pos=\"absolute\"\r\n        top=\"10px\"\r\n        right=\"0px\"\r\n        padding=\"5px 10px\"\r\n        bg={`${themes.faucetHeader}`}\r\n        color=\"#fff\"\r\n        size=\"12px\"\r\n        weight=\"600\"\r\n      >\r\n        Get Free {faucetInfo[chainId].name}\r\n      </Span>\r\n\r\n      <Item margin=\"5px\">\r\n        <Anchor\r\n          direction=\"column\"\r\n          href=\"https://faucet.metamask.io/\"\r\n          target=\"_blank\"\r\n          rel=\"nofollow\"\r\n        >\r\n          <FaGasPump size={30} color={`${themes.faucetIcon}`}/>\r\n          <Span\r\n            bg=\"#000\"\r\n            color=\"#fff\"\r\n            size=\"10px\"\r\n            weight=\"600\"\r\n            spacing=\"0.1em\"\r\n            textAlign=\"center\"\r\n            padding=\"5px 10px\"\r\n            margin=\"10px 0px 0px 0px\"\r\n            textTransform=\"uppercase\"\r\n            radius=\"8px\"\r\n          >\r\n            Metamask Faucet\r\n          </Span>\r\n        </Anchor>\r\n      </Item>\r\n      <Item margin=\"5px\">\r\n        <Anchor\r\n          direction=\"column\"\r\n          href={faucetInfo[chainId].url}\r\n          target=\"_blank\"\r\n          rel=\"nofollow\"\r\n        >\r\n          <FaGasPump size={30} color={`${themes.faucetIcon}`}/>\r\n          <Span\r\n            bg=\"#000\"\r\n            color=\"#fff\"\r\n            size=\"10px\"\r\n            weight=\"600\"\r\n            spacing=\"0.1em\"\r\n            textAlign=\"center\"\r\n            padding=\"5px 10px\"\r\n            margin=\"10px 0px 0px 0px\"\r\n            textTransform=\"uppercase\"\r\n            radius=\"8px\"\r\n          >\r\n            Faucet {faucetInfo[chainId].network}\r\n          </Span>\r\n        </Anchor>\r\n      </Item>\r\n\r\n    </ItemH>\r\n  );\r\n}\r\n\r\n// Export Default\r\nexport default Faucets;\r\n","import React from \"react\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { postReq } from \"api\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nimport { Item, ItemH } from \"../primaries/SharedStyling\";\r\nimport { AiOutlineSearch } from \"react-icons/ai\";\r\n\r\nimport UtilityHelper from 'helpers/UtilityHelper';\r\n\r\nimport DisplayNotice from \"../primaries/DisplayNotice\";\r\nimport ViewChannelItem from \"components/ViewChannelItem\";\r\nimport Faucets from \"components/Faucets\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport { setChannelMeta, incrementPage } from \"redux/slices/channelSlice\";\r\nimport { incrementStepIndex } from \"redux/slices/userJourneySlice\";\r\n\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\n\r\nconst CHANNELS_PER_PAGE = 10; //pagination parameter which indicates how many channels to return over one iteration\r\nconst SEARCH_TRIAL_LIMIT = 5; //ONLY TRY SEARCHING 5 TIMES BEFORE GIVING UP\r\nconst DEBOUNCE_TIMEOUT = 500; //time in millisecond which we want to wait for then to finish typing\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/;\r\nconst SEARCH_DELAY = 1500;\r\n\r\n// Create Header\r\nfunction ViewChannels({ loadTeaser, playTeaser }) {\r\n  const themes = useTheme();\r\n  const dispatch = useDispatch();\r\n  const { account, chainId } = useWeb3React();\r\n  const { channels, page, ZERO_ADDRESS } = useSelector((state: any) => state.channels);\r\n  const {\r\n    run,\r\n    stepIndex\r\n  } = useSelector((state: any) => state.userJourney);\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [moreLoading, setMoreLoading] = React.useState(false);\r\n  const [search, setSearch] = React.useState(\"\");\r\n  const [channelToShow, setChannelToShow] = React.useState([]);\r\n  const [loadingChannel, setLoadingChannel] = React.useState(false);\r\n  const [trialCount, setTrialCount] = React.useState(0);\r\n\r\n  const channelsVisited = page * CHANNELS_PER_PAGE;\r\n\r\n  // fetch channel data if we are just getting to this pae\r\n  React.useEffect(() => {\r\n    setLoading(!channels.length); //if there are no channels initially then, set the loader\r\n    fetchInitialsChannelMeta();\r\n  }, [account, chainId]);\r\n\r\n  // to update a page\r\n  const updateCurrentPage = () => {\r\n    if (loading || moreLoading) return;\r\n    // fetch more channel information\r\n    setMoreLoading(true);\r\n    dispatch(incrementPage());\r\n    loadMoreChannelMeta(page + 1); //load the meta for the next page\r\n  };\r\n\r\n  // to fetch initial channels and logged in user data\r\n  const fetchInitialsChannelMeta = async () => {\r\n    // fetch the meta of the first `CHANNELS_PER_PAGE` channels\r\n    const channelsMeta = await ChannelsDataStore.instance.getChannelFromApi(\r\n      channelsVisited,\r\n      CHANNELS_PER_PAGE,\r\n      account,\r\n      chainId\r\n    );\r\n    dispatch(incrementPage())\r\n    if (!channels.length) {\r\n      dispatch(setChannelMeta(channelsMeta));\r\n    }\r\n\r\n    // increases the step once the channel are loaded\r\n    if (\r\n      run &&\r\n      stepIndex === 3\r\n    ) {\r\n      dispatch(incrementStepIndex());\r\n      dispatch(incrementStepIndex());\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  // load more channels when we get to the bottom of the page\r\n  const loadMoreChannelMeta = async (newPageNumber: any) => {\r\n    const startingPoint = newPageNumber * CHANNELS_PER_PAGE;\r\n    const moreChannels = await ChannelsDataStore.instance.getChannelFromApi(\r\n      startingPoint,\r\n      CHANNELS_PER_PAGE,\r\n      account,\r\n      chainId\r\n    );\r\n    dispatch(setChannelMeta([...channels, ...moreChannels]));\r\n    setMoreLoading(false);\r\n  };\r\n\r\n  // conditionally display the waymore bar which loads more information\r\n  // load more channels when we are at the bottom of the page\r\n  const showWayPoint = (index: any) => {\r\n    return Number(index) === channels.length - 1;\r\n  };\r\n\r\n  // Search Channels Feature\r\n  // React.useEffect(() => {\r\n  //   if (!channels.length) return;\r\n  //   setChannelToShow(channels);\r\n  // }, [channels]);\r\n\r\n  function searchForChannel() {\r\n    if (loadingChannel) return; //if we are already loading, do nothing\r\n    if (search) {\r\n      setLoadingChannel(true); //begin loading here\r\n      setChannelToShow([]); //maybe remove later\r\n      let payloadToSearchApiObj;\r\n      if (envConfig.coreContractChain === 42) {\r\n        payloadToSearchApiObj = {\r\n          query: search,\r\n          op: \"read\",\r\n          page: 1,\r\n          address: account,\r\n          pageSize: 1000,\r\n          chainId: chainId,\r\n        };\r\n      } else {\r\n        payloadToSearchApiObj = {\r\n          query: search,\r\n          op: \"read\",\r\n        };\r\n      }\r\n      postReq(\"/channels/_search\", payloadToSearchApiObj)\r\n        .then((data) => {\r\n          setChannelToShow(data.data.channels || []);\r\n          setLoadingChannel(false);\r\n        })\r\n        .catch(() => {\r\n          // if there's an error search for three times before giving up and displaying the normal channels\r\n          if (trialCount < SEARCH_TRIAL_LIMIT) {\r\n            setTrialCount((t) => t + 1);\r\n            searchForChannel(); //if theres an error, recursively search\r\n          } else {\r\n            setChannelToShow(channels);\r\n            setLoadingChannel(false);\r\n          }\r\n        });\r\n    } else {\r\n      // if no search item, then set it back to the channels\r\n      setLoadingChannel(false);\r\n      setChannelToShow(channels);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    // this is done so that we only make a request after the user stops typing\r\n    const timeout = setTimeout(searchForChannel, DEBOUNCE_TIMEOUT);\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [search]);\r\n\r\n\r\n\r\n  React.useEffect(() => {\r\n    const parsedChannel = window.location.href.toString().slice(window.location.href.toString().length - 42)\r\n    if (!ADDRESS_REGEX.test(parsedChannel)) return;\r\n    setTimeout(() => {\r\n      setSearch(parsedChannel);\r\n    }, SEARCH_DELAY)\r\n  }, [])\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Container>\r\n        <ScrollItem>\r\n          {!loading && (\r\n            <ItemH\r\n              padding=\"10px 0px\"\r\n              flex=\"initial\"\r\n            >\r\n              <SearchContainer\r\n                flex=\"1\"\r\n                margin=\"10px\"\r\n              >\r\n                <SearchBar\r\n                  type=\"text\"\r\n                  value={search}\r\n                  onChange={(e: any) => setSearch(e.target.value)}\r\n                  className=\"input\"\r\n                  placeholder=\"Search By Name/Address\"\r\n                />\r\n                <Item\r\n                  position=\"absolute\"\r\n                  top=\"0\"\r\n                  bottom=\"0\"\r\n                  left=\"12px\"\r\n\r\n                >\r\n                  <AiOutlineSearch size={20} style={{ color: themes.viewChannelSearchIcon }} />\r\n                </Item>\r\n              </SearchContainer>\r\n\r\n              {!UtilityHelper.isMainnet(chainId) &&\r\n                <Faucets chainId={chainId} />\r\n              }\r\n\r\n            </ItemH>\r\n          )}\r\n\r\n          {/* render all channels depending on if we are searching or not */}\r\n          {(search ? channelToShow : channels).map(\r\n            (channel: any, index: any) =>\r\n              channel &&\r\n              channel.addr !== ZERO_ADDRESS && (\r\n                <>\r\n                  <ViewChannelItems key={channel.addr} self=\"stretch\">\r\n                    <ViewChannelItem channelObjectProp={channel} loadTeaser={loadTeaser} playTeaser={playTeaser} />\r\n                  </ViewChannelItems>\r\n\r\n                  {showWayPoint(index) && (\r\n                    <Waypoint onEnter={updateCurrentPage} />\r\n                  )}\r\n                </>\r\n              )\r\n          )}\r\n          {/* render all channels depending on if we are searching or not */}\r\n\r\n          {/* if we are in search mode and there are no channels then display error message */}\r\n          {search && !channelToShow?.length && !loadingChannel && (\r\n            <CenteredContainerInfo>\r\n              <DisplayNotice\r\n                title=\"No channels match your query, please search for another name/address\"\r\n                theme=\"third\"\r\n              />\r\n            </CenteredContainerInfo>\r\n          )}\r\n\r\n          {/* display loader if pagination is loading next batch of channelTotalList */}\r\n          {((moreLoading && channels.length) ||\r\n            loading ||\r\n            loadingChannel) && (\r\n              <CenterContainer>\r\n                <Oval color=\"#35c5f3\" height={40} width={40} />\r\n              </CenterContainer>\r\n            )}\r\n        </ScrollItem>\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst SearchBar = styled.input`\r\n  width: 100%;\r\n  padding-right: 50px;\r\n  height: 60px;\r\n  padding-left: 40px;\r\n\r\n  background: ${props => props.theme.viewChannelSearchBg};\r\n  border: 1px solid ${props => props.theme.viewChannelSearchBorder} !important;\r\n  color: ${props => props.theme.viewChannelSearchText};\r\n  box-sizing: border-box;\r\n  border-radius: 10px;\r\n  text-transform: capitalize;\r\n  font-size: 16px;\r\n\r\n  input[type=\"reset\"] {\r\n    display: none;\r\n  }\r\n  &::placeholder {\r\n    letter-spacing: 0.15em;\r\n  }\r\n  &:hover,\r\n  &:active,\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:focus {\r\n    border: 1px solid #ec008c;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 92vh;\r\n`;\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`;\r\n\r\nconst ViewChannelItems = styled.div`\r\n  align-self: stretch;\r\n`\r\n\r\nconst CenteredContainerInfo = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst CenterContainer = styled(ContainerInfo)`\r\n  width: fit-content;\r\n  align-self: center;\r\n`;\r\n\r\nconst ScrollItem = styled(Item)`\r\n  display: flex;\r\n  align-self: stretch;\r\n  align-items: stretch;\r\n  justify-content: stretch;\r\n  flex-wrap: nowrap;\r\n  \r\n  flex: 1;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background-color: ${props => props.theme.scrollBg};\r\n    border-radius: 10px;\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    background-color: ${props => props.theme.scrollBg};\r\n    width: 6px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    border-radius: 10px;\r\n    background-image: -webkit-gradient(linear,\r\n                       left top,\r\n                       left bottom,\r\n                       color-stop(0.44, #35c5f3),\r\n                       color-stop(0.72, #35b0f3),\r\n                       color-stop(0.86, #35a1f3));\r\n  }\r\n`;\r\n\r\nconst SearchContainer = styled(Item)`\r\n  min-width: 320px;\r\n\r\n  @media (max-width: 768px) {\r\n    min-width: 320px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    min-width: 210px;\r\n  }\r\n`;\r\n\r\n// Export Default\r\nexport default ViewChannels;\r\nexport { ScrollItem };\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { MultiSelect } from \"react-multi-select-component\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport {Oval} from \"react-loader-spinner\";\r\nimport { Item } from '../primaries/SharedStyling';\r\n\r\nexport default function SearchFilter(props) {\r\n\r\n    const [search, setSearch] = useState('');\r\n    const [startDate, setStartDate] = useState();\r\n    const [endDate, setEndDate] = useState();\r\n    const themes = useTheme();\r\n\r\n    const applySearch = async () => {\r\n        var channels = [];\r\n        selectedOption.length ? selectedOption.map(each => channels.push(each.value)) : (channels = []);\r\n        await props.filterNotifications(search, channels, startDate, endDate);\r\n    }\r\n\r\n    var options = [];\r\n    props.notifications.map(each => options.push({ label: each.app, value: each.channel }));\r\n    var uniqueOptions = [...new Map(options.map((item) => [item[\"value\"], item])).values()];\r\n    const [showFilter, setShowFilter] = useState(false);\r\n    const [selectedOption, setSelectedOption] = useState(uniqueOptions);\r\n    // console.log(props.notifications);\r\n\r\n    const reset = async () => {\r\n        setStartDate(null);\r\n        setEndDate(null);\r\n        setSearch('');\r\n        setSelectedOption(uniqueOptions);\r\n        props.reset();\r\n    }\r\n\r\n    return (\r\n        <ThemeProvider theme={themes}>\r\n            <Container>\r\n                <TopBar mbtm={showFilter ? '1rem' : '0px'}>\r\n                    <Left>\r\n                        {themes.scheme === 'light' ? (<img style={{ height: \"20px\", width: \"20px\", marginTop: \"1rem\", marginLeft: \"2rem\", marginRight: \"1rem\" }} src='/svg/filterIcon.svg' alt=\"Filter Icon\" />) : (<img style={{ height: \"20px\", width: \"20px\", marginTop: \"1rem\", marginLeft: \"2rem\", marginRight: \"1rem\" }} src='/svg/filterw.png' alt=\"Filter Icon\" />)}\r\n                        {!props.loadFilter ?\r\n                            <FilterShow onClick={() => { showFilter ? setShowFilter(false) : setShowFilter(true) }}>\r\n                                <Filter style={{ marginTop: \"1rem\", fontWeight: \"400\", color: \"#B4B4B4\" }} >Filter Notifications</Filter>\r\n                                <Arrow>\r\n                                    <ToggleArrowImg>\r\n                                        <img alt=\"arrow\" className={`${showFilter ? \"down\" : \"up\"}`} src=\"/svg/arrow.svg\" />\r\n                                    </ToggleArrowImg>\r\n                                </Arrow>\r\n                            </FilterShow>\r\n                            :\r\n                            <FilterShow>\r\n                                <Filter style={{ marginTop: \"1rem\", fontWeight: \"400\", color: \"#B4B4B4\" }} >Filter Notifications</Filter>\r\n                                <Item\r\n                                    padding=\"10px 20px\"\r\n                                >\r\n                                    <Oval color=\"#35c5f3\" height={20} width={20} />\r\n                                </Item>\r\n                            </FilterShow>\r\n                        }\r\n\r\n                    </Left>\r\n                    {\r\n                        showFilter ? (<Buttons>\r\n                            <ButtonFeed bgColor='#e20880' onClick={applySearch}>\r\n                                Apply\r\n                            </ButtonFeed>\r\n                            <ButtonFeed bgColor='#35c5f3' onClick={reset}>\r\n                                Reset\r\n                            </ButtonFeed>\r\n                        </Buttons>) : (<></>)\r\n                    }\r\n\r\n\r\n                </TopBar>\r\n\r\n                {\r\n                    showFilter ? (<SearchOptions>\r\n                        <SectionSearch mright='3.5rem' mtop='3.6rem'>\r\n\r\n                            <SelectChannel>\r\n                                <SMultiSelect\r\n                                    options={uniqueOptions}\r\n                                    valueRenderer={() => {\r\n                                        if (selectedOption.length === 0) return 'By Channel Name'\r\n                                        return `${selectedOption.length} Selected`\r\n                                    }}\r\n                                    value={selectedOption}\r\n                                    onChange={setSelectedOption}\r\n                                    labelledBy=\"Search Notifications from\"\r\n                                    placeholder=\"Search Notifications from\"\r\n                                />\r\n\r\n                            </SelectChannel>\r\n                            <InputWrapper>\r\n\r\n                                <Input value={search} type=\"text\" placeholder=\"By Keyword\" onChange={(e) => {\r\n                                    setSearch(e.target.value);\r\n                                }} />\r\n                            </InputWrapper>\r\n                        </SectionSearch>\r\n                        <SectionSearch mleft='3.5rem'>\r\n                            <p style={{ fontSize: \"1.2rem\", color: \"#B4B4B4\", fontWeight: \"500\", \"fontFamily\": \"Source Sans Pro\" }}>By time of notification sent</p>\r\n                            <RangeSection mtop=\"0.5rem\">\r\n                                <TimeLabelDiv>\r\n                                    <div>Start Date</div>\r\n                                </TimeLabelDiv>\r\n                                <SDateTimePicker className=\"date\" value={startDate} onChange={setStartDate} />\r\n                            </RangeSection>\r\n                            <RangeSection mttop=\"1.5rem\">\r\n                                <TimeLabelDiv>\r\n                                    <div>End Date</div>\r\n                                </TimeLabelDiv>\r\n                                <SDateTimePicker className=\"date\" value={endDate} onChange={setEndDate} />\r\n                            </RangeSection>\r\n                        </SectionSearch>\r\n                    </SearchOptions>) : (<></>)\r\n                }\r\n            </Container>\r\n        </ThemeProvider>\r\n    )\r\n}\r\n\r\n\r\nconst SDateTimePicker = styled(DateTimePicker)`\r\n    padding-right: 4px;\r\n    flex: 6;\r\n    display: flex;\r\n    align-items: center !important;\r\n    font-family: Source Sans Pro;\r\n    .react-datetime-picker__wrapper {\r\n        border: 0px !important;\r\n        border-radius: 5px !important;\r\n        height: 40px !important;\r\n    }\r\n    \r\n    .react-datetime-picker__inputGroup {\r\n        text-align: center !important;\r\n        @media(max-width:850px)\r\n            {\r\n                width: 4rem !important;\r\n                margin-right: -2px !important;\r\n                margin: 0px !important;\r\n            }\r\n    }\r\n    \r\n    .react-datetime-picker__inputGroup__input {\r\n        font-weight: 500 !important;\r\n    }\r\n    .react-datetime-picker__inputGroup__input{\r\n        font-weight: 500 !important;\r\n        color : ${props => props.theme.scheme === \"dark\" ? `#fff` : `#000`};\r\n    }\r\n\r\n    .react-datetime-picker__button svg {\r\n        stroke : ${props => props.theme.scheme === \"dark\" ? `#fff` : `#000`};\r\n    }\r\n    .react-datetime-picker__button{\r\n        @media(max-width:850px)\r\n            {\r\n                margin: 0px !important;\r\n                padding: 0px !important;\r\n            }\r\n    }\r\n    .react-datetime-picker__inputGroup__input--hasLeadingZero {\r\n        font-weight: 500 !important;\r\n    }\r\n    .react-datetime-picker__inputGroup__minute {\r\n        font-weight: 400 !important;\r\n    }\r\n\r\n    .react-datetime-picker__clock {\r\n        display: none;\r\n    }\r\n    .react-datetime-picker__inputGroup__divider {\r\n        font-weight: 400;\r\n    }\r\n`\r\n\r\nconst TimeLabelDiv = styled.div`\r\n    flex: 2;\r\n    padding: 0 10px;\r\n    background-color: #35c5f3;\r\n    align-self: stretch;\r\n    text-align: center;\r\n    color: white;\r\n    font-weight: bold;\r\n\r\n\r\n    div{\r\n        margin-top: 10px;\r\n        font-family: Source Sans Pro;\r\n    }\r\n\r\n    @media(max-width: 400px){\r\n        padding: 0 4px;\r\n    }\r\n`\r\n\r\n\r\nconst SMultiSelect = styled(MultiSelect)`\r\n    font-weight: 400 !important;\r\n    font-size: 1.1rem !important;\r\n    margin-top: 3px;\r\n    .search input{\r\n        color : ${props => props.theme.scheme === \"dark\" ? `#fff` : `#000`};\r\n    }\r\n\r\n    input {\r\n        height: 35px;\r\n        outline: none !important;\r\n        border: 0px solid white !important;\r\n        font-weight: 400;\r\n        background-color: inherit;\r\n    }\r\n\r\n    /* Aligns the option label with the checkbox */\r\n    .select-item{\r\n        position: relative;\r\n    }\r\n    .select-item span{\r\n        position: absolute;\r\n        margin-top: 7px;\r\n        margin-left: 22px;\r\n    }\r\n    .dropdown-container {\r\n        border: 0px solid white !important;\r\n        margin: 0px !important;\r\n        padding: 0px !important;\r\n    }\r\n\r\n    .dropdown-heading {\r\n       &:focus {\r\n        border: 0px solid white !important;\r\n        box-shadow: 0 0 0px white !important;\r\n            }\r\n        }\r\n\r\n    .dropdown-content {\r\n        .panel-content {\r\n            overflow: hidden;\r\n            font-family: Source Sans Pro;\r\n            font-weight:18px;\r\n                }\r\n            }\r\n        \r\n    .dropdown-container {\r\n        border: 0px solid white !important;\r\n        margin: 0px !important;\r\n        padding: 0px !important;\r\n    }\r\n\r\n    .dropdown-container {\r\n        &:focus-within {\r\n        border: 0px solid white !important;\r\n        box-shadow: 0 0 0 0px white !important;\r\n        }\r\n    }\r\n\r\n\r\n    ${props => props.theme.scheme === \"dark\" && `\r\n        --rmsc-main: #4285f4;\r\n        --rmsc-hover: #0e0c0a;\r\n        --rmsc-selected: #1d1915;\r\n        --rmsc-border: #333333;\r\n        --rmsc-gray: #555555;\r\n        --rmsc-bg: #000000;\r\n        color: #fff;\r\n    `}\r\n`\r\n\r\n\r\nconst SelectChannel = styled.div`\r\nborder: 1px solid ${props => props.theme.faucetBorder};\r\nborder-radius: 5px;\r\nfont-family: Source Sans Pro;\r\n`;\r\n\r\nconst FilterShow = styled.span`\r\ndisplay: flex;\r\nflex-direction: row;\r\n&:hover {\r\n    cursor: pointer;\r\n}\r\n`;\r\n\r\nconst Input = styled.input`\r\n    border: 0px solid white;\r\n    font-size: 1.1rem;\r\n    margin-top: 2.5px;\r\n    font-weight: 400;\r\n    position: relative;\r\n    color: #35C5F3;\r\n    padding-left: 0.7rem;\r\n    width: 100%;\r\n    height: 35px;\r\n    outline: none !important;\r\n    border: 0px solid white !important;\r\n    font-weight: 400;\r\n    background-color: inherit;\r\n    $:focus {\r\n        height: 35px;\r\n        outline: none !important;\r\n        border: 0px solid white !important;\r\n        font-weight: 400;\r\n        background-color: inherit;\r\n    }\r\n    &::placeholder {\r\n        opacity: 1;\r\n        font-weight: 400;\r\n        font-family: Source Sans Pro;\r\n        color: #B0B0B0 !important;\r\n      }\r\n`;\r\n\r\nconst Filter = styled.span`\r\nmargin-bottom: 1rem;\r\n&:hover {\r\n    cursor: pointer;\r\n}\r\n`;\r\n\r\nconst Arrow = styled.span`\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: center;\r\nmargin-left: 0.7rem;\r\n&:hover {\r\n    cursor: pointer;\r\n}\r\n`;\r\n\r\nconst RangeSection = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nborder: 1px solid ${props => props.theme.faucetBorder};\r\n\r\nborder-radius: 5px;\r\njustify-content: space-between;\r\nalign-items: center;\r\nheight: \"40px\";\r\n\r\nposition: relative;\r\nmargin-top:  ${(props) => (props.mttop ? props.mttop : \"\")};\r\n@media(max-width:600px)\r\n{\r\n    margin-top:  ${(props) => (props.mtop ? props.mtop : \"\")};\r\n}\r\n`;\r\n\r\nconst Container = styled.div`\r\nwidth: -webkit-fill-available;\r\ndisplay: flex;\r\nflex-direction: column;\r\n// border:  0.5px solid #674C9F;\r\n// border:${(props) => (props.Border ? props.Border : \"\")}\r\nborder: 1px solid ${props => props.theme.faucetBorder};\r\nborder-radius: 10px;\r\nmargin: 1.3rem;\r\n\r\n@media(max-width: 400px){\r\n    margin-left: 0.5rem;\r\n    margin-right: 0.5rem;\r\n}\r\n`;\r\n\r\n\r\nconst TopBar = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\nborder-bottom: 1px solid ${props => props.theme.faucetBorder};\r\nborder-top-left-radius: 5px;\r\nborder-top-right-radius: 5px;\r\nmargin-bottom: ${(props) => (props.mbtm ? props.mbtm : \"\")};\r\nfont-family: Source Sans Pro;\r\n`;\r\n\r\nconst Left = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nfont-family: Source Sans Pro;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\nmargin-right: 2rem;\r\nmargin-top: 0.3rem;\r\nmargin-bottom: 0.5rem;\r\n@media (max-width: 600px)\r\n{\r\n    margin-right: 1.5rem;\r\n    margin-left: 2rem;\r\n    width: 4rem;\r\n    flex-direction: column;\r\n    \r\n}\r\nfont-family: Source Sans Pro;\r\n\r\n`;\r\n\r\nconst ButtonFeed = styled.button`\r\n\r\nheight: 30px;\r\nmargin :3px;\r\ncolor: white;\r\nwidth: 75px;\r\nborder-radius: 5px;\r\nborder: 2px solid white;\r\ndisplay:flex;\r\nalign-items:center;\r\njustify-content:center;\r\nbackground-color:  ${(props) => (props.bgColor ? props.bgColor : \"\")};\r\nmargin-right:  ${(props) => (props.mright ? props.mright : \"\")};\r\n&:hover {\r\n  cursor: pointer;\r\n  pointer: hand;\r\n}\r\n@media (max-width: 500px)\r\n{\r\n    margin-right:  ${(props) => (props.mright ? \"1.5rem\" : \"\")};\r\n}\r\nfont-family: Source Sans Pro;\r\n`;\r\n\r\n\r\nconst SearchOptions = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nmargin-left: 2rem;\r\nmargin-right: 2rem;\r\nmargin-bottom: 1rem;\r\njustify-content: space-between;\r\nfont-family: Source Sans Pro;\r\n\r\n@media(max-width: 600px)\r\n{\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-item: center;\r\n    margin-left: 0.5rem;\r\n    margin-right: 0.5rem;\r\n}\r\n`;\r\n\r\nconst SectionSearch = styled.div`\r\ndisply: flex;\r\nflex-direction: column;\r\nalign-items: center;\r\njustify-content: center;\r\nflex: 1;\r\n@media(min-width: 600px)\r\n{\r\n    margin-right:  ${(props) => (props.mright ? props.mright : \"\")};\r\n    margin-left:  ${(props) => (props.mleft ? props.mleft : \"\")};\r\n    margin-top:  ${(props) => (props.mtop ? props.mtop : \"\")};\r\n}\r\n`;\r\n\r\n\r\nconst InputWrapper = styled.div`\r\n    display:flex;\r\n    height: 40px;\r\n\r\n    border: 1px solid ${props => props.theme.faucetBorder};\r\n    border-radius: 5px;\r\n    margin-top: 1.5rem;\r\n    padding: 1px;\r\n    @media(max-width:600px)\r\n    {\r\n        margin-bottom: 1rem;\r\n    }\r\n`;\r\n\r\n\r\nconst ToggleArrowImg = styled.div`\r\n\r\n    .down {\r\n        transform: rotate(-180deg);\r\n        transition: transform .25s;\r\n    }\r\n\r\n    .up{\r\n        transform: rotate(-360deg);\r\n        transition: transform .25s;\r\n    }\r\n`\r\n","/**\r\n * This file helps us maintain the notifications fetched in state, so when tabs are switched we can retain the notification information\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    page: 1, //the current page\r\n    notifications: [],// the actual notifications\r\n    finishedFetching: false,\r\n    toggler: false\r\n}\r\n\r\nexport const contractSlice = createSlice({\r\n    name: \"notifications\",\r\n    initialState,\r\n    reducers: {\r\n        toggleToggler: (state) => {\r\n            state.toggler = !state.toggler;\r\n        },\r\n        resetState: (state) => {\r\n            state.page = initialState.page;\r\n            state.notifications = initialState.notifications;\r\n            state.finishedFetching = initialState.finishedFetching;\r\n        },\r\n        addPaginatedNotifications: (state, action) => {\r\n            state.notifications = [ ...state.notifications, ...action.payload ];\r\n            state.page += 1;\r\n        },\r\n        incrementPage: (state) => {\r\n            state.page += 1;\r\n        },\r\n        addNewNotification: (state, action) => {\r\n            state.notifications = [{...action.payload}, ...state.notifications]\r\n        },\r\n        setFinishedFetching: (state) => {\r\n            state.finishedFetching = true;\r\n        },\r\n        updateTopNotifications: (state, action) => {\r\n            console.log({pp: action.payload});\r\n            state.notifications = [...action.payload.notifs, ...state.notifications.slice(action.payload.pageSize)];\r\n            console.log({sn: state.notifications});\r\n        }\r\n    }\r\n});\r\n\r\nexport const {\r\n    toggleToggler,\r\n    addPaginatedNotifications,\r\n    incrementPage,\r\n    addNewNotification,\r\n    setFinishedFetching,\r\n    resetState,\r\n    updateTopNotifications\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;\r\n","import React from \"react\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { ScrollItem } from \"./ViewChannels\";\r\nimport DisplayNotice from \"../primaries/DisplayNotice\";\r\nimport SearchFilter from \"components/SearchFilter\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport * as EpnsAPI from \"@epnsproject/sdk-restapi\";\r\nimport { NotificationItem } from \"@epnsproject/sdk-uiweb\";\r\nimport {\r\n  addPaginatedNotifications,\r\n  incrementPage,\r\n  setFinishedFetching,\r\n  updateTopNotifications,\r\n} from \"redux/slices/notificationSlice\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nimport { toast as toaster } from \"react-toastify\";\r\nimport NotificationToast from \"../primaries/NotificationToast\";\r\nimport CryptoHelper from \"helpers/CryptoHelper\";\r\n\r\nimport { Item } from \"../primaries/SharedStyling\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\nconst NOTIFICATIONS_PER_PAGE = 10;\r\n\r\n// Create Header\r\nfunction Feedbox(props) {\r\n  const dispatch = useDispatch();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const { notifications, page, finishedFetching, toggle } = useSelector(\r\n    (state: any) => state.notifications\r\n  );\r\n\r\n  const themes = useTheme();\r\n  let user = convertAddressToAddrCaip(account,chainId)\r\n\r\n  // toast related section\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n\r\n  const { run, welcomeNotifs } = useSelector((state: any) => state.userJourney);\r\n\r\n  const [limit, setLimit] = React.useState(10);\r\n  const [allNotf, setNotif] = React.useState([]);\r\n  const [filteredNotifications, setFilteredNotifications] = React.useState([]);\r\n  const [filter, setFilter] = React.useState(false);\r\n  const [loadFilter, setLoadFilter] = React.useState(false);\r\n  const [bgUpdateLoading, setBgUpdateLoading] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const NormalToast = ({ msg }) => (\r\n    <Toaster>\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n\r\n  const reset = () => setFilter(false);\r\n  const filterNotifications = async (query, channels, startDate, endDate) => {\r\n    if (startDate == null) startDate = new Date('January 1, 2000');\r\n    if (endDate == null) endDate = new Date('January 1, 3000');\r\n    startDate = startDate.getTime() / 1000;\r\n    endDate = endDate.getTime() / 1000;\r\n\r\n    if (loading) return;\r\n    setBgUpdateLoading(true);\r\n    setLoading(true);\r\n    setFilter(true);\r\n    var Filter = {\r\n      channels: channels,\r\n      date: { lowDate: startDate, highDate: endDate }\r\n    };\r\n    if (channels.length == 0) delete Filter.channels;\r\n\r\n    setFilteredNotifications([]);\r\n    try {\r\n      let filterNotif = [];\r\n      for (const notif of allNotf) {\r\n        let timestamp;\r\n        const matches = notif.message.match(/\\[timestamp:(.*?)\\]/);\r\n        if (matches) {\r\n          timestamp = matches[1];\r\n        } \r\n        else timestamp = notif.epoch;\r\n        if (\r\n          ((Filter.channels === undefined ? true : (Filter.channels.includes(notif.channel))) &&\r\n          timestamp >= startDate && timestamp <= endDate\r\n          && (query === \"\" || notif.message.toLowerCase().includes(query.toLowerCase())))\r\n        )\r\n          filterNotif.push(notif);\r\n      }\r\n      await setFilteredNotifications(filterNotif);\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n      setBgUpdateLoading(false);\r\n    }\r\n  }\r\n  const loadNotifications = async () => {\r\n    if (loading || finishedFetching) return;\r\n    setLoading(true);\r\n    try {\r\n      // const { count, results } = await EpnsAPI.fetchNotifications({\r\n      //   user: account,\r\n      //   pageSize: NOTIFICATIONS_PER_PAGE,\r\n      //   page,\r\n      //   chainId,\r\n      //   dev: true,\r\n      // });\r\n      const results = await EpnsAPI.user.getFeeds({\r\n        user: user, // user address in CAIP\r\n        raw: true,\r\n        env: envConfig['env'],\r\n        page: page,\r\n        limit: NOTIFICATIONS_PER_PAGE\r\n      });\r\n      console.log(results)\r\n      const parsedResponse = EpnsAPI.utils.parseApiResponse(results);\r\n      dispatch(addPaginatedNotifications(parsedResponse));\r\n      if (results.length === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const fetchLatestNotifications = async () => {\r\n    if (loading || bgUpdateLoading) return;\r\n    setBgUpdateLoading(true);\r\n    setLoading(true);\r\n    try {\r\n      const results = await EpnsAPI.user.getFeeds({\r\n        user: user, // user address in CAIP\r\n        env: envConfig['env'],\r\n        raw: true,\r\n        page: 1,\r\n        limit: NOTIFICATIONS_PER_PAGE\r\n      });\r\n      if (!notifications.length) {\r\n        dispatch(incrementPage());\r\n      }\r\n      const parsedResponse = EpnsAPI.utils.parseApiResponse(results);\r\n      const map1 = new Map();\r\n      const map2 = new Map();\r\n      results.forEach( each => {\r\n        map1.set(each.payload.data.sid , each.epoch);\r\n        map2.set(each.payload.data.sid , each.sender);\r\n    })\r\n    parsedResponse.forEach( each => {\r\n        each['date'] = map1.get(each.sid);\r\n        each['epoch'] = (new Date(each['date']).getTime() / 1000);\r\n        each['channel'] = map2.get(each.sid);\r\n    })\r\n      dispatch(\r\n        updateTopNotifications({\r\n          notifs: parsedResponse,\r\n          pageSize: NOTIFICATIONS_PER_PAGE,\r\n        })\r\n      );\r\n      if (results.length === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setBgUpdateLoading(false);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAllNotif = async () => {\r\n    setLoadFilter(true);\r\n    try {\r\n      const results = await EpnsAPI.user.getFeeds({\r\n        user: user, // user address in CAIP\r\n        env: envConfig['env'],\r\n        limit: 100000,\r\n        page: page,\r\n        raw:true\r\n      });\r\n      if (!notifications.length) {\r\n        dispatch(incrementPage());\r\n      }\r\n      const parsedResponse = EpnsAPI.utils.parseApiResponse(results);\r\n      const map1 = new Map();\r\n      const map2 = new Map();\r\n      results.forEach( each => {\r\n        map1.set(each.payload.data.sid , each.epoch);\r\n        map2.set(each.payload.data.sid , each.sender);\r\n    })\r\n    parsedResponse.forEach( each => {\r\n        each['date'] = map1.get(each.sid);\r\n        each['epoch'] = (new Date(each['date']).getTime() / 1000);\r\n        each['channel'] = map2.get(each.sid);\r\n    })\r\n      setNotif(parsedResponse);\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoadFilter(false);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    fetchLatestNotifications();\r\n    fetchAllNotif();\r\n  }, [toggle]);\r\n\r\n  //function to query more notifications\r\n  const handlePagination = async () => {\r\n    if (filter) {\r\n      setLimit(limit + 10);\r\n    } \r\n    else {\r\n      loadNotifications();\r\n      dispatch(incrementPage());\r\n    }\r\n  };\r\n\r\n  const showWayPoint = (index: any) => {\r\n    if (!filter) {\r\n      return (\r\n        Number(index) === notifications.length - 1 &&\r\n        !finishedFetching &&\r\n        !bgUpdateLoading\r\n      );\r\n    } \r\n    else {\r\n      return (\r\n      Number(index) === limit - 1\r\n      );\r\n    }\r\n\r\n  };\r\n\r\n  const onDecrypt = async ({ secret, title, message, image, cta }) => {\r\n    let txToast;\r\n    try {\r\n      let decryptedSecret = await CryptoHelper.decryptWithWalletRPCMethod(library.provider, secret, account);\r\n\r\n      // decrypt notification message\r\n      const decryptedBody = await CryptoHelper.decryptWithAES(message, decryptedSecret);\r\n\r\n      // decrypt notification title\r\n      let decryptedTitle = await CryptoHelper.decryptWithAES(title, decryptedSecret);\r\n\r\n      // decrypt notification image\r\n      let decryptedImage = await CryptoHelper.decryptWithAES(image, decryptedSecret);\r\n\r\n      // decrypt notification cta\r\n      let decryptedCta = await CryptoHelper.decryptWithAES(cta, decryptedSecret);\r\n      return { title: decryptedTitle, body: decryptedBody, image: decryptedImage, cta: decryptedCta };\r\n    } catch (error) {\r\n      if (error.code === 4001) {\r\n        // EIP-1193 userRejectedRequest error\r\n        console.error(error);\r\n        txToast = toaster.dark(\r\n          <NormalToast msg=\"User denied message decryption\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            type: toaster.TYPE.ERROR,\r\n            autoClose: 5000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n      } else if (error.code === -32601) {\r\n        console.error(error);\r\n        txToast = toaster.dark(\r\n          <NormalToast msg=\"Your wallet doesn't support message decryption.\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            type: toaster.TYPE.ERROR,\r\n            autoClose: 5000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n      } else {\r\n        console.error(error);\r\n        txToast = toaster.dark(\r\n          <NormalToast msg=\"There was an error in message decryption\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            type: toaster.TYPE.ERROR,\r\n            autoClose: 5000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  // Render\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Container>\r\n        <SearchFilter\r\n          notifications={allNotf}\r\n          filterNotifications={filterNotifications}\r\n          filter={filter}\r\n          reset={reset}\r\n          loadFilter={loadFilter}\r\n          showFilter={props.showFilter}\r\n        />\r\n        <ScrollItem>\r\n          {((!run && !notifications.length) ||\r\n            (!run && filter && !filteredNotifications.length) ||\r\n            (run && !welcomeNotifs.length)) &&\r\n            !loading && (\r\n              <div style={{ textAlign: \"center\" }}>\r\n                <DisplayNotice\r\n                  title=\"You currently have no notifications, try subscribing to some channels.\"\r\n                  theme=\"third\"\r\n                ></DisplayNotice>\r\n              </div>\r\n            )}\r\n          {notifications && (\r\n            <Notifs id=\"scrollstyle-secondary\">\r\n              {bgUpdateLoading && (\r\n                <Item padding=\"10px 20px\">\r\n                  <Oval color=\"#35c5f3\" height={40} width={40} />\r\n                </Item>\r\n              )}\r\n              {run &&\r\n                welcomeNotifs.map((oneNotification, index) => {\r\n                  const {\r\n                    cta,\r\n                    title,\r\n                    message,\r\n                    app,\r\n                    icon,\r\n                    image,\r\n                    blockchain,\r\n                    url\r\n                  } = oneNotification;\r\n\r\n                  // render the notification item\r\n                  return (\r\n                    <div key={`${message}+${title}`}>\r\n                      <NotificationItem\r\n                        notificationTitle={title}\r\n                        notificationBody={message}\r\n                        cta={cta}\r\n                        app={app}\r\n                        icon={icon}\r\n                        image={image}\r\n                        theme={themes.scheme}\r\n                        chainName={blockchain}\r\n                        url={url}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n              {(filter\r\n                ? filteredNotifications.slice(0, limit)\r\n                : notifications\r\n              ).map((oneNotification, index) => {\r\n                const {\r\n                  cta,\r\n                  title,\r\n                  message,\r\n                  app,\r\n                  icon,\r\n                  image,\r\n                  secret,\r\n                  notification,\r\n                  blockchain,\r\n                  url\r\n                } = oneNotification;\r\n                if (run) return;\r\n                // render the notification item\r\n                return (\r\n                  <div key={index}>\r\n                    {showWayPoint(index) && (\r\n                      <Waypoint onEnter={() => handlePagination()} />\r\n                    )}\r\n                    <NotificationItem\r\n                      notificationTitle={notification.title}\r\n                      notificationBody={notification.body}\r\n                      cta={cta}\r\n                      app={app}\r\n                      icon={icon}\r\n                      image={image}\r\n                      isSecret={secret != \"\"}\r\n                      decryptFn={() =>\r\n                        onDecrypt({ secret, title, message, image, cta })\r\n                      }\r\n                      chainName={blockchain}\r\n                      theme={themes.scheme}\r\n                      url={url}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n              {loading && !bgUpdateLoading && (\r\n                <Item padding=\"10px 20px\">\r\n                  <Oval color=\"#35c5f3\" height={40} width={40} />\r\n                </Item>\r\n              )}\r\n            </Notifs>\r\n          )}\r\n\r\n          {toast && (\r\n            <NotificationToast notification={toast} clearToast={clearToast} />\r\n          )}\r\n        </ScrollItem>\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background: ${props => props.theme.mainBg};\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  height: inherit;\r\n  // margin: 0px 10px;\r\n`;\r\n\r\nconst Notifs = styled.div`\r\n  align-self: stretch;\r\n  flex: 1;\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\n// Export Default\r\nexport default Feedbox;","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport styled, { useTheme, ThemeProvider } from \"styled-components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n// import { Item, Button } from \"../primaries/SharedStyling\";\r\nimport { envConfig } from \"@project/contracts\";\r\n// import { postReq } from \"api\";\r\n\r\n// import { toast as toaster } from \"react-toastify\";\r\nimport NotificationToast from \"../primaries/NotificationToast\";\r\n\r\nimport { Oval } from \"react-loader-spinner\";\r\n\r\nimport Feedbox from \"segments/Feedbox\";\r\n\r\n\r\nimport GLOBALS from \"config/Globals\";\r\nexport const ALLOWED_CORE_NETWORK = envConfig.coreContractChain;\r\n\r\n// Create Header\r\nfunction InboxPage() {\r\n\t// React GA Analytics\r\n\tReactGA.pageview(\"/inbox\");\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { account, chainId, library } = useWeb3React();\r\n\t// const { epnsReadProvider, epnsCommReadProvider } = useSelector(\r\n\t// \t(state) => state.contracts\r\n\t// );\r\n\r\n\t// toast related section\r\n\tconst [toast, showToast] = React.useState(null);\r\n\tconst clearToast = () => showToast(null);\r\n\r\n\t// whether secret notif are enabled\r\n\t// const [enabledSecretNotif, setEnabledSecretNotif] = React.useState(false);\r\n\r\n\tconst themes = useTheme();\r\n\t// const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\r\n\r\n\t//clear toast variable after it is shown\r\n\tReact.useEffect(() => {\r\n\t\tif (toast) {\r\n\t\t\tclearToast();\r\n\t\t}\r\n\t}, [toast]);\r\n\t// toast related section\r\n\r\n\t// React.useEffect(() => {\r\n\t// \tconst fetchEncryptionKey = async () => {\r\n\t// \t\t// get public key from Backend API\r\n\t// \t\tlet encryptionKey = await postReq('/encryption_key/get_encryption_key', {\r\n\t// \t\t\taddress: account,\r\n\t// \t\t\top: \"read\"\r\n\t// \t\t}).then(res => {\r\n\t// \t\t\treturn res.data?.encryption_key;\r\n\t// \t\t});\r\n\r\n\t// \t\tif (encryptionKey != null) {\r\n\t// \t\t\tsetEnabledSecretNotif(true);\r\n\t// \t\t}\r\n\t// \t}\r\n\t// \tfetchEncryptionKey();\r\n\t// }, [enabledSecretNotif])\r\n\r\n\t// toast customize\r\n\t// const LoaderToast = ({ msg, color }) => (\r\n\t// \t<Toaster>\r\n\t// \t\t<Oval color={color} height={30} width={30} />\r\n\t// \t\t<ToasterMsg>{msg}</ToasterMsg>\r\n\t// \t</Toaster>\r\n\t// );\r\n\r\n\t// const NormalToast = ({ msg }) => (\r\n\t// \t<Toaster>\r\n\t// \t\t<ToasterMsg>{msg}</ToasterMsg>\r\n\t// \t</Toaster>\r\n\t// )\r\n\r\n\t// const registerPubKey = async (encryptionPublicKey) => {\r\n\t// \tlet txToast;\r\n\t// \ttry {\r\n\t// \t\tconst type = {\r\n\t// \t\t\tRegister: [\r\n\t// \t\t\t\t{ name: \"user\", type: \"address\" },\r\n\t// \t\t\t\t{ name: \"encryptionKey\", type: \"string\" },\r\n\t// \t\t\t\t{ name: \"action\", type: \"string\" },\r\n\t// \t\t\t],\r\n\t// \t\t};\r\n\r\n\t// \t\tconst message = {\r\n\t// \t\t\tuser: account,\r\n\t// \t\t\tencryptionKey: encryptionPublicKey,\r\n\t// \t\t\taction: \"Register\",\r\n\t// \t\t};\r\n\r\n\t// \t\tlet EPNS_DOMAIN = {\r\n\t// \t\t\tname: \"EPNS COMM V1\",\r\n\t// \t\t\tchainId: chainId,\r\n\t// \t\t\tverifyingContract: epnsCommReadProvider?.address,\r\n\t// \t\t};\r\n\r\n\t// \t\t// loader toast\r\n\t// \t\ttxToast = toaster.dark(\r\n\t// \t\t\t<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n\t// \t\t\t{\r\n\t// \t\t\t\tposition: \"bottom-right\",\r\n\t// \t\t\t\tautoClose: false,\r\n\t// \t\t\t\thideProgressBar: true,\r\n\t// \t\t\t\tcloseOnClick: true,\r\n\t// \t\t\t\tpauseOnHover: true,\r\n\t// \t\t\t\tdraggable: true,\r\n\t// \t\t\t\tprogress: undefined,\r\n\t// \t\t\t}\r\n\t// \t\t);\r\n\r\n\t// \t\tconst signature = await library\r\n\t// \t\t\t.getSigner(account)\r\n\t// \t\t\t._signTypedData(EPNS_DOMAIN, type, message);\r\n\r\n\t// \t\tconst objPayload = {\r\n\t// \t\t\taddress: account,\r\n\t// \t\t\tencryptionKey: encryptionPublicKey,\r\n\t// \t\t\tsignature,\r\n\t// \t\t\tmessage,\r\n\t// \t\t\top: \"write\",\r\n\t// \t\t\tchainId,\r\n\t// \t\t\tcontractAddress: epnsCommReadProvider.address,\r\n\t// \t\t};\r\n\r\n\t// \t\tconst result = await postReq(\r\n\t// \t\t\t\"/encryption_key/register\",\r\n\t// \t\t\tobjPayload\r\n\t// \t\t);\r\n\t// \t\tconsole.log(result);\r\n\r\n\t// \t\ttoaster.update(txToast, {\r\n\t// \t\t\trender: \"Successfully enabled secret notifications !\",\r\n\t// \t\t\ttype: toaster.TYPE.SUCCESS,\r\n\t// \t\t\tautoClose: 5000,\r\n\t// \t\t});\r\n\r\n\t// \t\tsetEnabledSecretNotif(true);\r\n\t// \t} catch (err) {\r\n\t// \t\tif (err.code === 4001) {\r\n\t// \t\t\t// EIP-1193 userRejectedRequest error\r\n\t// \t\t\ttoaster.update(txToast, {\r\n\t// \t\t\t\trender: \"User denied message signature.\",\r\n\t// \t\t\t\ttype: toaster.TYPE.ERROR,\r\n\t// \t\t\t\tautoClose: 5000,\r\n\t// \t\t\t});\r\n\t// \t\t} else {\r\n\t// \t\t\ttoaster.update(txToast, {\r\n\t// \t\t\t\trender: \"There was an error registering the public key\",\r\n\t// \t\t\t\ttype: toaster.TYPE.ERROR,\r\n\t// \t\t\t\tautoClose: 5000,\r\n\t// \t\t\t});\r\n\t// \t\t\tconsole.log(err);\r\n\t// \t\t}\r\n\t// \t}\r\n\t// };\r\n\r\n\t// const enableSecretNotif = async () => {\r\n\t// \tlet txToast;\r\n\t// \tif (enabledSecretNotif) {\r\n\t// \t\ttxToast = toaster.dark(\r\n\t// \t\t\t<NormalToast msg=\"Secret Notifications are already enabled.\" />,\r\n\t// \t\t\t{\r\n\t// \t\t\t\tposition: \"bottom-right\",\r\n\t// \t\t\t\ttype: toaster.TYPE.SUCCESS,\r\n\t// \t\t\t\tautoClose: 3000,\r\n\t// \t\t\t\thideProgressBar: true,\r\n\t// \t\t\t\tcloseOnClick: true,\r\n\t// \t\t\t\tpauseOnHover: true,\r\n\t// \t\t\t\tdraggable: true,\r\n\t// \t\t\t\tprogress: undefined,\r\n\t// \t\t\t}\r\n\t// \t\t);\r\n\t// \t\treturn;\r\n\t// \t}\r\n\t// \tif (!epnsCommReadProvider?.address) return;\r\n\t// \tlet encryptionPublicKey;\r\n\t// \tawait library.provider\r\n\t// \t\t.request({\r\n\t// \t\t\tmethod: \"eth_getEncryptionPublicKey\",\r\n\t// \t\t\tparams: [account], // you must have access to the specified account\r\n\t// \t\t})\r\n\t// \t\t.then((result) => {\r\n\t// \t\t\tencryptionPublicKey = result;\r\n\t// \t\t\tregisterPubKey(encryptionPublicKey);\r\n\t// \t\t\tconsole.log(result);\r\n\t// \t\t})\r\n\t// \t\t.catch((error) => {\r\n\t// \t\t\tif (error.code === 4001) {\r\n\t// \t\t\t\t// EIP-1193 userRejectedRequest error\r\n\t// \t\t\t\tconsole.log(\"User Rejected the Request to the Key\");\r\n\t// \t\t\t\ttxToast = toaster.dark(\r\n\t// \t\t\t\t\t<NormalToast msg=\"User denied message EncryptionPublicKey\" />,\r\n\t// \t\t\t\t\t{\r\n\t// \t\t\t\t\t\tposition: \"bottom-right\",\r\n\t// \t\t\t\t\t\ttype: toaster.TYPE.ERROR,\r\n\t// \t\t\t\t\t\tautoClose: 5000,\r\n\t// \t\t\t\t\t\thideProgressBar: true,\r\n\t// \t\t\t\t\t\tcloseOnClick: true,\r\n\t// \t\t\t\t\t\tpauseOnHover: true,\r\n\t// \t\t\t\t\t\tdraggable: true,\r\n\t// \t\t\t\t\t\tprogress: undefined,\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t);\r\n\t// \t\t\t} else if (error.code === -32601) {\r\n\t// \t\t\t\tconsole.error(error);\r\n\t// \t\t\t\ttxToast = toaster.dark(\r\n\t// \t\t\t\t\t<NormalToast msg=\"Your wallet doesn't support providing public encryption key.\" />,\r\n\t// \t\t\t\t\t{\r\n\t// \t\t\t\t\t\tposition: \"bottom-right\",\r\n\t// \t\t\t\t\t\ttype: toaster.TYPE.ERROR,\r\n\t// \t\t\t\t\t\tautoClose: 5000,\r\n\t// \t\t\t\t\t\thideProgressBar: true,\r\n\t// \t\t\t\t\t\tcloseOnClick: true,\r\n\t// \t\t\t\t\t\tpauseOnHover: true,\r\n\t// \t\t\t\t\t\tdraggable: true,\r\n\t// \t\t\t\t\t\tprogress: undefined,\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t);\r\n\t// \t\t\t} else {\r\n\t// \t\t\t\tconsole.error(error);\r\n\t// \t\t\t\ttxToast = toaster.dark(\r\n\t// \t\t\t\t\t<NormalToast msg=\"There was an error getting public encryption key.\" />,\r\n\t// \t\t\t\t\t{\r\n\t// \t\t\t\t\t\tposition: \"bottom-right\",\r\n\t// \t\t\t\t\t\ttype: toaster.TYPE.ERROR,\r\n\t// \t\t\t\t\t\tautoClose: 5000,\r\n\t// \t\t\t\t\t\thideProgressBar: true,\r\n\t// \t\t\t\t\t\tcloseOnClick: true,\r\n\t// \t\t\t\t\t\tpauseOnHover: true,\r\n\t// \t\t\t\t\t\tdraggable: true,\r\n\t// \t\t\t\t\t\tprogress: undefined,\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t);\r\n\t// \t\t\t}\r\n\t// \t\t});\r\n\t// };\r\n\r\n\t// Render\r\n\treturn (\r\n\t\t<ThemeProvider theme={themes}>\r\n\t\t\t<Container>\r\n\t\t\t\t{/* <Item>\r\n\t\t\t\t\t<Item margin=\"16px 20px 0px 0px\" self=\"self-end\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tpadding=\"12px\"\r\n\t\t\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\t\t\tborder={`1px solid ${themes.faucetBorder}`}\r\n\t\t\t\t\t\t\tbg={\r\n\t\t\t\t\t\t\t\tthemes.scheme === \"light\"\r\n\t\t\t\t\t\t\t\t\t? GLOBALS.COLORS.GRADIENT_PRIMARY\r\n\t\t\t\t\t\t\t\t\t: GLOBALS.COLORS.GRADIENT_SECONDARY\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tradius=\"50px\"\r\n\t\t\t\t\t\t\tonClick={enableSecretNotif}\r\n\t\t\t\t\t\t\tdisabled={enabledSecretNotif}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span style={{ color: \"#fff\" }}>\r\n\t\t\t\t\t\t\t\t{enabledSecretNotif ? 'Secret Notifications are enabled' : 'Enable Secret Notifications'}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Item>\r\n\t\t\t\t</Item> */}\r\n\t\t\t\t<div className=\"joyride\"></div>\r\n\t\t\t\t<Feedbox />\r\n\t\t\t\t{toast && (\r\n\t\t\t\t\t<NotificationToast\r\n\t\t\t\t\t\tnotification={toast}\r\n\t\t\t\t\t\tclearToast={clearToast}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t);\r\n}\r\n\r\n// css style\r\nconst Container = styled.div`\r\n\tflex-direction: column;\r\n\tbackground: ${(props) => props.theme.mainBg};\r\n\theight: calc(100vh - ${GLOBALS.CONSTANTS.HEADER_HEIGHT}px - 52px - ${props => props.theme.interfaceTopPadding});\r\n\talign-items: stretch;\r\n\talign-self: stretch;\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\n// Export Default\r\nexport default InboxPage;\r\n","/**\r\n * This file helps us maintain the spamnotifications fetched in state, so when tabs are switched we can retain the notification information\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    page: 1, //the current page\r\n    notifications: [],// the actual notifications\r\n    finishedFetching: false,\r\n    toggler: false\r\n}\r\n\r\nexport const contractSlice = createSlice({\r\n    name: \"spam\",\r\n    initialState,\r\n    reducers: {\r\n        toggleToggler: (state) => {\r\n            state.toggler = !state.toggler;\r\n        },\r\n        resetState: (state) => {\r\n            state.page = initialState.page;\r\n            state.notifications = initialState.notifications;\r\n            state.finishedFetching = initialState.finishedFetching;\r\n        },\r\n        addPaginatedNotifications: (state, action) => {\r\n            state.notifications = [ ...state.notifications, ...action.payload ];\r\n            state.page += 1;\r\n        },\r\n        incrementPage: (state) => {\r\n            state.page += 1;\r\n        },\r\n        addNewNotification: (state, action) => {\r\n            state.notifications = [{...action.payload}, ...state.notifications]\r\n        },\r\n        setFinishedFetching: (state) => {\r\n            state.finishedFetching = true;\r\n        },\r\n        updateTopNotifications: (state, action) => {\r\n            state.notifications = [...action.payload.notifs, ...state.notifications.slice(action.payload.pageSize)];\r\n            console.log({sn: state.notifications});\r\n        }\r\n    }\r\n});\r\n\r\nexport const {\r\n    toggleToggler,\r\n    addPaginatedNotifications,\r\n    incrementPage,\r\n    addNewNotification,\r\n    setFinishedFetching,\r\n    resetState,\r\n    updateTopNotifications\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;","import React, { useState } from \"react\";\r\nimport styled, { useTheme } from 'styled-components';\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport SearchFilter from '../components/SearchFilter';\r\nimport * as EpnsAPI from \"@epnsproject/sdk-restapi\";\r\nimport { NotificationItem } from \"@epnsproject/sdk-uiweb\";\r\nimport {\r\n  addPaginatedNotifications,\r\n  incrementPage,\r\n  setFinishedFetching,\r\n  updateTopNotifications\r\n} from \"redux/slices/spamSlice\";\r\nimport { cacheSubscribe } from \"redux/slices/channelSlice\";\r\nimport { getReq, postReq } from \"api\";\r\nimport DisplayNotice from \"../primaries/DisplayNotice\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport CryptoHelper from \"helpers/CryptoHelper\";\r\nimport { toast as toaster } from \"react-toastify\";\r\nimport NotificationToast from \"../primaries/NotificationToast\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\n\r\nconst NOTIFICATIONS_PER_PAGE = 10;\r\n// Create Header\r\nfunction SpamBox(props) {\r\n  const dispatch = useDispatch();\r\n  const { account, chainId, library } = useWeb3React();\r\n  const { epnsCommReadProvider } = useSelector(\r\n    (state: any) => state.contracts\r\n  );\r\n\r\n  const themes = useTheme();\r\n  let user = convertAddressToAddrCaip(account,chainId)\r\n\r\n  // toast related section\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n\r\n  const { run } = useSelector((state: any) => state.userJourney);\r\n\r\n  const { notifications, page, finishedFetching } = useSelector((state: any) => state.spam);\r\n  const EPNS_DOMAIN = {\r\n    name: \"EPNS COMM V1\",\r\n    chainId: chainId,\r\n    verifyingContract: epnsCommReadProvider?.address,\r\n  };\r\n  const [allNotif, setNotif] = React.useState([]);\r\n  const [loadFilter, setLoadFilter] = React.useState(false);\r\n  const [filteredNotifications, setFilteredNotifications] = React.useState([]);\r\n  const [filter, setFilter] = React.useState(false);\r\n  const [bgUpdateLoading, setBgUpdateLoading] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const onCoreNetwork = (chainId === envConfig.coreContractChain);\r\n\r\n  const NormalToast = ({ msg }) => (\r\n    <Toaster>\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n\r\n  const nameToIdDev = {\r\n    \"POLYGON_TEST_MUMBAI\": 80001,\r\n    \"ETH_TEST_KOVAN\": 42\r\n  }\r\n\r\n  const nameToIdProd = {\r\n    \"POLYGON_MAINNET\": 137,\r\n    \"ETH_MAINNET\": 1\r\n  }\r\n\r\n  const reset = () => setFilter(false);\r\n  const filterNotifications = async (query, channels, startDate, endDate) => {\r\n    if (loading) return;\r\n    setLoading(true);\r\n    setBgUpdateLoading(true);\r\n    setFilter(true);\r\n    if (startDate == null) startDate = new Date('January 1, 2000');\r\n    if (endDate == null) endDate = new Date('January 1, 3000');\r\n    startDate = startDate.getTime() / 1000;\r\n    endDate = endDate.getTime() / 1000;\r\n    var Filter = {\r\n      channels: channels,\r\n      date: { lowDate: startDate, highDate: endDate }\r\n    };\r\n    if (channels.length == 0) delete Filter.channels;\r\n\r\n\r\n    setFilteredNotifications([]);\r\n\r\n    let filterNotif = [];\r\n    for (const notif of allNotif) {\r\n      let timestamp;\r\n      const matches = notif.message.match(/\\[timestamp:(.*?)\\]/);\r\n      if (matches) {\r\n        timestamp = matches[1];\r\n      }\r\n      else timestamp = notif.epoch;\r\n      if (\r\n        ((Filter.channels === undefined ? true : (Filter.channels.includes(notif.channel))) &&\r\n          timestamp >= startDate && timestamp <= endDate\r\n          && notif.message.toLowerCase().includes(query.toLowerCase()))\r\n      )\r\n        filterNotif.push(notif);\r\n    }\r\n    setFilteredNotifications(filterNotif);\r\n    // }\r\n    setLoading(false);\r\n    setBgUpdateLoading(false);\r\n  }\r\n\r\n  const loadNotifications = async () => {\r\n    if (loading || finishedFetching || run) return;\r\n    setLoading(true);\r\n    try {\r\n      const results = await EpnsAPI.user.getFeeds({\r\n        user: user,\r\n        limit: NOTIFICATIONS_PER_PAGE,\r\n        page: page,\r\n        env: envConfig['env'],\r\n        spam: true,\r\n        raw:true\r\n      });\r\n        let parsedResponse = EpnsAPI.utils.parseApiResponse(results);\r\n          parsedResponse.forEach( (each,i) => {\r\n              each['date'] = results[i].epoch;\r\n              each['epoch'] = (new Date(each['date']).getTime() / 1000);\r\n          })\r\n          const parsedResponsePromise = results.map(async (elem: any, i: any) => {\r\n            elem.channel = results[i].sender;\r\n            let address = results[i].sender;\r\n            \r\n            const {\r\n              data: { subscribers },\r\n            } = await postReq(\"/channels/_get_subscribers\", {\r\n              channel: account,\r\n              blockchain: chainId,\r\n              op: \"read\",\r\n            });\r\n            elem.subscribers = subscribers;\r\n            return { ...elem };\r\n        });\r\n      parsedResponse = await Promise.all(parsedResponsePromise);\r\n      dispatch(addPaginatedNotifications(parsedResponse));\r\n      if (parsedResponse.length === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchLatestNotifications = async () => {\r\n    if (loading || bgUpdateLoading || run) return;\r\n    setBgUpdateLoading(true);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const results = await EpnsAPI.user.getFeeds({\r\n        user: user,\r\n        limit: NOTIFICATIONS_PER_PAGE,\r\n        page: 1,\r\n        env: envConfig['env'],\r\n        spam: true,\r\n        raw:true\r\n      });\r\n      if (!notifications.length) {\r\n        dispatch(incrementPage());\r\n      }\r\n      let parsedResponse = EpnsAPI.utils.parseApiResponse(results);\r\n        parsedResponse.forEach( (each,i) => {\r\n            each['date'] = results[i].epoch;\r\n            each['epoch'] = (new Date(each['date']).getTime() / 1000);\r\n        })\r\n        const parsedResponsePromise = parsedResponse.map(async (elem: any, i: any) => {\r\n          elem.channel = results[i].sender;\r\n          let address = results[i].sender;\r\n\r\n          const {\r\n            data: { subscribers },\r\n          } = await postReq(\"/channels/_get_subscribers\", {\r\n            channel: account,\r\n            blockchain: chainId,\r\n            op: \"read\",\r\n          });\r\n          elem.subscribers = subscribers;\r\n          return { ...elem };\r\n      });\r\n      parsedResponse = await Promise.all(parsedResponsePromise);\r\n      // dispatch(\r\n      //   updateTopNotifications({\r\n      //     notifs: parsedResponse,\r\n      //     pageSize: NOTIFICATIONS_PER_PAGE,\r\n      //   })\r\n      // );\r\n      if (parsedResponse.length === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setBgUpdateLoading(false);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAllNotif = async () => {\r\n    setLoadFilter(true);\r\n    try {\r\n      const results = await EpnsAPI.user.getFeeds({\r\n        user: user,\r\n        limit: 100000,\r\n        page: 1,\r\n        env: envConfig['env'],\r\n        spam: true,\r\n        raw:true\r\n      });\r\n\r\n      if (!notifications.length) {\r\n        dispatch(incrementPage());\r\n      }\r\n      let parsedResponse = EpnsAPI.utils.parseApiResponse(results);\r\n        parsedResponse.forEach( (each,i) => {\r\n            each['date'] = results[i].epoch;\r\n            each['epoch'] = (new Date(each['date']).getTime() / 1000);\r\n        })\r\n        const parsedResponsePromise = parsedResponse.map(async (elem: any, i: any) => {\r\n          elem.channel = results[i].sender;\r\n          let address = results[i].sender;\r\n          \r\n          const {\r\n            data: { subscribers },\r\n          } = await postReq(\"/channels/_get_subscribers\", {\r\n            channel: account,\r\n            blockchain: chainId,\r\n            op: \"read\",\r\n          });\r\n          elem.subscribers = subscribers;\r\n          return { ...elem };\r\n      });\r\n      parsedResponse = await Promise.all(parsedResponsePromise);\r\n      let res = parsedResponse.filter(notif => !isSubscribedFn(notif['subscribers']));\r\n      dispatch(\r\n        updateTopNotifications({\r\n          notifs: res,\r\n          pageSize: NOTIFICATIONS_PER_PAGE,\r\n        })\r\n      );\r\n      setNotif(res);\r\n\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setBgUpdateLoading(false);\r\n      setLoading(false);\r\n      setLoadFilter(false);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    fetchLatestNotifications();\r\n    fetchAllNotif();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (epnsCommReadProvider) {\r\n      loadNotifications();\r\n    }\r\n  }, [epnsCommReadProvider, account]);\r\n\r\n  const fetchAliasAddress = async (channelAddress) => {\r\n    if (channelAddress === null) return;\r\n    const userAddressInCaip = convertAddressToAddrCaip(channelAddress, chainId);\r\n    const ethAlias = await getReq(`/v1/alias/${userAddressInCaip}/channel`).then(({ data }) => {\r\n      let aliasAccount;\r\n      if (data) {\r\n        aliasAccount = data.alias_address;\r\n      }\r\n      return aliasAccount;\r\n    });\r\n\r\n    return ethAlias;\r\n  }\r\n\r\n  const fetchEthAddress = async (channelAddress) => {\r\n    if (channelAddress === null) return;\r\n    const userAddressInCaip = convertAddressToAddrCaip(account, chainId);\r\n    const aliasEth = await getReq(`/v1/alias/${userAddressInCaip}/channel`).then(({ data }) => {\r\n      let ethAccount;\r\n      if (data) {\r\n        ethAccount = data.channel;\r\n      }\r\n      return ethAccount;\r\n    });\r\n\r\n    return aliasEth;\r\n  }\r\n\r\n  //function to query more notifications\r\n  const handlePagination = async () => {\r\n    loadNotifications();\r\n    dispatch(incrementPage());\r\n  };\r\n\r\n  const showWayPoint = (index: any) => {\r\n    return (\r\n      Number(index) === notifications.length - 1 &&\r\n      !finishedFetching &&\r\n      !bgUpdateLoading\r\n    );\r\n  };\r\n\r\n  const onSubscribeToChannel = async (channelAddress, blockchain) => {\r\n    if (!channelAddress) return;\r\n    let address = channelAddress;\r\n\r\n    const nameToObj = (envConfig.coreContractChain === 1) ? nameToIdProd : nameToIdDev;\r\n    if (chainId !== nameToObj[blockchain]) {\r\n      if (!onCoreNetwork) {\r\n        address = await fetchAliasAddress(channelAddress);\r\n      } else {\r\n        address = await fetchEthAddress(channelAddress);\r\n      }\r\n    }\r\n\r\n    if (!address) return;\r\n    const type = {\r\n      Subscribe: [\r\n        { name: \"channel\", type: \"address\" },\r\n        { name: \"subscriber\", type: \"address\" },\r\n        { name: \"action\", type: \"string\" },\r\n      ],\r\n    };\r\n    const message = {\r\n      channel: address,\r\n      subscriber: account,\r\n      action: \"Subscribe\",\r\n    };\r\n\r\n    const signature = await library\r\n      .getSigner(account)\r\n      ._signTypedData(EPNS_DOMAIN, type, message);\r\n    return postReq(\"/channels/subscribe\", {\r\n      signature,\r\n      message,\r\n      op: \"write\",\r\n      chainId,\r\n      contractAddress: epnsCommReadProvider.address,\r\n    }).then((res) => {\r\n        dispatch(cacheSubscribe({ channelAddress: channelAddress }));\r\n      });;\r\n  };\r\n\r\n  const isSubscribedFn = (subscribers: any) => {\r\n    return subscribers\r\n      .map((a) => a.toLowerCase())\r\n      .includes(account.toLowerCase());\r\n  };\r\n\r\n  const onDecrypt = async ({ secret, title, message, image, cta }) => {\r\n    let txToast;\r\n    try {\r\n      let decryptedSecret = await CryptoHelper.decryptWithWalletRPCMethod(library.provider, secret, account);\r\n\r\n      // decrypt notification message\r\n      const decryptedBody = await CryptoHelper.decryptWithAES(message, decryptedSecret);\r\n\r\n      // decrypt notification title\r\n      let decryptedTitle = await CryptoHelper.decryptWithAES(title, decryptedSecret);\r\n\r\n      // decrypt notification image\r\n      let decryptedImage = await CryptoHelper.decryptWithAES(image, decryptedSecret);\r\n\r\n      // decrypt notification cta\r\n      let decryptedCta = await CryptoHelper.decryptWithAES(cta, decryptedSecret);\r\n      return { title: decryptedTitle, body: decryptedBody, image: decryptedImage, cta: decryptedCta };\r\n    } catch (error) {\r\n      if (error.code === 4001) {\r\n        // EIP-1193 userRejectedRequest error\r\n        console.error(error);\r\n        txToast = toaster.dark(\r\n          <NormalToast msg=\"User denied message decryption\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            type: toaster.TYPE.ERROR,\r\n            autoClose: 5000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n      } else if (error.code === -32601) {\r\n        console.error(error);\r\n        txToast = toaster.dark(\r\n          <NormalToast msg=\"Your wallet doesn't support message decryption.\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            type: toaster.TYPE.ERROR,\r\n            autoClose: 5000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n      } else {\r\n        console.error(error);\r\n        txToast = toaster.dark(\r\n          <NormalToast msg=\"There was an error in message decryption\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            type: toaster.TYPE.ERROR,\r\n            autoClose: 5000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Container>\r\n        <SearchFilter \r\n          notifications={allNotif} \r\n          filterNotifications={filterNotifications} \r\n          filter={filter} reset={reset} \r\n          loadFilter={loadFilter} \r\n          showFilter={props.showFilter}\r\n        />\r\n        {bgUpdateLoading && (\r\n          <div style={{ marginTop: \"10px\" }}>\r\n            <Oval color=\"#35c5f3\" height={40} width={40} />\r\n          </div>\r\n        )}\r\n        {notifications && (\r\n          <Items id=\"scrollstyle-secondary\">\r\n            {(filter && !run ? filteredNotifications : allNotif).map((oneNotification, index) => {\r\n              const {\r\n                cta,\r\n                title,\r\n                message,\r\n                app,\r\n                icon,\r\n                image,\r\n                secret,\r\n                notification,\r\n                channel,\r\n                subscribers,\r\n                blockchain,\r\n                url\r\n              } = oneNotification;\r\n              // render the notification item\r\n              // console.log(app , index);\r\n              return (\r\n                <div key={index}>\r\n                  {showWayPoint(index) && !loading && (\r\n                    <Waypoint onEnter={handlePagination} />\r\n                  )}\r\n                  <NotificationItem\r\n                    notificationTitle={notification.title}\r\n                    notificationBody={notification.body}\r\n                    cta={cta}\r\n                    app={app}\r\n                    icon={icon}\r\n                    image={image}\r\n                    theme={themes.scheme}\r\n                    subscribeFn={() => onSubscribeToChannel(channel, blockchain)}\r\n                    isSpam\r\n                    isSubscribedFn={async () => isSubscribedFn(subscribers)}\r\n                    isSecret={secret != ''}\r\n                    decryptFn={() => onDecrypt({ secret, title, message, image, cta })}\r\n                    chainName={blockchain}\r\n                    url={url}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n          </Items>\r\n        )}\r\n        {loading && !bgUpdateLoading && (\r\n          <Oval color=\"#35c5f3\" height={40} width={40} />\r\n        )}\r\n        {(!notifications.length || (filter && !filteredNotifications.length)) && !loading && (\r\n          <CenteredContainerInfo>\r\n            <DisplayNotice\r\n              title=\"You currently have no spam notifications.\"\r\n              theme=\"third\"\r\n            />\r\n          </CenteredContainerInfo>\r\n        )}\r\n        {toast && (\r\n          <NotificationToast\r\n            notification={toast}\r\n            clearToast={clearToast}\r\n          />\r\n        )}\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nconst CenteredContainerInfo = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n`;\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n  max-height: 100vh;\r\n  background: ${props => props.theme.mainBg};\r\n  // padding: 20px;\r\n  // font-size: 16px;\r\n  // display: flex;\r\n  // font-weight: 200;\r\n  // align-content: center;\r\n  // align-items: center;\r\n  // justify-content: center;\r\n  // width: 100%;\r\n  // min-height: 40vh;\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\n// Export Default\r\nexport default SpamBox;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SpamBox from \"segments/spam\";\r\n\r\n// Create Header\r\nfunction Spambox() {\r\n\r\n  // Render\r\n  return (\r\n    <FullWidth>\r\n      <SpamBox currentTab=\"inbox\" />\r\n    </FullWidth>\r\n  );\r\n}\r\n\r\nconst FullWidth = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\n// Export Default\r\nexport default Spambox;\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport styled from \"styled-components\";\r\nimport Spambox from \"segments/Spambox\";\r\n\r\n// Create Header\r\nfunction InboxPage() {\r\n  ReactGA.pageview(\"/spam\");\r\n\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Interface>\r\n        <Spambox />\r\n      </Interface>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css style\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - 100px);\r\n`;\r\n\r\nconst Interface = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n\r\n  margin-bottom: 15px;\r\n  overflow: hidden;\r\n`;\r\n\r\n// Export Default\r\nexport default InboxPage;\r\n","import React, { useRef, useState } from 'react';\r\nimport { useClickAway } from 'react-use';\r\nimport styled, { ThemeProvider, useTheme } from 'styled-components';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { Oval } from 'react-loader-spinner';\r\nimport { postReq } from \"../api\";\r\nimport { Item, H2, H3, Span, Button, Input } from '../primaries/SharedStyling';\r\n\r\nconst ethers = require(\"ethers\");\r\n\r\nexport default function AliasVerificationModal({\r\n  onClose,\r\n  onSuccess,\r\n  verificationStatus,\r\n  aliasEthAccount,\r\n}) {\r\n  const { account, library } = useWeb3React();\r\n  const signer = library.getSigner(account);\r\n\r\n  const themes = useTheme();\r\n\r\n  const modalRef = useRef(null);\r\n  const polygonCommsContract = new ethers.Contract(\r\n    addresses.epnsPolyComm,\r\n    abis.epnsComm,\r\n    signer\r\n  );\r\n  const [loading, setLoading] = useState(\"\");\r\n  const mainAddress = aliasEthAccount;\r\n\r\n  // Form signer and contract connection\r\n  useClickAway(modalRef, () => onClose(loading !== \"\"));\r\n\r\n  const checkAlias = async () => {\r\n    if (mainAddress == aliasEthAccount) {\r\n      submitAlias();\r\n    } else {\r\n      setLoading(\"Enter Correct Eth Channel Address\");\r\n      setTimeout(() => {\r\n        setLoading(\"\");\r\n      }, 4000);\r\n    }\r\n\r\n    const submitAlias = () => {\r\n      setLoading(\"loading\");\r\n      const anotherSendTxPromise = polygonCommsContract.verifyChannelAlias(\r\n        mainAddress\r\n      );\r\n      anotherSendTxPromise\r\n        .then(async (tx) => {\r\n          console.log(tx);\r\n          setLoading(\"Transaction Sent! It usually takes 5mins to verify.\");\r\n\r\n          await tx.wait(1);\r\n          setTimeout(() => {\r\n            setLoading(\"Transaction Mined!\");\r\n          }, 2000);\r\n\r\n          setTimeout(() => {\r\n            setLoading(\"Loading...\");\r\n          }, 2000);\r\n\r\n          const intervalId = setInterval(async () => {\r\n            const response = await postReq(\"/channels/getAliasVerification\", {\r\n              aliasAddress: account,\r\n              op: \"read\",\r\n            });\r\n            const status = response?.data?.status;\r\n            if (status == true) {\r\n              clearInterval(intervalId);\r\n              onSuccess();\r\n              onClose();\r\n            }\r\n          }, 5000);\r\n        })\r\n        .catch(() => {\r\n          setLoading(\"There was an error\");\r\n          setTimeout(() => {\r\n            setLoading(\"\");\r\n          }, 2000);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <ThemeProvider theme={themes}>\r\n            <Overlay>\r\n                <AliasModal ref={modalRef}>\r\n                    <Item align=\"flex-start\">\r\n                        <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                            <Span weight=\"200\" color={themes.color}> Verify</Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\r\n                                Alias\r\n                            </Span>\r\n                        </H2>\r\n                        {\r\n                            verificationStatus === null ?\r\n                                (\r\n                                    <H3 color={themes.color}>There has been an error in the verification of your alias, Please contact the admin</H3>\r\n                                ) : (\r\n                                    <H3 color={themes.color}>Before you can use this channel on this chain, you first need to verify your Alias.</H3>\r\n                                )\r\n                        }\r\n                    </Item>\r\n                    {\r\n                        verificationStatus !== null && (\r\n                            <>\r\n                                <Item align=\"flex-start\">\r\n                                    <CustomInput\r\n                                        placeholder={aliasEthAccount}\r\n                                        radius=\"4px\"\r\n                                        padding=\"12px\"\r\n                                        border=\"1px solid #674c9f\"\r\n                                        bg=\"#fff\"\r\n                                        disabled\r\n                                        readOnly={true}\r\n                                    />\r\n                                </Item>\r\n                                {loading && (\r\n                                    <Item margin=\"20px 0px 10px 0px\">\r\n                                        <Oval\r\n                                            color=\"black\"\r\n                                            height={16}\r\n                                            width={16}\r\n                                        />\r\n                                    </Item>\r\n                                )}\r\n                                <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                                    <Button\r\n                                        bg='#e20880'\r\n                                        color='#fff'\r\n                                        flex=\"1\"\r\n                                        radius=\"0px\"\r\n                                        padding=\"20px 10px\"\r\n                                        disabled={mainAddress.length !== 42 || loading !== ''}\r\n                                        onClick={checkAlias}\r\n                                    >\r\n                                        <StyledInput\r\n                                            cursor=\"hand\"\r\n                                            textTransform=\"uppercase\"\r\n                                            color=\"#fff\" weight=\"400\"\r\n                                            size=\"0.8em\" spacing=\"0.2em\"\r\n                                            value={loading ? loading : \"Verify Alias\"}\r\n                                        />\r\n                                    </Button>\r\n                                </Item>\r\n                            </>\r\n                        )\r\n                    }\r\n                </AliasModal>\r\n            </Overlay>\r\n        </ThemeProvider>\r\n    )\r\n}\r\n\r\nconst StyledInput = styled(Input)`\r\n    width: 100%;\r\n    text-align: center;\r\n    caret-color: transparent;\r\n  `;\r\n\r\n  const CustomInput = styled(Input)`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin: 20px 0px;\r\n  `;\r\n\r\n  const Overlay = styled.div`\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: ${(props) => props.theme.scrollBg};\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 1000;\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow-y: scroll;\r\n  `;\r\n\r\n  const AliasModal = styled.div`\r\n    padding: 20px 30px;\r\n    background: ${(props) => props.theme.backgroundBG};\r\n  `;\r\n}\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\n// Other Information URLs\r\nfunction ViewInfoItem() {\r\n  // render\r\n  return (\r\n    <>\r\n    <Container id=\"epns-browser\">\r\n      <ChannelInfo >\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_BROWSER_EXTENSION_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS Browser Extension\r\n            </AppLink>\r\n          </AppLinkText>\r\n          \r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container id=\"epns-app-ios\">\r\n      <ChannelInfo >\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_IOS_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS App (iOS)\r\n            </AppLink>\r\n          </AppLinkText>\r\n           For iOS Users\r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container id=\"epns-app\">\r\n      <ChannelInfo >\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_ANDROID_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS App (Android)\r\n            </AppLink>\r\n          </AppLinkText>\r\n           For Android Users\r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <ChannelTitleLink href={process.env.REACT_APP_HOW_TO_GUIDE} target=\"_blank\" rel=\"nofollow\">\r\n            Click here for our How to Guides\r\n          </ChannelTitleLink>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  // display: flex;\r\n  // flex-wrap: wrap;\r\n\r\n  background: ${props => props.theme.mainBg};\r\n\r\n  color:${props => props.theme.color};\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 10px;\r\n`\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLinkText = styled.div`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n`\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 120px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n`\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 5px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewInfoItem;\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nimport ViewInfoItem from \"components/ViewInfoItem\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\n// Other Information section\r\nfunction Info() {\r\n\r\n  return (\r\n    <Container>\r\n      <InfoBox>\r\n        <ViewInfoItem />\r\n      </InfoBox>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst InfoBox = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  background: ${props => props.theme.mainBg};\r\n`\r\n\r\n// Export Default\r\nexport default Info;\r\n","import React, { useRef, useState } from 'react';\r\nimport { useClickAway } from 'react-use';\r\nimport styled, { useTheme } from 'styled-components';\r\nimport { Oval } from 'react-loader-spinner';\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nimport { Item, H2, H3, Span, Button, Input } from 'primaries/SharedStyling';\r\n\r\nexport default function AddDelegateModal({\r\n    onClose, onSuccess, addDelegate\r\n}) {\r\n\r\n    const themes = useTheme();\r\n    console.log(themes);\r\n    const modalRef = useRef(null);\r\n    const [mainAdress, setMainAddress] = useState('');\r\n    const [loading, setLoading] = useState('');\r\n\r\n    // Form signer and contract connection\r\n    useClickAway(modalRef, onClose);\r\n\r\n    const addDelegateFunction = () => {\r\n        setLoading('loading')\r\n        addDelegate(mainAdress)\r\n            .then(async (tx) => {\r\n                console.log(tx);\r\n                setLoading(\"Transaction Sent!\");\r\n\r\n                setTimeout(() => {\r\n                    onSuccess();\r\n                    onClose();\r\n                }, 2000);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log({\r\n                    err\r\n                })\r\n                setLoading('There was an error');\r\n                setTimeout(() => {\r\n                    setLoading('')\r\n                }, 2000)\r\n            })\r\n    };\r\n\r\n\r\n    return (\r\n        <ThemeProvider theme={themes}>\r\n            <Overlay>\r\n                <AliasModal ref={modalRef} background={themes}>\r\n                    <Item align=\"flex-start\">\r\n                        <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                            <Span weight=\"200\" color={themes.fontColor}>Add </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Delegate</Span>\r\n                        </H2>\r\n                        <H3 weight=\"200\" color={themes.fontColor}>Add an account who can send notifications on your behalf.</H3>\r\n                    </Item>\r\n                    <Item align=\"flex-start\">\r\n                        <CustomInput\r\n                            required\r\n                            placeholder=\"Enter the ethereum address\"\r\n                            radius=\"4px\"\r\n                            padding=\"12px\"\r\n                            border=\"1px solid #674c9f\"\r\n                            bg=\"#fff\"\r\n                            value={mainAdress}\r\n                            onChange={(e) => { setMainAddress(e.target.value) }}\r\n                        />\r\n                    </Item>\r\n                    <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                        <Button\r\n                            bg='#e20880'\r\n                            color='#fff'\r\n                            flex=\"1\"\r\n                            radius=\"0px\"\r\n                            padding=\"20px 10px\"\r\n                            disabled={mainAdress.length !== 42}\r\n                            onClick={addDelegateFunction}\r\n                        >\r\n                            {loading && <Oval\r\n                                color=\"#FFF\"\r\n                                height={16}\r\n                                width={16}\r\n                            />\r\n                            }\r\n                            <StyledInput\r\n                                cursor=\"hand\"\r\n                                textTransform=\"uppercase\"\r\n                                color=\"#fff\" weight=\"400\"\r\n                                size=\"0.8em\" spacing=\"0.2em\"\r\n                                value={loading ? loading : \"Add Delegate\"}\r\n                            />\r\n                        </Button>\r\n                    </Item>\r\n                </AliasModal>\r\n            </Overlay>\r\n\r\n        </ThemeProvider>\r\n\r\n    )\r\n}\r\n\r\nconst StyledInput = styled(Input)`\r\n    width: 100%;\r\n    text-align: center;\r\n    caret-color: transparent;\r\n`\r\n\r\nconst CustomInput = styled(Input)`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin: 20px 0px;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: rgba(0,0,0,0.85);\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 1000;\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow-y: scroll;\r\n`;\r\n\r\nconst AliasModal = styled.div`\r\n    padding: 20px 30px;\r\n    background: ${props => props.background.mainBg};\r\n`;","import React, { useRef, useState } from 'react';\r\nimport { useClickAway } from 'react-use';\r\nimport styled, { useTheme } from 'styled-components';\r\nimport {Oval} from 'react-loader-spinner';\r\n\r\nimport { Item, H2, H3, Span, Button, Input } from 'primaries/SharedStyling';\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nexport default function RemoveDelegateModal({\r\n    onClose, onSuccess, removeDelegate, address = \"\"\r\n}) {\r\n    const themes = useTheme();\r\n    const modalRef = useRef(null);\r\n    const [mainAdress, setMainAddress] = useState(address);\r\n    const [loading, setLoading] = useState('');\r\n\r\n    // Form signer and contract connection\r\n    useClickAway(modalRef, onClose);\r\n\r\n    const addDelegateFunction = () => {\r\n        setLoading('loading')\r\n        removeDelegate(mainAdress)\r\n            .then(async (tx) => {\r\n                console.log(tx);\r\n                setLoading(\"Transaction Sent!\");\r\n\r\n                setTimeout(() => {\r\n                    onSuccess();\r\n                    onClose();\r\n                }, 2000);\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log({\r\n                    err\r\n                })\r\n                setLoading('There was an error');\r\n                setTimeout(() => {\r\n                    setLoading('')\r\n                }, 2000)\r\n            })\r\n    };\r\n\r\n\r\n    return (\r\n        <ThemeProvider theme={themes}>\r\n            <Overlay>\r\n                <AliasModal ref={modalRef} background={themes}>\r\n                    <Item align=\"flex-start\">\r\n                        <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                            <Span weight=\"200\" color={themes.fontColor}>Remove </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Delegate</Span>\r\n                        </H2>\r\n                        <H3 color={themes.fontColor}>Remove an account who can send notifications on your behalf.</H3>\r\n                    </Item>\r\n                    <Item align=\"flex-start\">\r\n                        <CustomInput\r\n                            required\r\n                            placeholder=\"Enter the ethereum address\"\r\n                            radius=\"4px\"\r\n                            padding=\"12px\"\r\n                            border=\"1px solid #674c9f\"\r\n                            bg=\"#fff\"\r\n                            // bg = {themes.scheme==\"dark\" ? \"#000\" : \"#fff\"}\r\n                            value={mainAdress}\r\n                            onChange={(e) => { setMainAddress(e.target.value) }}\r\n                        />\r\n                    </Item>\r\n                    <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                        <Button\r\n                            bg='#e20880'\r\n                            color='#fff'\r\n                            flex=\"1\"\r\n                            radius=\"0px\"\r\n                            padding=\"20px 10px\"\r\n                            disabled={mainAdress.length !== 42}\r\n                            onClick={addDelegateFunction}\r\n                        >\r\n                            {loading && <Oval\r\n                                color=\"#FFF\"\r\n                                height={16}\r\n                                width={16}\r\n                            />\r\n                            }\r\n                            <StyledInput\r\n                                cursor=\"hand\"\r\n                                textTransform=\"uppercase\"\r\n                                color=\"#fff\" weight=\"400\"\r\n                                size=\"0.8em\" spacing=\"0.2em\"\r\n                                value={loading ? loading : \"Remove Delegate\"}\r\n                            />\r\n                        </Button>\r\n                    </Item>\r\n                </AliasModal>\r\n            </Overlay>\r\n        </ThemeProvider>\r\n\r\n    )\r\n}\r\n\r\nconst StyledInput = styled(Input)`\r\n    width: 100%;\r\n    text-align: center;\r\n    caret-color: transparent;\r\n`\r\n\r\nconst CustomInput = styled(Input)`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin: 20px 0px;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: rgba(0,0,0,0.85);\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 1000;\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow-y: scroll;\r\n`;\r\n\r\nconst AliasModal = styled.div`\r\n    padding: 20px 30px;\r\n    background: ${props => props.theme.scheme === \"dark\" ? `black` : `white`};\r\n`;","import React from \"react\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport styled from \"styled-components\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport { useClickAway } from \"react-use\";\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  H3,\r\n  Span,\r\n  Button,\r\n} from \"primaries/SharedStyling\";\r\n\r\nconst MIN_STAKE_FEES = 50;\r\n\r\nexport default function ActivateChannelModal({\r\n  activateChannel,\r\n  loading,\r\n  setChannelStakeFees,\r\n  channelStakeFees,\r\n  onClose,\r\n}) {\r\n  const popupRef = React.useRef(null);\r\n  useClickAway(popupRef, onClose); //close the popoup when we click away\r\n  return (\r\n    <PopupOverlay>\r\n      <PopupSlider ref={popupRef}>\r\n        <Section>\r\n          <Content padding=\"50px 0px 0px 0px\">\r\n            <Item align=\"flex-start\" margin=\"0px 20px\">\r\n              <H3 color=\"#e20880\">Set your staking fees in DAI</H3>\r\n            </Item>\r\n\r\n            <Item\r\n              margin=\"-10px 20px 20px 20px\"\r\n              padding=\"20px 20px 10px 20px\"\r\n              bg=\"#f1f1f1\"\r\n            >\r\n              <Slider\r\n                defaultValue={MIN_STAKE_FEES}\r\n                onChangeCommitted={(_, value) =>\r\n                  setChannelStakeFees(Number(value))\r\n                }\r\n                aria-labelledby=\"discrete-slider\"\r\n                valueLabelDisplay=\"auto\"\r\n                step={MIN_STAKE_FEES}\r\n                marks\r\n                min={MIN_STAKE_FEES}\r\n                max={25000}\r\n              />\r\n              <Span\r\n                weight=\"400\"\r\n                size=\"1.0em\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.2em\"\r\n              >\r\n                Amount Staked: {channelStakeFees} DAI\r\n              </Span>\r\n            </Item>\r\n\r\n            <Item self=\"stretch\" align=\"stretch\" margin=\"20px 0px 0px 0px\">\r\n              <Button\r\n                bg=\"#e20880\"\r\n                color=\"#fff\"\r\n                flex=\"1\"\r\n                radius=\"0px\"\r\n                padding=\"20px 10px\"\r\n                onClick={activateChannel}\r\n              >\r\n                {loading ? (\r\n                  <Oval color=\"#FFF\" height={16} width={16} />\r\n                ) : (\r\n                  <Span\r\n                    color=\"#fff\"\r\n                    weight=\"400\"\r\n                    textTransform=\"uppercase\"\r\n                    spacing=\"0.1em\"\r\n                  >\r\n                    Reactivate Channel\r\n                  </Span>\r\n                )}\r\n              </Button>\r\n            </Item>\r\n          </Content>\r\n        </Section>\r\n      </PopupSlider>\r\n    </PopupOverlay>\r\n  );\r\n}\r\n\r\nconst PopupOverlay = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 1000;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst PopupSlider = styled.div`\r\n  height: 200px;\r\n  width: 70vw;\r\n  background: white;\r\n`;\r\n","import React, { useRef, useState } from \"react\";\r\nimport styled, { ThemeProvider, useTheme } from \"styled-components\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport { useClickAway } from \"react-use\";\r\nimport {\r\n    Item,\r\n    H3,\r\n    Span,\r\n    Button,\r\n    H2,\r\n    Input\r\n} from \"primaries/SharedStyling\";\r\nconst ethers = require(\"ethers\");\r\n\r\nexport default function AddSubGraphIdModal({\r\n    onClose, onSuccess, addSubGraphDetails\r\n}) {\r\n\r\n    const themes = useTheme();\r\n    const modalRef = useRef(null);\r\n    const [subGraphId, setSubGraphId] = useState('');\r\n    const [pollTime, setPollTime] = useState('');\r\n    const [loading, setLoading] = useState('');\r\n\r\n    // Form signer and contract connection\r\n    useClickAway(modalRef, () => onClose(loading !== ''));\r\n\r\n    const addSubGraphDetailsSubmit = async () => {\r\n        if (pollTime == '' || subGraphId == '') {\r\n            setLoading('Fields are empty! Retry');\r\n            setTimeout(() => {\r\n                setLoading('')\r\n            }, 2000);\r\n            return;\r\n        } else if (pollTime < 60) {\r\n            setLoading('Poll Time must be at least 60 sec');\r\n            setTimeout(() => {\r\n                setLoading('')\r\n            }, 2000);\r\n            return;\r\n        }\r\n        try {\r\n            setLoading('loading');\r\n\r\n            const input = pollTime + \"+\" + subGraphId;\r\n\r\n            // Prepare Identity bytes\r\n            const identityBytes = ethers.utils.toUtf8Bytes(input);\r\n\r\n            addSubGraphDetails(identityBytes)\r\n                .then(async (tx) => {\r\n                    console.log(tx);\r\n                    setLoading(\"Transaction Sent!\");\r\n\r\n                    setTimeout(() => {\r\n                        onSuccess();\r\n                        onClose();\r\n                    }, 2000);\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    setLoading('There was an error');\r\n                    setTimeout(() => {\r\n                        setLoading('')\r\n                    }, 2000);\r\n                    onClose();\r\n                })\r\n        } catch (err) {\r\n            console.log(err)\r\n            setLoading('There was an error');\r\n            setTimeout(() => {\r\n                setLoading('')\r\n            }, 2000);\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <ThemeProvider theme={themes}>\r\n            <Overlay>\r\n                <AliasModal ref={modalRef} background={themes}>\r\n                    <Item align=\"flex-start\">\r\n                        <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                            <Span weight=\"200\" color={themes.color}>Add </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">SubGraph</Span>\r\n                        </H2>\r\n                        <H3 color={themes.color}>Enter SubGraph Id and Poll Time (at least 60 sec)</H3>\r\n                    </Item>\r\n                    <Item align=\"flex-start\">\r\n                        <CustomInput\r\n                            required\r\n                            placeholder=\"Enter SubGraph Id\"\r\n                            radius=\"4px\"\r\n                            padding=\"12px\"\r\n                            border=\"1px solid #674c9f\"\r\n                            bg=\"#fff\"\r\n                            value={subGraphId}\r\n                            onChange={(e) => { setSubGraphId(e.target.value) }}\r\n                        />\r\n                    </Item>\r\n                    <Item align=\"flex-start\">\r\n                        <CustomInput\r\n                            required\r\n                            type=\"number\"\r\n                            min=\"60\"\r\n                            placeholder=\"Enter Poll Time (in seconds)\"\r\n                            radius=\"4px\"\r\n                            padding=\"12px\"\r\n                            border=\"1px solid #674c9f\"\r\n                            bg=\"#fff\"\r\n                            value={pollTime}\r\n                            onChange={(e) => { setPollTime(e.target.value) }}\r\n                        />\r\n                    </Item>\r\n                    <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                        <Button\r\n                            bg='#e20880'\r\n                            color='#fff'\r\n                            flex=\"1\"\r\n                            disabled={loading != ''}\r\n                            radius=\"0px\"\r\n                            padding=\"20px 20px\"\r\n                            onClick={addSubGraphDetailsSubmit}\r\n                        >\r\n                            {loading && <Oval\r\n                                color=\"#FFF\"\r\n                                height={16}\r\n                                width={16}\r\n                            />\r\n                            }\r\n                            <StyledInput\r\n                                cursor=\"hand\"\r\n                                textTransform=\"uppercase\"\r\n                                color=\"#fff\" weight=\"400\"\r\n                                size=\"0.8em\" spacing=\"0.2em\"\r\n                                value={loading ? loading : \"Add Subgraph Details\"}\r\n                            />\r\n                        </Button>\r\n                    </Item>\r\n                </AliasModal>\r\n            </Overlay>\r\n        </ThemeProvider>\r\n    )\r\n}\r\n\r\nconst StyledInput = styled(Input)`\r\nwidth: 100%;\r\ntext-align: center;\r\ncaret-color: transparent;\r\n`\r\n\r\nconst CustomInput = styled(Input)`\r\nbox-sizing: border-box;\r\nwidth: 100%;\r\nmargin: 20px 0px;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\ntop: 0;\r\nleft: 0;\r\nright: 0;\r\nbackground: rgba(0,0,0,0.85);\r\nheight: 100%;\r\nwidth: 100%;\r\nz-index: 1000;\r\nposition: fixed;\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\noverflow-y: scroll;\r\n`;\r\n\r\nconst AliasModal = styled.div`\r\npadding: 20px 25px;\r\nbackground: ${props => props.background.mainBg};\r\n`;\r\n","/**\r\n * This file helps us to maintain the state of the logged in user user(if they have an account)\r\n * as well as the privilidges the logged in user has\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  channelDetails: \"unfetched\",\r\n  coreChannelAdmin: null,\r\n  canVerify: false,\r\n  aliasDetails: {\r\n    aliasAddr: null,\r\n    aliasAddrFromContract: null,\r\n    aliasEthAddr: null,\r\n    isAliasVerified: null,\r\n  },\r\n  delegatees: null,\r\n  canVerify: false,\r\n};\r\n\r\nexport const contractSlice = createSlice({\r\n  name: \"admin\",\r\n  initialState,\r\n  reducers: {\r\n    setUserChannelDetails: (state, action) => {\r\n      state.channelDetails = action.payload;\r\n    },\r\n    setCoreChannelAdmin: (state, action) => {\r\n      state.coreChannelAdmin = action.payload;\r\n    },\r\n    setCanVerify: (state, action) => {\r\n      state.canVerify = action.payload;\r\n    },\r\n    setDelegatees: (state, action) => {\r\n      state.delegatees = action.payload;\r\n    },\r\n    setAliasAddress: (state, action) => {\r\n      state.aliasDetails[\"aliasAddr\"] = action.payload;\r\n    },\r\n    setAliasAddressFromContract: (state, action) => {\r\n      state.aliasDetails['aliasAddrFromContract'] = action.payload;\r\n    },\r\n    setAliasEthAddress: (state, action) => {\r\n      state.aliasDetails[\"aliasEthAddr\"] = action.payload;\r\n    },\r\n    setAliasVerified: (state, action) => {\r\n      state.aliasDetails[\"isAliasVerified\"] = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setUserChannelDetails,\r\n  setCoreChannelAdmin,\r\n  setAliasVerified,\r\n  setCanVerify,\r\n  setDelegatees,\r\n  setAliasAddress,\r\n  setAliasAddressFromContract,\r\n  setAliasEthAddress,\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport styled, { css , useTheme } from \"styled-components\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { toast as toaster } from \"react-toastify\";\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { postReq } from \"api\";\r\n\r\nimport { envConfig } from \"@project/contracts\";\r\nimport AddDelegateModal from \"./AddDelegateModal\";\r\nimport RemoveDelegateModal from \"./RemoveDelegateModal\";\r\nimport ActivateChannelModal from \"./ActivateChannelModal\";\r\nimport AddSubGraphIdModal from \"./AddSubGraphIdModal\";\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport { setUserChannelDetails } from \"redux/slices/adminSlice\";\r\n\r\n\r\nimport {\r\n  AiOutlineUserAdd,\r\n  AiOutlineUserDelete,\r\n  AiTwotoneDelete,\r\n  AiOutlineDropbox\r\n} from 'react-icons/ai';\r\n\r\nimport \"react-dropdown/style.css\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nimport {Oval} from \"react-loader-spinner\";\r\nconst ethers = require(\"ethers\");\r\n\r\nconst MIN_STAKE_FEES = 50;\r\nconst ALLOWED_CORE_NETWORK = envConfig.coreContractChain;\r\n\r\n// Create Header\r\nfunction ChannelSettings({props}) {\r\n  const dispatch = useDispatch();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const { epnsWriteProvider, epnsCommWriteProvider } = useSelector(\r\n    (state: any) => state.contracts\r\n  );\r\n  const { channelDetails } = useSelector((state: any) => state.admin);\r\n  const {\r\n    CHANNNEL_DEACTIVATED_STATE,\r\n    CHANNEL_BLOCKED_STATE,\r\n    CHANNEL_ACTIVE_STATE,\r\n  } = useSelector((state: any) => state.channels);\r\n\r\n  const theme = useTheme();\r\n  const { channelState } = channelDetails;\r\n  const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [\r\n    showActivateChannelPopup,\r\n    setShowActivateChannelPopup,\r\n  ] = React.useState(false);\r\n  const [channelStakeFees, setChannelStakeFees] = React.useState(\r\n    MIN_STAKE_FEES\r\n  );\r\n  const [poolContrib, setPoolContrib] = React.useState(0);\r\n  const [addDelegateLoading, setAddDelegateLoading] = React.useState(false);\r\n  const [addModalOpen, setAddModalOpen] = React.useState(false);\r\n  const [addSubGraphIdOpen, setAddSubGraphIdOpen] = React.useState(false);\r\n  const [addSubgraphDetailsLoading, setAddSubgraphDetailsLoading] = React.useState(false);\r\n  const [removeDelegateLoading, setRemoveDelegateLoading] = React.useState(\r\n    false\r\n  );\r\n  const [removeModalOpen, setRemoveModalOpen] = React.useState(false);\r\n\r\n  // toaster customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Oval color={color} height={30} width={30} />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  );\r\n\r\n  // Toastify\r\n  let notificationToast = () =>\r\n    toaster.dark(<LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />, {\r\n      position: \"bottom-right\",\r\n      autoClose: false,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const isChannelDeactivated = channelState === CHANNNEL_DEACTIVATED_STATE;\r\n  const isChannelBlocked = channelState === CHANNEL_BLOCKED_STATE;\r\n  const channelInactive = isChannelBlocked || isChannelDeactivated;\r\n\r\n  React.useEffect(() => {\r\n    // To set channel info from a channel details\r\n    // setChannelState(channelDetails.channelState);\r\n    setPoolContrib(\r\n      +EPNSCoreHelper.formatBigNumberToMetric(\r\n        channelDetails.poolContribution,\r\n        true\r\n      )\r\n    );\r\n  }, [account, channelDetails.poolContribution]);\r\n\r\n  const toggleChannelActivationState = () => {\r\n    if (isChannelBlocked) return;\r\n    if (isChannelDeactivated) {\r\n      setShowActivateChannelPopup(true);\r\n    } else {\r\n      deactivateChannel();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Function to activate a channel that has been deactivated\r\n   */\r\n  const activateChannel = async () => {\r\n    // First Approve DAI\r\n    setLoading(true);\r\n    var signer = library.getSigner(account);\r\n    let daiContract = new ethers.Contract(addresses.dai, abis.erc20, signer);\r\n    const fees = ethers.utils.parseUnits(channelStakeFees.toString(), 18);\r\n    var sendTransactionPromise = daiContract.approve(addresses.epnscore, fees);\r\n    const tx = await sendTransactionPromise;\r\n\r\n    console.log(tx);\r\n    console.log(\"waiting for tx to finish\");\r\n\r\n    await library.waitForTransaction(tx.hash);\r\n    await epnsWriteProvider\r\n      .reactivateChannel(fees)\r\n      .then(async (tx: any) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Reactivating Channel\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        await tx.wait(1);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Channel Reactivated\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n        dispatch(\r\n          setUserChannelDetails({\r\n            ...channelDetails,\r\n            channelState: CHANNEL_ACTIVE_STATE,\r\n          })\r\n        );\r\n      })\r\n      .catch((err: any) => {\r\n        console.log(\"!!!Error reactivateChannel() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || err.message,\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n        setShowActivateChannelPopup(false);\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Function to deactivate a channel that has been deactivated\r\n   */\r\n  const deactivateChannel = async () => {\r\n    setLoading(true);\r\n    if (!poolContrib) return;\r\n\r\n    const amountToBeConverted = parseInt(\"\" + poolContrib) - 10;\r\n    console.log(\"Amount To be converted==>\", amountToBeConverted);\r\n\r\n    const { data: response } = await postReq(\"/channels/getDaiToPush\", {\r\n      value: amountToBeConverted,\r\n    });\r\n\r\n    const pushValue = response.response.data.quote.PUSH.price;\r\n\r\n    await epnsWriteProvider\r\n      // .deactivateChannel(amountsOut.toString().replace(/0+$/, \"\")) //use this to remove trailing zeros 1232323200000000 -> 12323232\r\n      .deactivateChannel(Math.floor(pushValue)) \r\n      .then(async (tx: any) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction sending\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        await tx.wait(1);\r\n        console.log(\"Transaction Mined!\");\r\n        dispatch(\r\n          setUserChannelDetails({\r\n            ...channelDetails,\r\n            channelState: CHANNNEL_DEACTIVATED_STATE,\r\n          })\r\n        );\r\n      })\r\n      .catch((err: any) => {\r\n        console.log(\"!!!Error deactivateChannel() --> %o\", err);\r\n        console.log({\r\n          err,\r\n        });\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || err,\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        // post op\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const addDelegate = async (walletAddress: string) => {\r\n    setAddDelegateLoading(true);\r\n    return epnsCommWriteProvider.addDelegate(walletAddress).finally(() => {\r\n      setAddDelegateLoading(false);\r\n    });\r\n  };\r\n\r\n  const removeDelegate = (walletAddress: string) => {\r\n    setRemoveDelegateLoading(true);\r\n    return epnsCommWriteProvider.removeDelegate(walletAddress).finally(() => {\r\n      setRemoveDelegateLoading(false);\r\n    });\r\n  };\r\n\r\n  const addSubgraphDetails = (input: any) => {\r\n    setAddSubgraphDetailsLoading(true);\r\n    return epnsWriteProvider.addSubGraph(input).finally(() => {\r\n      setAddSubgraphDetailsLoading(false);\r\n    });\r\n  };\r\n\r\n  // if (!onCoreNetwork) {\r\n  //   //temporarily deactivate the deactivate button if not on core network\r\n  //   return <></>;\r\n  //\r\n\r\n  return (\r\n    <div>\r\n      <DropdownWrapper background ={theme}>\r\n        <ActiveChannelWrapper>\r\n          {onCoreNetwork &&\r\n            <ChannelActionButton\r\n              disabled={channelInactive}\r\n              onClick={() => !channelInactive && setAddSubGraphIdOpen(true)}\r\n            >\r\n              <div>\r\n                {addSubgraphDetailsLoading ? (\r\n                  <Oval color=\"#FFF\" height={16} width={16} />\r\n                ) : (\r\n                  <div style={{display:'flex',justifyContent:'start'}}>\r\n                  <AiOutlineDropbox fontSize={20}/>\r\n                  <div style={{width:'10px'}}/>                  \r\n                  Add SubGraph Details\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </ChannelActionButton>\r\n          }\r\n\r\n          <ChannelActionButton\r\n            disabled={channelInactive}\r\n            onClick={() => !channelInactive && setAddModalOpen(true)}\r\n          >\r\n            <div>\r\n              {addDelegateLoading ? (\r\n                <Oval color=\"#FFF\" height={16} width={16} />\r\n              ) : (\r\n                <div style={{display:'flex',justifyContent:'start'}}>\r\n                  <AiOutlineUserAdd fontSize={20}/>\r\n                  <div style={{width:'10px'}}/>                  \r\n                  Add Delegate\r\n                </div>\r\n              )}\r\n            </div>\r\n          </ChannelActionButton>\r\n\r\n          <ChannelActionButton\r\n            disabled={channelInactive}\r\n            onClick={() => !channelInactive && setRemoveModalOpen(true)}\r\n          >\r\n            <div>\r\n              {removeDelegateLoading ? (\r\n                <Oval color=\"#FFF\" height={16} width={16} />\r\n              ) : (\r\n                <div style={{display:'flex',justifyContent:'start'}}>\r\n                  <AiOutlineUserDelete fontSize={20}/>\r\n                  <div style={{width:'10px'}}/>                  \r\n                  Remove Delegate\r\n                </div>\r\n              )}\r\n            </div>\r\n          </ChannelActionButton>\r\n\r\n        <ChannelActionButton\r\n          isChannelDeactivated={isChannelDeactivated}\r\n          onClick={toggleChannelActivationState}\r\n        >\r\n          <div style={{color:'red'}}>\r\n          <div style={{display:'flex',justifyContent:'start'}}>\r\n            <AiTwotoneDelete fontSize={20}/>\r\n            <div style={{width:'10px',color:'red'}}/>                  \r\n            {!onCoreNetwork ? (\r\n              \"\"\r\n              ) : loading ? (\r\n                \"Loading ...\"\r\n                ) : isChannelBlocked ? (\r\n                  \"Channel Blocked\"\r\n                  ) : isChannelDeactivated ? (\r\n                    \"Activate Channel\"\r\n                    ) : (\r\n                      \"Deactivate Channel\"\r\n                      )}\r\n            </div>\r\n          </div>\r\n        </ChannelActionButton>\r\n\r\n          \r\n        </ActiveChannelWrapper>\r\n      </DropdownWrapper>\r\n      {/* modal to display the activate channel popup */}\r\n      {showActivateChannelPopup && (\r\n        <ActivateChannelModal\r\n          onClose={() => {\r\n            if (showActivateChannelPopup) {\r\n              setShowActivateChannelPopup(false);\r\n            }\r\n          }}\r\n          activateChannel={activateChannel}\r\n          loading={loading}\r\n          setChannelStakeFees={setChannelStakeFees}\r\n          channelStakeFees={channelStakeFees}\r\n        />\r\n      )}\r\n      {/* modal to add a delegate */}\r\n      {addModalOpen && (\r\n        <AddDelegateModal\r\n          onClose={() => setAddModalOpen(false)}\r\n          onSuccess={() => {\r\n            toaster.update(notificationToast(), {\r\n              render: \"Delegate Added\",\r\n              type: toaster.TYPE.INFO,\r\n              autoClose: 5000,\r\n            });\r\n          }}\r\n          addDelegate={addDelegate}\r\n        />\r\n      )}\r\n      {/* modal to remove a delegate */}\r\n      {removeModalOpen && (\r\n        <RemoveDelegateModal\r\n          onClose={() => {\r\n            setRemoveModalOpen(false);\r\n          }}\r\n          onSuccess={() => {\r\n            toaster.update(notificationToast(), {\r\n              render: \"Delegate Removed\",\r\n              type: toaster.TYPE.INFO,\r\n              autoClose: 5000,\r\n            });\r\n          }}\r\n          removeDelegate={removeDelegate}\r\n        />\r\n      )}\r\n\r\n      {addSubGraphIdOpen && (\r\n        <AddSubGraphIdModal\r\n        onClose={(val) => setAddSubGraphIdOpen(val)}\r\n        onSuccess={() => {\r\n          toaster.update(notificationToast(), {\r\n            render: \"SubGraph Details Added\",\r\n            type: toaster.TYPE.INFO,\r\n            autoClose: 5000,\r\n          });\r\n        }}\r\n        addSubGraphDetails={addSubgraphDetails}\r\n        />\r\n      ) }\r\n    </div>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst DropdownWrapper = styled.div`\r\n  position: absolute;\r\n  right: 20px;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  align-items: center;\r\n  width: 240px;\r\n  height: 190px;\r\n  padding: 20px 4px;\r\n  background: ${props => props.background.backgroundBG};\r\n  box-sizing: border-box;\r\n  box-shadow: 0px 4px 30px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid #E5E8F7;\r\n  border-radius: 16px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ActiveChannelWrapper = styled.div`\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  display: ${(props) => (props.inactive ? \"none\" : \"flex\")};\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst DeactivateButton = styled.div`\r\n  text-decoration: underline;\r\n  color: ${(props) => (props.isChannelDeactivated ? \"#674C9F\" : \"#e20880\")};\r\n  text-align: center;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  padding: 8px 15px;\r\n  border-radius: 5px;\r\n  position: relative;\r\n  background: ${props => props.theme.backgroundBG};\r\n  color: ${props => props.theme.color};\r\n  height: 23px;\r\n  font-family: 'monospace, monospace';\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 141%;\r\n  align-items: center;\r\n;\r\n  \r\n  &:hover {\r\n    opacity: ${(props) => (props.disabled ? 0.5 : 0.9)};\r\n    cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: ${(props) => (props.disabled ? 0.5 : 0.75)};\r\n    cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n    pointer: hand;\r\n  }\r\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\r\n`;\r\n\r\n// Export Default\r\nexport default ChannelSettings;","import React from \"react\";\r\nimport { useClickAway } from \"react-use\";\r\nimport styled from \"styled-components\";\r\nimport ChannelSettingsDropdown from \"./ChannelSettingsDropdown\";\r\n\r\nimport {\r\n  AiOutlineEllipsis,\r\n} from 'react-icons/ai';\r\n\r\n\r\nexport default function ChannelSettings() {\r\n  const [active, setActive] = React.useState(false);\r\n  const modalRef = React.useRef(null);\r\n  const toggleActive = () => {\r\n    setActive((a) => !a);\r\n  };\r\n\r\n  useClickAway(modalRef, () => active && setActive(false));\r\n\r\n  return (\r\n    <SettingsWrapper ref={modalRef}>\r\n      <Settings\r\n        active={active}\r\n        onClick={toggleActive}\r\n      />\r\n      {active && <ChannelSettingsDropdown />}\r\n    </SettingsWrapper>\r\n  );\r\n}\r\n\r\nconst SettingsWrapper = styled.div`\r\n  flex:1;\r\n  display:flex;\r\n  justify-content: flex-end;\r\n  position: relative;\r\n  top: 70px;\r\n  left:-50px;\r\n  @media (max-width: 600px) {\r\n    position: inherit;\r\n    width:100%;\r\n    display:flex;\r\n    justify-content:center;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nconst Settings = styled(AiOutlineEllipsis)`\r\n  position: relative;\r\n  width: 40px;\r\n  height: 36px;\r\n  border: 1px solid #DFDEE9;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: 400ms;\r\n  transform: ${(props) => (props.active ? \"rotateZ(90deg)\" : \"none\")};\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useDeviceWidthCheck } from \"hooks\";\r\nimport { AiFillCopy, AiOutlineCopy } from \"react-icons/ai\";\r\nimport { Item } from \"primaries/SharedStyling\";\r\n\r\nconst DelegateInfo = ({ delegateAddress, isDelegate, maxWidth }) => {\r\n  const [addressText, setAddressText] = useState(delegateAddress);\r\n  const [isCopied, setIsCopied] = useState(false);\r\n  const isMobile = useDeviceWidthCheck(1200);\r\n\r\n  useEffect(() => {\r\n    if (!isMobile) {\r\n      setAddressText(delegateAddress);\r\n    } else {\r\n      // clip address\r\n      const clippedAddrs = `${delegateAddress.substring(\r\n        0,\r\n        5\r\n      )}.....${delegateAddress.substring(delegateAddress.length - 5)}`;\r\n      setAddressText(clippedAddrs);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  return (\r\n    <>\r\n      {!isDelegate ? (\r\n        <Wallet\r\n          onMouseLeave={() => setIsCopied(false)}\r\n          minWidth={!isMobile ? \"350px\" : \"120px\"}\r\n        >\r\n          <WalletInfoContent\r\n            {...{ addressText, isCopied, setIsCopied, delegateAddress }}\r\n          />\r\n        </Wallet>\r\n      ) : (\r\n        <HoverWallet\r\n          onMouseLeave={() => setIsCopied(false)}\r\n          minWidth={!isMobile ? \"350px\" : \"120px\"}\r\n        >\r\n          <WalletInfoContent\r\n            {...{ addressText, isCopied, setIsCopied, delegateAddress }}\r\n          />\r\n        </HoverWallet>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst WalletInfoContent = ({\r\n  addressText,\r\n  isCopied,\r\n  setIsCopied,\r\n  delegateAddress,\r\n}) => {\r\n  const isMobile = useDeviceWidthCheck(1000);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-between\",\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      <div style={{ paddingTop: 3 }}>{addressText}</div>\r\n      <ItemHere\r\n        isMobile={isMobile ? \"10px\" : \"50px\"}\r\n        onClick={() => {\r\n          navigator.clipboard.writeText(delegateAddress);\r\n          setIsCopied(true);\r\n        }}\r\n      >\r\n        {isCopied ? (\r\n          <AiFillCopy size={18} color=\"white\" style={{ paddingTop: 6 }} />\r\n        ) : (\r\n          <AiOutlineCopy size={18} color=\"white\" style={{ paddingTop: 6 }} />\r\n        )}\r\n      </ItemHere>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ItemHere = styled.div`\r\n  cursor: pointer;\r\n  margin-left: ${(props) => props.isMobile || \"\"};\r\n`;\r\n\r\nconst WalletAddressDisplay = styled.span`\r\n  flex: 3;\r\n  // margin-right: 30px;\r\n  // margin-left: 10px;\r\n  padding: 6px 25px;\r\n  max-height: 30px;\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: space-between;\r\n  max-width: ${(props) => props.maxWidth || \"fit-content\"};\r\n\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n  line-height: 164%;\r\n  border-radius: 13px;\r\n\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n  }\r\n  @media (max-width: 700px) {\r\n    padding: 4px 15px;\r\n  }\r\n`;\r\n\r\nconst HoverWallet = styled(WalletAddressDisplay)`\r\n  color: ${(props) => props.theme.color};\r\n\r\n  &:hover {\r\n    background: rgb(226, 8, 128);\r\n    background: linear-gradient(\r\n      107deg,\r\n      rgba(226, 8, 128, 1) 30%,\r\n      rgba(103, 76, 159, 1) 70%,\r\n      rgba(53, 197, 243, 1) 100%\r\n    );\r\n    opacity: 0.9;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`;\r\n\r\nconst Wallet = styled(WalletAddressDisplay)`\r\n  color: #fff;\r\n  background: rgb(226, 8, 128);\r\n  background: linear-gradient(\r\n    107deg,\r\n    rgba(226, 8, 128, 1) 30%,\r\n    rgba(103, 76, 159, 1) 70%,\r\n    rgba(53, 197, 243, 1) 100%\r\n  );\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`;\r\n\r\nexport default DelegateInfo;\r\n","import React, { useEffect,useState } from \"react\";\r\nimport { Item, Span, Section, Content, H2, H3, Button } from \"primaries/SharedStyling\";\r\nimport { GoTriangleDown, GoTriangleUp } from \"react-icons/go\";\r\nimport { getReq } from \"api\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport styled, { useTheme, css } from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport RemoveDelegateModal from \"./RemoveDelegateModal\";\r\nimport DelegateInfo from \"./DelegateInfo\";\r\nimport {\r\n  AiOutlineUserDelete\r\n} from 'react-icons/ai';\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\nimport { useDeviceWidthCheck } from \"hooks\";\r\n\r\nconst isOwner = (account, delegate) => {\r\n  return account.toLowerCase() !== delegate.toLowerCase() \r\n}\r\n\r\nconst ShowDelegates = () => {\r\n  const { account, chainId } = useWeb3React();\r\n  const [delegatees, setDelegatees] = React.useState([account]);\r\n  const theme = useTheme();\r\n  const [isActiveDelegateDropdown, setIsActiveDelegateDropdown] = React.useState(true);\r\n  const [removeModalOpen, setRemoveModalOpen] = React.useState(false);\r\n  const [delegateToBeRemoved, setDelegateToBeRemoved] = React.useState('');\r\n  const { epnsCommWriteProvider } = useSelector(\r\n    (state) => state.contracts\r\n  );\r\n  const isMobile = useDeviceWidthCheck(700);\r\n\r\n\r\n  const removeDelegate = (walletAddress) => {\r\n    return epnsCommWriteProvider.removeDelegate(walletAddress);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    fetchDelegatees();\r\n  },[])\r\n\r\n  const fetchDelegatees = async () => {\r\n    try {\r\n      const channelAddressinCAIP = convertAddressToAddrCaip(account, chainId);\r\n      const { data } = await getReq(`/v1/channels/${channelAddressinCAIP}/delegates`);\r\n      if (data?.delegates) {\r\n        let delegateeList = data.delegates.map((delegate) => delegate);\r\n        delegateeList.unshift(account);\r\n        setDelegatees(delegateeList);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  const removeDelegateModalOpen = (delegateAddress) => {\r\n    setDelegateToBeRemoved(delegateAddress);\r\n    setRemoveModalOpen(true);\r\n  }\r\n  \r\n  return (\r\n    <>\r\n    <Section>\r\n      <Content padding=\"20px 0px\">\r\n      <Item align=\"flex-start\">\r\n          <DelegatesInfoHeader style={{color : theme.color}}>Channel Delegates </DelegatesInfoHeader>\r\n          <div style={{height:'4px'}}/>\r\n          <DelegatesInfoLabel>\r\n            Delegates that can send notifications on behalf of this channel.\r\n          </DelegatesInfoLabel>\r\n      </Item>\r\n      </Content>\r\n    </Section>\r\n      <Item\r\n        flex=\"5\"\r\n        minWidth=\"280px\"\r\n        align=\"stretch\"\r\n        margin=\"10px 0px 30px 0px\"\r\n        radius={isMobile ? \"10px\" : \"20px\"}\r\n        border=\"1px solid #D4DCEA;\"\r\n      >\r\n      {isActiveDelegateDropdown && delegatees && \r\n        <Item\r\n          flex=\"5\"\r\n          justify=\"flex-start\"\r\n          align=\"stretch\"\r\n        >\r\n          {delegatees && delegatees.length>0 && delegatees.map((delegate, idx) => {\r\n            if (!delegate) return;\r\n            return (\r\n              <Item\r\n                padding={!isMobile ? \"25px\":\"12px\"}\r\n                direction=\"row\"\r\n                justify=\"space-between\"\r\n                key={delegate}\r\n                style={{\r\n                  borderTop: idx !== 0 ? \"1px solid rgba(169, 169, 169, 0.5)\" : \"\"\r\n                }}\r\n              >\r\n                <DelegateInfo delegateAddress={delegate} isDelegate={isOwner(account,delegate)} maxWidth={'200px'}/>\r\n                {isOwner(account,delegate) ?\r\n                  <RemoveButton\r\n                    delegateAddress={delegate}\r\n                    removeDelegateModalOpen={removeDelegateModalOpen}\r\n                  /> : \r\n                  <OwnerButton disabled={true}>\r\n                    Channel Creator\r\n                  </OwnerButton>\r\n                }\r\n              </Item>\r\n            )\r\n          })}\r\n        </Item>\r\n        }\r\n        {removeModalOpen && (\r\n          <RemoveDelegateModal\r\n            onClose={() => {\r\n              setRemoveModalOpen(false);\r\n            }}\r\n            onSuccess={() => setRemoveModalOpen(false)}\r\n            removeDelegate={removeDelegate}\r\n            address={delegateToBeRemoved}\r\n          />\r\n        )}\r\n      </Item>\r\n    </>\r\n  )\r\n}\r\n\r\nconst RemoveButton = ({ delegateAddress, removeDelegateModalOpen }) => {\r\n  const [isHovered,setIsHovered] = useState(false)\r\n  \r\n  const handleMouseOver = () => {\r\n    setIsHovered(true);\r\n  };\r\n\r\n  const handleMouseOut = () => {\r\n    setIsHovered(false);\r\n  };\r\n  return (\r\n    \r\n      <RemoveButtonUI onMouseEnter={handleMouseOver} onMouseLeave={handleMouseOut} onClick={() => removeDelegateModalOpen(delegateAddress)}>\r\n        {\r\n        isHovered ?\r\n        <div style={{display:'flex',width:'100%',alignItems: 'center',justifyContent: 'center'}}>\r\n          <AiOutlineUserDelete fontSize={15}/>\r\n          <div style={{padding:'3px'}}/>\r\n          <div>\r\n            Remove Delegate \r\n          </div>\r\n        </div>\r\n          :\r\n            <div style={{color:\"#657795\",textAlign:'right',width:'100%'}}>\r\n              Delegate\r\n            </div>\r\n        }\r\n      </RemoveButtonUI>\r\n  )\r\n}\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst RemoveButtonUI = styled(ChannelActionButton)`\r\n  background: ${props => props.theme.backgroundBG};\r\n  color: ${props => props.theme.color};\r\n  height: 36px;\r\n  max-width: 164px;\r\n  flex:1; \r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  line-height: 141%;\r\n  display: flex;\r\n  align-items: center;\r\n  text-align: right;\r\n  padding: 6px 10px 6px 9px;\r\n  gap: 5px;\r\n  \r\n  &:hover {\r\n    opacity: 0.9;\r\n    background: #E93636;\r\n    border-radius: 8px;\r\n  };\r\n    color: #fff;\r\n    cursor: pointer;\r\n  \r\n`;\r\n\r\nconst OwnerButton = styled(Button)`\r\n  all: unset;\r\n  background: transparent;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  color: #CF1C84;\r\n  cursor: auto;\r\n`;\r\n\r\nconst DelegatesInfoHeader = styled.div`\r\nfont-weight: 600;\r\nfont-size: 18px;\r\nline-height: 150%;\r\ndisplay: flex;\r\nalign-items: center;\r\ncolor: ${(props) => props.theme.color};\r\n`;\r\n\r\nconst DelegatesInfoLabel = styled.div`\r\n  font-weight: 400;\r\n  font-size: 15px;\r\n  line-height: 140%;\r\n  color: #657795;\r\n`;\r\n\r\nexport default ShowDelegates;","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { ethers } from \"ethers\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport ShowDelegates from \"./ShowDelegates\";\r\nimport { Item } from \"../primaries/SharedStyling\";\r\nimport { getReq, postReq } from \"api\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\nimport { AiOutlineUser } from \"react-icons/ai\";\r\nimport { useDeviceWidthCheck } from \"hooks\";\r\nimport ChannelSettings from \"./ChannelSettings\";\r\n\r\nconst DATE_FORMAT = \"MMMM Do YYYY\";\r\n\r\nconst networkName = {\r\n  42: \"Polygon Mumbai\",\r\n  1: \"Polygon Mainnet\",\r\n};\r\n\r\nexport default function ChannelDetails() {\r\n  const { chainId } = useWeb3React();\r\n  const {\r\n    channelDetails,\r\n    canVerify,\r\n    aliasDetails: { isAliasVerified, aliasAddrFromContract },\r\n  } = useSelector((state) => state.admin);\r\n\r\n  const { CHANNEL_ACTIVE_STATE, CHANNNEL_DEACTIVATED_STATE } = useSelector(\r\n    (state) => state.channels\r\n  );\r\n  const { processingState } = useSelector((state) => state.channelCreation);\r\n  const [verifyingChannel, setVerifyingChannel] = React.useState([]);\r\n  const [creationDate, setCreationDate] = React.useState(\"\");\r\n  const { channelState } = channelDetails;\r\n  const channelIsActive = channelState === CHANNEL_ACTIVE_STATE;\r\n  const channelIsDeactivated = channelState === CHANNNEL_DEACTIVATED_STATE;\r\n\r\n  const CORE_CHAIN_ID = envConfig.coreContractChain;\r\n  const onCoreNetwork = CORE_CHAIN_ID === chainId;\r\n  const isMobile = useDeviceWidthCheck(600);\r\n\r\n  React.useEffect(() => {\r\n    if (!channelDetails || !canVerify) return;\r\n    (async function() {\r\n      let channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(\r\n        channelDetails.verifiedBy\r\n      );\r\n      setVerifyingChannel(channelJson);\r\n    })();\r\n  }, [channelDetails, canVerify]);\r\n\r\n  React.useEffect(() => {\r\n    if (!channelDetails) return;\r\n    (async function() {\r\n      const bn = channelDetails.channelStartBlock.toString();\r\n\r\n      // using ethers jsonRpcProvider instead of library bcz channels are created on only core chain, that's why block can be fetched from that only\r\n      const block = await new ethers.providers.JsonRpcProvider(\r\n        envConfig.coreRPC\r\n      ).getBlock(+bn);\r\n      const date = moment(block.timestamp * 1000); //convert from millisecs\r\n      setCreationDate(date.format(DATE_FORMAT));\r\n    })();\r\n  }, [channelDetails]);\r\n\r\n  return (\r\n    <ChannelDetailsWrapper>\r\n      <SectionTop>\r\n        <ImageSection src={channelDetails.icon}></ImageSection>\r\n\r\n        <Details>\r\n          <ChannelName>\r\n            {channelDetails.name}\r\n            {canVerify && <VerifyImage src=\"/verify.png\"></VerifyImage>}\r\n          </ChannelName>\r\n          <ChannelStatusContainer>\r\n            {/* <div style={{ width: \"8px\" }} /> */}\r\n            {(onCoreNetwork && aliasAddrFromContract && !isAliasVerified) ||\r\n            (!onCoreNetwork && !isAliasVerified) ? (\r\n              <AliasStateText>Alias Network Setup Pending</AliasStateText>\r\n            ) : (\r\n              <>\r\n                <Subscribers>\r\n                  <img\r\n                    style={{ width: \"15px\" }}\r\n                    src=\"/subcount.svg\"\r\n                    alt=\"subscount\"\r\n                  ></img>\r\n                  <SubscribersCount>\r\n                    {channelDetails.subscribers.length}\r\n                  </SubscribersCount>\r\n                </Subscribers>\r\n                <ChanneStateText active={channelIsActive}>\r\n                  {channelIsActive\r\n                    ? \"Active\"\r\n                    : channelIsDeactivated\r\n                    ? \"Deactivated\"\r\n                    : \"Blocked\"}\r\n                </ChanneStateText>\r\n              </>\r\n            )}\r\n          </ChannelStatusContainer>\r\n          <Date>{creationDate && <>Created {creationDate}</>}</Date>\r\n        </Details>\r\n      </SectionTop>\r\n\r\n      {!isMobile ? \"\" : <ChannelSettings />}\r\n\r\n      <SectionDes>{channelDetails.info}</SectionDes>\r\n\r\n      <SectionDate>\r\n        {canVerify && (\r\n          <Verified>\r\n            <span>verified by:</span>\r\n            <VerifyingIcon src={verifyingChannel.icon}></VerifyingIcon>\r\n            <VerifyingName>{verifyingChannel.name}</VerifyingName>\r\n          </Verified>\r\n        )}\r\n      </SectionDate>\r\n      {processingState === 0 && <ShowDelegates />}\r\n    </ChannelDetailsWrapper>\r\n  );\r\n}\r\n\r\nconst ChannelDetailsWrapper = styled.div`\r\n  padding: 20px 30px;\r\n  padding-bottom: 0;\r\n  @media (max-width: 600px) {\r\n    padding: 20px 10px;\r\n  }\r\n`;\r\n\r\nconst SectionTop = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst ImageSection = styled.img`\r\n  width: 128px;\r\n  height: 128px;\r\n  margin-right: 20px;\r\n  border-radius: 32px;\r\n  @media (max-width: 600px) {\r\n    width: 70px;\r\n    height: 70px;\r\n    margin-right: 0px;\r\n    border-radius: 20px;\r\n  }\r\n`;\r\n\r\nconst ChannelStatusContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  // justify-content: center;\r\n  margin: 10px 0px;\r\n  // height: 26px;\r\n`;\r\n\r\nconst VerifyImage = styled.img`\r\n  width: 20px;\r\n  height: 25px;\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst VerifyingIcon = styled.img`\r\n  height: 20px;\r\n  width: 20px;\r\n  border-radius: 50%;\r\n  margin-left: 6px;\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst VerifyingName = styled.div``;\r\n\r\nconst Subscribers = styled.div`\r\n  width: 58px;\r\n  height: 26px;\r\n  background: #ffdbf0;\r\n  color: #cf1c84;\r\n  border-radius: 25px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  padding: 2px;\r\n`;\r\n\r\nconst StateText = styled.div`\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  line-height: 150%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  padding: 2px 8px;\r\n  border-radius: 25px;\r\n  height: 26px;\r\n  background-color: pink;\r\n`;\r\n\r\nconst ChanneStateText = styled(StateText)`\r\n  color: #2dbd81;\r\n  color: ${(props) => (props.active ? \"#2DBD81\" : \"red\")};\r\n  background-color: #c6efd1;\r\n  margin-left: 10px;\r\n  ${(props) =>\r\n    props.active &&\r\n    `\r\n        &::before {\r\n            width:16px;\r\n            height:16px;\r\n            background: #2DBD81;\r\n            border-radius: 50%;\r\n            content: \"\";\r\n            display: inline-flex;\r\n            align-items: center;\r\n            margin-right: 6px;\r\n        }\r\n    `}\r\n`;\r\n\r\nconst AliasStateText = styled(StateText)`\r\n  color: #e3b61c;\r\n  background-color: #e9eec4;\r\n  &::before {\r\n    width: 16px;\r\n    height: 16px;\r\n    background: #e3b61c;\r\n    border-radius: 50%;\r\n    content: \"\";\r\n    display: inline-flex;\r\n    align-items: center;\r\n    margin-right: 6px;\r\n  }\r\n`;\r\n\r\nconst SubscribersCount = styled.span`\r\n  font-weight: 400;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst Details = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst Date = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 340px;\r\n  color: #657795;\r\n  text-transform: none;\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 150%;\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst Verified = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  & > span {\r\n    color: #ec008c;\r\n    fontsize: 1em;\r\n    fontweight: bolder;\r\n  }\r\n`;\r\n\r\nconst ChannelName = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-right: 8px;\r\n  font-weight: 500;\r\n  font-size: 30px;\r\n  line-height: 141%;\r\n  color: ${(props) => props.theme.color};\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n    margin-top: 10px;\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nconst SectionDate = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  line-height: 25px;\r\n  letter-spacing: 0.1em;\r\n  text-transform: uppercase;\r\n  margin-bottom: 18px;\r\n`;\r\n\r\nconst SectionDes = styled.div`\r\n  letter-spacing: 0.1em;\r\n  text-transform: none;\r\n  color: #657795;\r\n  margin-bottom: 40px;\r\n  font-weight: 400;\r\n  font-size: 15px;\r\n  line-height: 140%;\r\n  padding: 0px 20px;\r\n  text-align: left;\r\n  @media (max-width: 600px) {\r\n    text-align: center;\r\n    margin-top: 10px;\r\n  }\r\n`;\r\n","/**\r\n * This file helps us maintain the channel creation state\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n/*\r\nprocessingState {\r\n  0: complete\r\n  1: 1st state (processing alias state)\r\n  2: 2nd state (change network state)\r\n  3: 3rd state (verify alias state)\r\n  null: nothing\r\n}\r\n*/\r\n\r\nconst initialState = {\r\n  processingState: null,\r\n};\r\n\r\nexport const channelCreationSlice = createSlice({\r\n  name: \"channelCreation\",\r\n  initialState,\r\n  reducers: {\r\n    setProcessingState: (state, action) => {\r\n      state.processingState = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { setProcessingState } = channelCreationSlice.actions;\r\n\r\nexport default channelCreationSlice.reducer;\r\n","import React from \"react\";\r\nimport FadeLoader from \"react-spinners/FadeLoader\";\r\nimport { H3, Section, Item, Span, Button } from \"../primaries/SharedStyling\";\r\nimport styled, { css, useTheme } from \"styled-components\";\r\n\r\nconst AliasSetup = () => {\r\n  const themes = useTheme();\r\n  return (\r\n    <Item\r\n      margin=\"15px 20px 15px 20px\"\r\n      flex=\"1\"\r\n      display=\"flex\"\r\n      direction=\"column\"\r\n    >\r\n      <Span\r\n        textAlign=\"center\"\r\n        margin=\"60px 0px 0px 0px\"\r\n        color={themes.color}\r\n        size=\"16px\"\r\n        textTransform=\"none\"\r\n        weight=\"500\"\r\n      >\r\n        We’re setting up your channel on the Polygon Alias Network.\r\n      </Span>{\" \"}\r\n      <Span\r\n        textAlign=\"center\"\r\n        margin=\"5px 0px 60px 0px\"\r\n        color={themes.color}\r\n        size=\"16px\"\r\n        textTransform=\"none\"\r\n        weight=\"500\"\r\n      >\r\n        This usually takes around 5 minutes.\r\n      </Span>\r\n      <Item display=\"flex\" direction=\"row\" align=\"center\" margin=\"50px 0px\">\r\n        <FadeLoader color=\"#cf1c84\" loading={true} height={13} width={4} />\r\n        <H3\r\n          margin=\"auto 15px\"\r\n          family=\"Manrope\"\r\n          textTransform=\"none\"\r\n          color={themes.color}\r\n          size=\"16px\"\r\n          weight=\"600\"\r\n        >\r\n          Processing\r\n        </H3>\r\n      </Item>\r\n    </Item>\r\n  );\r\n};\r\n\r\nexport default AliasSetup;\r\n","import { networkName, CORE_CHAIN_ID, aliasChainIdsMapping, PolygonNetworks } from \"helpers/UtilityHelper\";\r\nimport React from \"react\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { Item, Span, Button } from \"../primaries/SharedStyling\";\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport useToast from \"hooks/useToast\";\r\nimport { utils } from \"ethers\";\r\nimport { MdCheckCircle, MdError } from \"react-icons/md\";\r\n\r\nconst ChangeNetwork = () => {\r\n  const changeNetworkToast = useToast();\r\n  const themes = useTheme();\r\n  const { chainId, library } = useWeb3React();\r\n\r\n  const switchToPolygonNetwork = async (chainId: number, provider: any) => {\r\n    const polygonChainId = aliasChainIdsMapping[chainId];\r\n\r\n    try {\r\n      changeNetworkToast.showToast(\"Waiting for Confirmation...\");\r\n\r\n      await provider.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{ chainId: utils.hexValue(polygonChainId) }],\r\n      });\r\n\r\n      changeNetworkToast.updateToast(\"Success\", `Successfully switched to ${networkName[polygonChainId]} !`, \"SUCCESS\", (size) => <MdCheckCircle size={size} color=\"green\" />)\r\n    } catch (switchError) {\r\n      changeNetworkToast.updateToast(\"Error\", `There was an error switching Chain ( ${switchError.message} )`, \"ERROR\", (size) => <MdError size={size} color=\"red\" />)\r\n\r\n      // This error code indicates that the chain has not been added to MetaMask.\r\n      if (switchError.code === 4902) {\r\n        try {\r\n          await provider.request({\r\n            method: 'wallet_addEthereumChain',\r\n            params: [polygonChainId === 80001 ? PolygonNetworks.MUMBAI_TESTNET : PolygonNetworks.POLYGON_MAINNET],\r\n          });\r\n        } catch (addError) {\r\n          console.error(`Unable to add ${networkName[polygonChainId]} Network in wallet`);\r\n        }\r\n      }\r\n      // error toast - Your wallet doesn't support switch network. Kindly, switch the network to Polygon manually.\r\n      changeNetworkToast.updateToast(\"Error\", `Your wallet doesn't support switching chains. Kindly, switch the network to ${networkName[polygonChainId]} manually.( ${switchError.message} )`, \"ERROR\", (size) => <MdError size={size} color=\"red\" />)\r\n      console.error(\"Unable to switch chains\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Item\r\n      margin=\"15px 20px 15px 20px\"\r\n      flex=\"1\"\r\n      display=\"flex\"\r\n      direction=\"column\"\r\n    >\r\n      <Span\r\n        textAlign=\"center\"\r\n        margin=\"60px 0px 0px 0px\"\r\n        color={themes.color}\r\n        size=\"16px\"\r\n        textTransform=\"none\"\r\n        weight=\"500\"\r\n        line=\"24px\"\r\n      >\r\n        Change your wallet network to <TextPink>{networkName[aliasChainIdsMapping[CORE_CHAIN_ID]]}</TextPink> to\r\n        start <br></br>\r\n        verifying your Channel Alias.\r\n      </Span>\r\n\r\n      <Item\r\n        width=\"12.2em\"\r\n        self=\"stretch\"\r\n        align=\"stretch\"\r\n        margin=\"100px auto 50px auto\"\r\n      >\r\n        <Button\r\n          bg=\"#e20880\"\r\n          color=\"#fff\"\r\n          flex=\"1\"\r\n          radius=\"15px\"\r\n          padding=\"20px 20px\"\r\n          onClick={() => switchToPolygonNetwork(chainId, library.provider)}\r\n        >\r\n          <Span\r\n            color=\"#fff\"\r\n            weight=\"600\"\r\n            textTransform=\"none\"\r\n            line=\"22px\"\r\n            size=\"16px\"\r\n          >\r\n            Change Network\r\n          </Span>\r\n        </Button>\r\n      </Item>\r\n    </Item>\r\n  );\r\n};\r\n\r\nconst TextPink = styled.b`\r\n  color: #cf1c84;\r\n`;\r\n\r\nexport default ChangeNetwork;\r\n","import React, { useRef, useState } from \"react\";\r\nimport styled, { css, useTheme } from \"styled-components\";\r\nimport { H3, Section, Item, Span, Button } from \"../primaries/SharedStyling\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { useClickAway } from \"react-use\";\r\nimport { getReq, postReq } from \"../api\";\r\nimport FadeLoader from \"react-spinners/FadeLoader\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\nimport { setProcessingState } from \"redux/slices/channelCreationSlice\";\r\nimport { BsFillCheckCircleFill } from \"react-icons/bs\";\r\n\r\nconst ethers = require(\"ethers\");\r\n\r\nconst VerifyAlias = ({ aliasEthAccount, setAliasVerified }) => {\r\n  const themes = useTheme();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const signer = library.getSigner(account);\r\n  const dispatch = useDispatch();\r\n\r\n  // const modalRef = useRef(null);\r\n  const polygonCommsContract = new ethers.Contract(\r\n    addresses.epnsPolyComm,\r\n    abis.epnsComm,\r\n    signer\r\n  );\r\n  const [loading, setLoading] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n  const mainAddress = aliasEthAccount;\r\n\r\n  // Form signer and contract connection\r\n  // useClickAway(modalRef, () => onClose(loading !== \"\"));\r\n\r\n  const checkAlias = async () => {\r\n    if (mainAddress == aliasEthAccount) {\r\n      submitAlias();\r\n    }\r\n  };\r\n\r\n  const checkAliasVerification = async () => {\r\n    const userAddressInCaip = convertAddressToAddrCaip(account, chainId);\r\n    const { aliasVerified } = await getReq(\r\n      `/v1/alias/${userAddressInCaip}/channel`\r\n    ).then(({ data }) => {\r\n      if (data) {\r\n        dispatch(setAliasVerified(data.is_alias_verified));\r\n        return { aliasVerified: data[\"is_alias_verified\"] };\r\n      }\r\n      return { aliasVerified: null };\r\n    });\r\n    return { aliasVerified };\r\n  };\r\n\r\n  const submitAlias = () => {\r\n    setLoading(\"Processing\");\r\n    const anotherSendTxPromise = polygonCommsContract.verifyChannelAlias(\r\n      mainAddress\r\n    );\r\n    anotherSendTxPromise\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        setLoading(\"Transaction Sent! It usually takes 5mins to verify.\");\r\n\r\n        await tx.wait(1);\r\n        setTimeout(() => {\r\n          setLoading(\"Transaction Mined!\");\r\n        }, 2000);\r\n\r\n        setTimeout(() => {\r\n          setLoading(\"Loading...\");\r\n        }, 2000);\r\n\r\n        const intervalId = setInterval(async () => {\r\n          const { aliasVerified } = await checkAliasVerification();\r\n          if (aliasVerified) {\r\n            setTimeout(() => {\r\n              setSuccess(true);\r\n            }, 1000);\r\n            clearInterval(intervalId);\r\n            dispatch(setProcessingState(0));\r\n          }\r\n        }, 5000);\r\n      })\r\n      .catch(() => {\r\n        setLoading(\"There was an error\");\r\n        setTimeout(() => {\r\n          setLoading(\"\");\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Item\r\n      margin=\"15px 20px 15px 20px\"\r\n      flex=\"1\"\r\n      display=\"flex\"\r\n      direction=\"column\"\r\n    >\r\n      <Span\r\n        textAlign=\"center\"\r\n        margin=\"60px 0px 0px 0px\"\r\n        color={themes.color}\r\n        size=\"16px\"\r\n        textTransform=\"none\"\r\n        weight=\"500\"\r\n        line=\"24px\"\r\n      >\r\n        You’re almost there! Verify the Channel Alias to enable sending\r\n        <br></br>\r\n        Notifications from it.\r\n      </Span>\r\n\r\n      {loading === \"\" && (\r\n        <Span\r\n          textAlign=\"center\"\r\n          margin=\"60px 0px 0px 0px\"\r\n          color={\"#CF1C84\"}\r\n          size=\"16px\"\r\n          textTransform=\"none\"\r\n          weight=\"500\"\r\n          line=\"24px\"\r\n        >\r\n          {account}\r\n        </Span>\r\n      )}\r\n\r\n      {!success &&\r\n        (loading ? (\r\n          <Item\r\n            display=\"flex\"\r\n            direction=\"row\"\r\n            align=\"center\"\r\n            margin=\"60px 0px 0px 0px\"\r\n          >\r\n            <FadeLoader color=\"#cf1c84\" loading={true} height={13} width={4} />\r\n\r\n            <Span\r\n              color={themes.color}\r\n              weight=\"600\"\r\n              textTransform=\"none\"\r\n              line=\"22px\"\r\n              size=\"16px\"\r\n              margin=\"0px 10px\"\r\n            >\r\n              {loading}\r\n            </Span>\r\n          </Item>\r\n        ) : (\r\n          <Item\r\n            width=\"15em\"\r\n            self=\"stretch\"\r\n            align=\"stretch\"\r\n            margin=\"60px auto 0px auto\"\r\n          >\r\n            <Button\r\n              bg=\"#e20880\"\r\n              color=\"#fff\"\r\n              flex=\"1\"\r\n              radius=\"15px\"\r\n              padding=\"20px 10px\"\r\n              onClick={checkAlias}\r\n            >\r\n              <Span\r\n                color=\"#fff\"\r\n                weight=\"600\"\r\n                textTransform=\"none\"\r\n                line=\"22px\"\r\n                size=\"16px\"\r\n              >\r\n                Verify Alias Address\r\n              </Span>\r\n            </Button>\r\n          </Item>\r\n        ))}\r\n\r\n      {success && (\r\n        <Item\r\n          display=\"flex\"\r\n          direction=\"row\"\r\n          align=\"center\"\r\n          margin=\"60px 0px 0px 0px\"\r\n        >\r\n          <BsFillCheckCircleFill color=\"#30CC8B\" size={30} />\r\n          <Span\r\n            color={themes.color}\r\n            weight=\"600\"\r\n            textTransform=\"none\"\r\n            line=\"22px\"\r\n            size=\"16px\"\r\n            margin=\"0px 10px\"\r\n          >\r\n            Verification Complete\r\n          </Span>\r\n        </Item>\r\n      )}\r\n    </Item>\r\n  );\r\n};\r\n\r\nexport default VerifyAlias;\r\n","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { Section } from \"../primaries/SharedStyling\";\r\nimport AliasSetup from \"./AliasSetup\";\r\nimport ChangeNetwork from \"./ChangeNetwork\";\r\nimport VerifyAlias from \"./VerifyAlias\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst AliasProcessing = ({ aliasEthAccount, setAliasVerified }) => {\r\n  const { processingState } = useSelector((state) => state.channelCreation);\r\n\r\n  return (\r\n    <Section>\r\n      <ItemHere>\r\n        <Tab type={processingState >= 1 ? \"active\" : \"inactive\"}>\r\n          <div>Waiting for Setup</div>\r\n          <Step type={processingState >= 1 ? \"active\" : \"inactive\"} />\r\n        </Tab>\r\n        <Tab type={processingState >= 2 ? \"active\" : \"inactive\"}>\r\n          <div>Change Network</div>\r\n          <Step type={processingState >= 2 ? \"active\" : \"inactive\"} />\r\n        </Tab>\r\n        <Tab type={processingState >= 3 ? \"active\" : \"inactive\"}>\r\n          <div>Verify Alias Network</div>\r\n          <Step type={processingState >= 3 ? \"active\" : \"inactive\"} />\r\n        </Tab>\r\n        <Line />\r\n      </ItemHere>\r\n\r\n      {processingState === 1 && <AliasSetup />}\r\n      {processingState === 2 && <ChangeNetwork />}\r\n      {processingState === 3 && (\r\n        <VerifyAlias\r\n          aliasEthAccount={aliasEthAccount}\r\n          setAliasVerified={setAliasVerified}\r\n        />\r\n      )}\r\n    </Section>\r\n  );\r\n};\r\n\r\nconst ItemHere = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  margin: 50px 0px 0px 0px;\r\n  @media (max-width: 600px) {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  @media (max-width: 1224px) {\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n`;\r\n\r\nconst Step = styled.div`\r\n  height: 5px;\r\n  width: 100%;\r\n  background: #cfd7e4;\r\n  border-radius: 13px;\r\n\r\n  ${({ type }) =>\r\n    type === \"active\" &&\r\n    css`\r\n      background: #e20880;\r\n    `};\r\n`;\r\n\r\nconst Line = styled.div`\r\n  position: absolute;\r\n  height: 5px;\r\n  background: #f1f1f1;\r\n  right: 0;\r\n  left: 0;\r\n  margin: 0px 10px;\r\n  z-index: -1;\r\n`;\r\n\r\nconst Tab = styled.div`\r\n  position: relative;\r\n  width: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n  color: #657795;\r\n  div {\r\n    margin: 5px 0px;\r\n    font-family: \"Manrope\";\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    font-size: 16px;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n\r\n  ${({ type }) =>\r\n    type === \"active\" &&\r\n    css`\r\n      color: #e20880;\r\n    `};\r\n`;\r\n\r\nexport default AliasProcessing;\r\n","import React from \"react\";\r\nimport FadeLoader from \"react-spinners/FadeLoader\";\r\n\r\nconst override: React.CSSProperties = {\r\n    // width: \"fit-content\",\r\n    height: \"45px\",\r\n};\r\n\r\nconst LoaderSpinner = () => {\r\n    return (\r\n        <FadeLoader\r\n            color=\"#CF1C84\"\r\n            height={9}\r\n            width={2.5}\r\n            margin={0}\r\n            css={override}\r\n        />\r\n    )\r\n}\r\n\r\nexport default LoaderSpinner;","import React from \"react\";\r\nimport styled,{ ThemeProvider, useTheme } from \"styled-components\";\r\nimport { Skeleton } from \"@mui/material\"\r\n\r\nimport LoaderSpinner from \"primaries/LoaderSpinner\";\r\n\r\nconst ChannelLoading = () => {\r\n    const themes = useTheme();\r\n    return (\r\n        <ThemeProvider theme={themes}>\r\n            <ChannelLoadingContainer>\r\n                <SkeletonContainerOuter>\r\n                    <SkeletonContainerUpperRow>\r\n                        <Skeleton\r\n                            variant=\"rectangular\"\r\n                            sx={{ bgcolor: '#F4F5FA' }}\r\n                            style={{\r\n                                width: \"8rem\",\r\n                                height: \"8rem\",\r\n                                borderRadius: \"32px\",\r\n                                marginRight: \"2%\"\r\n                            }} />\r\n\r\n                        <SkeletonContainerUpperCol>\r\n                            <Skeleton\r\n                                variant=\"rectangular\"\r\n                                sx={{ bgcolor: '#F4F5FA' }}\r\n                                style={{\r\n                                    width: \"40%\",\r\n                                    height: \"2.2rem\",\r\n                                    borderRadius: \"5px\",\r\n                                    marginTop: \"3%\"\r\n                                }} />\r\n                            <Skeleton\r\n                                variant=\"rectangular\"\r\n                                sx={{ bgcolor: '#F4F5FA' }}\r\n                                style={{\r\n                                    width: \"20%\",\r\n                                    height: \"1.1rem\",\r\n                                    borderRadius: \"5px\",\r\n                                    marginTop: \"2%\"\r\n                                }} />\r\n                        </SkeletonContainerUpperCol>\r\n                    </SkeletonContainerUpperRow>\r\n                    <Skeleton\r\n                        variant=\"rectangular\"\r\n                        sx={{ bgcolor: '#F4F5FA' }}\r\n                        style={{\r\n                            width: \"100%\",\r\n                            height: \"2.7rem\",\r\n                            borderRadius: \"9px\",\r\n                            marginTop: \"4%\"\r\n                        }} />\r\n                </SkeletonContainerOuter>\r\n\r\n                <LoaderContainer>\r\n                    <LoaderSpinner />\r\n                    <LoaderText style={{\r\n                        color: themes.fontColor\r\n                    }}>\r\n                        Loading Channel Details. Please wait...\r\n                    </LoaderText>\r\n                </LoaderContainer>\r\n            </ChannelLoadingContainer>\r\n        </ThemeProvider>\r\n    )\r\n}\r\n\r\nconst ChannelLoadingContainer = styled.div`\r\n    width:100%;\r\n    padding: 4.6rem;\r\n    height: 60vh;\r\n    border-radius: 20px;\r\n`\r\n\r\nconst SkeletonContainerOuter = styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    `\r\n\r\nconst SkeletonContainerUpperRow = styled.div`\r\n    width: 100%;\r\n    height: fit-content;\r\n    display: flex;\r\n    `\r\n\r\nconst SkeletonContainerUpperCol = styled.div`\r\n    width: 80%;\r\n    height: fit-content;\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nconst LoaderContainer = styled.div`\r\n    height: 35vh;\r\n    display:flex;\r\n    align-items:center;\r\n    justify-content: center;\r\n`\r\n\r\nconst LoaderText = styled.div`\r\n//   margin-left: 3%;\r\n  font-family: Manrope;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  line-height: 1.3rem;\r\n  letter-spacing: 0em;\r\n  text-align: left;\r\n`;\r\n\r\nexport default ChannelLoading;","import React, {Fragment, useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Section, Content, Item } from \"../primaries/SharedStyling\";\r\nimport ChannelSettings from \"components/ChannelSettings\";\r\nimport ChannelDetails from \"components/ChannelDetails\";\r\nimport CreateChannel from \"components/CreateChannel\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { ThemeProvider, useTheme } from \"styled-components\";\r\nimport { aliasChainIdsMapping, getAliasFromChannelDetails } from \"helpers/UtilityHelper\";\r\nimport { convertChainIdToChainCaip, getCAIP } from \"helpers/CaipHelper\";\r\nimport { setAliasAddress, setAliasEthAddress, setAliasVerified, setAliasAddressFromContract } from \"redux/slices/adminSlice\";\r\nimport { setProcessingState } from \"redux/slices/channelCreationSlice\";\r\nimport AliasProcessing from \"components/AliasProcessing\"\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport { useDeviceWidthCheck } from \"hooks\";\r\nimport ChannelLoading from \"components/ChannelLoading\";\r\n\r\n// interval after which alias details api will be called, in seconds\r\nconst ALIAS_API_CALL_INTERVAL:number = 10;\r\n\r\n// interval id for calling search api\r\nlet intervalID = null;\r\n\r\n// CREATE CHANNEL OWNER DASHBOARD\r\nconst ChannelOwnerDashboard = () => {\r\n  const theme = useTheme();\r\n  const { account, chainId } = useWeb3React();\r\n  const { channelDetails, delegatees, aliasDetails: {aliasAddr, aliasEthAddr, isAliasVerified, aliasAddrFromContract} } = useSelector((state: any) => state.admin);\r\n  const { processingState } = useSelector((state: any) => state.channelCreation);\r\n\r\n  const isChannelDetails = (channelDetails && channelDetails !== 'unfetched');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [channelDetailsLoading, setChannelDetailsLoading] = useState<boolean>(true); \r\n\r\n  const CORE_CHAIN_ID: number = envConfig.coreContractChain;\r\n  const onCoreNetwork: boolean = CORE_CHAIN_ID === chainId;\r\n  const isMobile = useDeviceWidthCheck(600);\r\n\r\n  \r\n  useEffect(() => {\r\n    if (!onCoreNetwork || !channelDetails || aliasAddrFromContract || channelDetails === 'unfetched') return;\r\n\r\n    const aliasAddress: (string | null) = getAliasFromChannelDetails(channelDetails);\r\n    if (aliasAddress) {\r\n      dispatch(setAliasAddressFromContract(aliasAddress));\r\n      // dispatch(setAliasAddress(aliasAddress));\r\n    } else {\r\n      dispatch(setProcessingState(0));\r\n      // setChannelDetailsLoading(false);\r\n    }\r\n  }, [channelDetails, aliasAddrFromContract]);\r\n\r\n  const fetchChannelDetails = async (address: string) => {\r\n    let { aliasAddress=null, isAliasVerified=null } = await ChannelsDataStore.instance.getChannelDetailsFromAddress(address);\r\n    if (aliasAddress == \"NULL\") aliasAddress = null;\r\n\r\n    return { aliasAddress: aliasAddress, aliasVerified: isAliasVerified };\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!onCoreNetwork || !aliasAddrFromContract || processingState === 0) return;\r\n\r\n    intervalID = setInterval(async () => {\r\n      const { aliasAddress, aliasVerified } = await fetchChannelDetails(account);\r\n      if (aliasAddress) {\r\n        dispatch(setAliasAddress(aliasAddress));\r\n        if (aliasVerified) {\r\n          // setChannelDetailsLoading(false);\r\n          dispatch(setAliasVerified(true));\r\n          dispatch(setProcessingState(0));\r\n        } else {\r\n          // setChannelDetailsLoading(false);\r\n          dispatch(setProcessingState(2));\r\n          dispatch(setAliasVerified(false));\r\n        }\r\n      } else {\r\n        if (processingState != 0 && processingState != 1)\r\n          dispatch(setProcessingState(1));\r\n        // setChannelDetailsLoading(false);\r\n      }\r\n    }, ALIAS_API_CALL_INTERVAL * 1000);\r\n  }, [aliasAddrFromContract]);\r\n\r\n  if (aliasAddr !== null) {\r\n    clearInterval(intervalID);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Interface>\r\n        {((channelDetails === 'unfetched') || processingState === null) &&\r\n          <ChannelLoading />\r\n        } \r\n      </Interface>\r\n        <ModifiedContent>\r\n          {/* display the create channel page if there are no details */}\r\n          {(!channelDetails && processingState === 0) ? <CreateChannel /> : \"\"}\r\n          {isChannelDetails && processingState !== null &&\r\n            (\r\n              <>\r\n                {channelDetails && !isMobile ? <ChannelSettings /> : \"\"}\r\n                {channelDetails ? <ChannelDetails /> : \"\"}\r\n              </>\r\n            )\r\n          }\r\n          \r\n          {/* processing box */}\r\n          {processingState !== 0 && processingState !== null && isChannelDetails && (\r\n            <ThemeProvider theme={theme}>\r\n              <AliasProcessing aliasEthAccount={aliasEthAddr} setAliasVerified={setAliasVerified} />\r\n            </ThemeProvider>\r\n          )}\r\n          </ModifiedContent>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst ModifiedContent = styled(Content)`\r\n  flex: 1;\r\n  padding: 0px;\r\n  position: relative;\r\n    @media (min-width: 800px) and (max-width: 1600px) {\r\n      padding: 20px 30px;\r\n   }\r\n\r\n   @media (min-width: 1601px) and (max-width: 2200px) {\r\n    padding: 20px 50px;\r\n }\r\n  @media (min-width: 2201px) and (max-width: 2900px) {\r\n    padding: 30px 220px;\r\n  }\r\n  @media (min-width: 2901px) {\r\n    padding: 30px 550px;\r\n  }\r\n\r\n  @media (min-width: 3501px) {\r\n    padding: 30px 1000px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Interface = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n\r\n  margin-bottom: 15px;\r\n  overflow: hidden;\r\n`;\r\n\r\n  //   @media screen and (max-width: 1200px) {\r\n  //   min-width: 700px;\r\n  //  }\r\n\r\n  //  @media screen and (max-width: 1600px) {\r\n  //   min-width: 900px;\r\n  // }\r\n\r\n  // @media screen and (max-width: 2000px) {\r\n  //   min-width: 1300px;\r\n  // }\r\n\r\n  // @media screen and (max-width: 2100px) {\r\n  //    min-width: 1200px;\r\n  // }\r\n\r\nconst ChannelLoadingMessage = styled.div`\r\n  width: 100%;\r\n  padding: 40px;\r\n  font-size: 1.5em;\r\n  font-weight: 300;\r\n  text-align: center;\r\n  color: ${props => props.theme.color};\r\n`;\r\n\r\n// Export Default\r\nexport default ChannelOwnerDashboard;\r\n","import EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\n\r\n// STATIC SINGLETON\r\nexport const UserEvents = {\r\n    SUBSCRIBED: \"Subscribed\",\r\n    UNSUBSCRIBED: \"Unsubscribed\",\r\n    PUBLIC_KEY_BROADCASTED: \"PublicKeyBroadcasted\",\r\n    CREATED_CHANNEL: \"CreatedChannel\",\r\n    DEACTIVATE_CHANNEL: \"DeactivateChannel\",\r\n}\r\n\r\nexport default class UsersDataStore {\r\n    static instance = UsersDataStore.instance || new UsersDataStore();\r\n\r\n    state = {\r\n      usersCount: -1,\r\n      userMeta: null,\r\n      ownerMeta: null,\r\n\r\n      callbacks: [],\r\n\r\n      account: null,\r\n      epnsReadProvider: null,\r\n      epnsCommReadProvider: null\r\n    }\r\n\r\n    // init\r\n    init = (account, epnsReadProvider, epnsCommReadProvider) => {\r\n      // set account\r\n      this.state.account = account;\r\n\r\n      // First attach listeners then overwrite the old one if any\r\n      this.resetUsersListeners();\r\n      this.state.epnsReadProvider = epnsReadProvider;\r\n      this.state.epnsCommReadProvider = epnsCommReadProvider;\r\n      this.initUsersListenersAsync();\r\n\r\n      // next get store user count & user meta\r\n      this.getOwnerMetaAsync();\r\n      this.getUsersCountAsync();\r\n      this.getUserMetaAsync();\r\n    }\r\n\r\n    // RESET LISTENERS\r\n    resetUsersListeners = () => {\r\n      // only proceed if a read provider is attached\r\n      if (this.state.epnsReadProvider) {\r\n        this.state.epnsCommReadProvider.removeAllListeners(\"Subscribe\");\r\n        this.state.epnsCommReadProvider.removeAllListeners(\"Unsubscribe\");\r\n        this.state.epnsCommReadProvider.removeAllListeners(\"PublicKeyRegistered\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"DeactivateChannel\");\r\n      }\r\n\r\n      // reset user meta as well\r\n      this.state.userMeta = null;\r\n    }\r\n\r\n    // init LISTENERS\r\n    initUsersListenersAsync = async () => {\r\n      // Add Listeners\r\n      await this.listenForSubscribedAsync();\r\n      await this.listenForUnsubscribedAsync();\r\n\r\n      if (!this.state.userMeta || (this.state.userMeta && !this.state.userMeta.publicKeyRegistered)) {\r\n        await this.listenForPublicKeyBroadcastAsync();\r\n      }\r\n    }\r\n\r\n    // 1. Listen for Subscribe Async\r\n    listenForSubscribedAsync = async () => {\r\n      // TODO use the right contract comms\r\n      // const contract = this.state.epnsReadProvider;\r\n      // let filter = contract.filters.Subscribe(null, this.state.account);\r\n\r\n      // if (this.state.userMeta) {\r\n      //   this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.add(1);\r\n      // }\r\n\r\n      // contract.on(filter, async (channel, user) => {\r\n      //   // then perform callbacks\r\n      //   if (this.state.callbacks[UserEvents.SUBSCRIBED]) {\r\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.SUBSCRIBED])) {\r\n      //       if (callback) { callback(channel, user); }\r\n      //     }\r\n      //   }\r\n      // });\r\n    }\r\n\r\n    // 2. Listen for Unsubscribe Async\r\n    listenForUnsubscribedAsync = async () => {\r\n      // TODO Use the COMMUNICATOR CONTRACT\r\n      // const contract = this.state.epnsReadProvider;\r\n      // let filter = contract.filters.Unsubscribe(null, this.state.account);\r\n\r\n      // if (this.state.userMeta) {\r\n      //   this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.sub(1);\r\n      // }\r\n\r\n      // contract.on(filter, async (channel, user) => {\r\n      //   // then perform callbacks\r\n      //   if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n      //       if (callback) { callback(channel, user); }\r\n      //     }\r\n      //   }\r\n      // });\r\n    }\r\n\r\n    // 3. Listen For Public Key Broadcast\r\n    listenForPublicKeyBroadcastAsync = async () => {\r\n        // TODO Use the COMMUNICATOR CONTRACT\r\n      // const contract = this.state.epnsReadProvider;\r\n      // let filter = contract.filters.PublicKeyRegistered(this.state.account, null);\r\n\r\n      // if (this.state.userMeta) {\r\n      //   this.state.userMeta.publicKeyRegistered = true;\r\n      // }\r\n\r\n      // contract.once(filter, async (channel, user) => {\r\n      //   // then perform callbacks\r\n      //   if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n      //       if (callback) { callback(channel, user); }\r\n      //     }\r\n      //   }\r\n      // });\r\n    }\r\n\r\n    // FOR CALLBACKS\r\n    addCallbacks = (callbackType, callbackID, callback) => {\r\n      // first check if callback already exists\r\n      if (!this.state.callbacks[callbackType]) {\r\n        this.state.callbacks[callbackType] = {};\r\n      }\r\n\r\n      if (!this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = callback;\r\n      }\r\n    }\r\n\r\n    removeCallbacks = (callbackType, callbackID) => {\r\n      // first check if callback already exists\r\n      if (this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = null;\r\n      }\r\n    }\r\n\r\n    // GET OWNER META\r\n    getOwnerMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.ownerMeta) {\r\n          if (enableLogs) console.log(\"getOwnerMetaAsync() [CACHED] --> %o\", this.state.ownerMeta);\r\n          resolve(this.state.ownerMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getOwnerInfo(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.ownerMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getOwnerMetaAsync() --> %o\", response);\r\n              resolve(this.state.ownerMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getOwnerMetaAsync() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }\r\n      });\r\n    }\r\n\r\n    // USERS COUNT\r\n    getUsersCountAsync = async () => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsCount == -1) {\r\n          // Count not set, get and set it first\r\n          const count = EPNSCoreHelper.getTotalNumberOfUsers(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.usersCount = response;\r\n              console.log(\"getUsersCountAsync() --> %o\", response);\r\n              resolve(this.state.usersCount)\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n        }\r\n        else {\r\n          resolve(this.state.usersCount);\r\n        }\r\n      });\r\n    }\r\n\r\n    incrementUsersCountAsync = async (incrementCount) => {\r\n      return new Promise ((resolve, reject) => {\r\n        this.getUsersCountAsync()\r\n          .then(response => {\r\n            this.state.usersCount = response + incrementCount;\r\n            console.log(\"incrementChannelsCountAsync() --> %d\", this.state.usersCount);\r\n            resolve(this.state.usersCount);\r\n          })\r\n          .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n      });\r\n    }\r\n\r\n    // GET USER META\r\n    getUserMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.userMeta) {\r\n          if (enableLogs) console.log(\"getUserMetaAsync() [CACHED] --> %o\", this.state.userMeta);\r\n          resolve(this.state.userMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getUserInfo(this.state.account, this.state.epnsCommReadProvider)\r\n            .then(response => {\r\n              this.state.userMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getUserMetaAsync() --> %o\", this.state.userMeta);\r\n              resolve(this.state.userMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getUserMetaAsync() --> %o\", err);\r\n              reject(err);\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n}\r\n","/**\r\n * This file helps us maintain a global state of all contracts to be used across the application\r\n * This is used to prevent duplication of logic and instantiating contracts multiple times\r\n * This is also used to prevent passing props everywhere and making the code ugly\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  ZERO_ADDRESS: \"0x0000000000000000000000000000000000000000\",\r\n  epnsReadProvider: null, // the core contract reader\r\n  epnsWriteProvider: null, // the core contract with signer\r\n  epnsCommReadProvider: null, // the communicator contract reader\r\n  epnsCommWriteProvider: null, // the communicator write contract with signer\r\n  pushAdminAddress: null, // the address of the push admin\r\n};\r\n\r\nexport const contractSlice = createSlice({\r\n  name: \"contracts\",\r\n  initialState,\r\n  reducers: {\r\n    setCoreReadProvider: (state, action) => {\r\n      state.epnsReadProvider = action.payload;\r\n    },\r\n    setCoreWriteProvider: (state, action) => {\r\n      state.epnsWriteProvider = action.payload;\r\n    },\r\n    setCommunicatorReadProvider: (state, action) => {\r\n      state.epnsCommReadProvider = action.payload;\r\n    },\r\n    setCommunicatorWriteProvider: (state, action) => {\r\n      state.epnsCommWriteProvider = action.payload;\r\n    },\r\n    setPushAdmin: (state, action) => {\r\n      state.pushAdminAddress = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n  setCoreReadProvider,\r\n  setCoreWriteProvider,\r\n  setCommunicatorReadProvider,\r\n  setCommunicatorWriteProvider,\r\n  setPushAdmin\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport { ethers } from \"ethers\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport hex2ascii from \"hex2ascii\";\r\nimport { addresses, abis , envConfig } from \"@project/contracts\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport NotificationToast from \"../primaries/NotificationToast\";\r\nimport AliasVerificationodal from \"components/AliasVerificationModal\";\r\nimport Info from \"segments/Info\";\r\nimport Feedbox from \"segments/Feedbox\";\r\nimport ViewChannels from \"segments/ViewChannels\";\r\nimport ChannelOwnerDashboard from \"segments/ChannelOwnerDashboard\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore from \"singletons/UsersDataStore\";\r\nimport { getReq } from \"api\";\r\nimport {\r\n  setCoreReadProvider,\r\n  setCoreWriteProvider,\r\n  setCommunicatorReadProvider,\r\n  setCommunicatorWriteProvider,\r\n  setPushAdmin,\r\n} from \"redux/slices/contractSlice\";\r\nimport {\r\n  setUserChannelDetails,\r\n  setCanVerify,\r\n  setDelegatees,\r\n} from \"redux/slices/adminSlice\";\r\nimport { addNewNotification } from \"redux/slices/notificationSlice\";\r\n\r\nimport GLOBALS from \"config/Globals\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\n\r\nexport const ALLOWED_CORE_NETWORK = envConfig.coreContractChain; //chainId of network which we have deployed the core contract on\r\nconst CHANNEL_TAB = 1; //Default to 1 which is the channel tab\r\n\r\n// Create Header\r\nfunction InboxPage({ loadTeaser, playTeaser }) {\r\n  ReactGA.pageview(\"/channels\");\r\n\r\n  const dispatch = useDispatch();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const {\r\n    epnsReadProvider,\r\n    epnsWriteProvider,\r\n    epnsCommReadProvider,\r\n  } = useSelector((state) => state.contracts);\r\n\r\n  const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\r\n  const INITIAL_OPEN_TAB = CHANNEL_TAB; //if they are not on a core network.redirect then to the notifications page\r\n\r\n  const [controlAt, setControlAt] = React.useState(1);\r\n  const [modalOpen, setModalOpen] = React.useState(false);\r\n  const [adminStatusLoaded, setAdminStatusLoaded] = React.useState(false);\r\n  const [aliasVerified, setAliasVerified] = React.useState(null); // null means error, false means unverified and true means verified\r\n\r\n  // toast related section\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n  // toast related section\r\n\r\n\r\n\r\n  // Render\r\n  return (\r\n    <>\r\n    <Container>\r\n      <Interface>\r\n        {controlAt == 0 && <Feedbox />}\r\n        {controlAt == 1 && <ViewChannels loadTeaser={loadTeaser} playTeaser={playTeaser} />}\r\n        {controlAt == 2 && adminStatusLoaded && <ChannelOwnerDashboard />}\r\n        {controlAt == 3 && <Info />}\r\n        {toast && (\r\n          <NotificationToast notification={toast} clearToast={clearToast} />\r\n        )}\r\n        {modalOpen && (\r\n          <AliasVerificationodal\r\n            onClose={() => setModalOpen(false)}\r\n            onSuccess={() => setAliasVerified(true)}\r\n            verificationStatus={aliasVerified}\r\n          />\r\n        )}\r\n      </Interface>\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n// css style \r\nconst Container = styled.div`\r\n  display: flex;\r\n  background: ${props => props.theme.mainBg};\r\n  height: calc(100vh - ${GLOBALS.CONSTANTS.HEADER_HEIGHT}px - 52px - ${props => props.theme.interfaceTopPadding});\r\n  align-self: stretch;\r\n`;\r\n\r\nconst Interface = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n\r\n  overflow: hidden;\r\n`;\r\n\r\n// Export Default\r\nexport default InboxPage;\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addresses, abis, envConfig } from \"@project/contracts\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport NotificationToast from \"primaries/NotificationToast\";\r\nimport ChannelOwnerDashboard from \"segments/ChannelOwnerDashboard\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport { getReq } from \"api\";\r\nimport { setPushAdmin } from \"redux/slices/contractSlice\";\r\nimport {\r\n  setUserChannelDetails,\r\n  setCanVerify,\r\n  setDelegatees,\r\n  setAliasAddress,\r\n} from \"redux/slices/adminSlice\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\nimport { setAliasEthAddress, setAliasVerified } from \"redux/slices/adminSlice\";\r\nimport { setProcessingState } from \"redux/slices/channelCreationSlice\";\r\nimport { addNewNotification } from \"redux/slices/notificationSlice\";\r\nimport ChannelLoading from \"components/ChannelLoading\";\r\n\r\nexport const ALLOWED_CORE_NETWORK = envConfig.coreContractChain; //chainId of network which we have deployed the core contract on\r\n\r\n// Create Header\r\nfunction ChannelDashboardPage() {\r\n  ReactGA.pageview(\"/channel_dashboard\");\r\n\r\n  const dispatch = useDispatch();\r\n  const { account, chainId } = useWeb3React();\r\n  const {\r\n    epnsReadProvider,\r\n    epnsWriteProvider,\r\n    epnsCommReadProvider,\r\n  } = useSelector((state) => state.contracts);\r\n  const {\r\n    aliasDetails: { aliasEthAddr },\r\n  } = useSelector((state) => state.admin);\r\n\r\n  const { delegatees, channelDetails } = useSelector((state) => state.admin);\r\n\r\n  const CORE_CHAIN_ID = envConfig.coreContractChain;\r\n  const onCoreNetwork = CORE_CHAIN_ID === chainId;\r\n\r\n  const [adminStatusLoaded, setAdminStatusLoaded] = React.useState(true);\r\n  const [channelAdmin, setChannelAdmin] = React.useState(false);\r\n\r\n  // toast related section\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n  // toast related section\r\n\r\n  /**\r\n\r\n   * When we instantiate the contract instances, fetch basic information about the user\r\n   * Corresponding channel owned.\r\n   */\r\n  // React.useEffect(async () => {\r\n  //   if (!epnsReadProvider || !epnsCommReadProvider || !epnsWriteProvider || channelDetails !== 'unfetched')\r\n  //     return;\r\n  //   // Reset when account refreshes\r\n  //   // dispatch(setUserChannelDetails('unfetched'));\r\n  //   setAdminStatusLoaded(false);\r\n\r\n  //   // EPNS Read Provider Set\r\n  //   if (epnsReadProvider != null && epnsCommReadProvider != null) {\r\n  //     if (!onCoreNetwork) await checkUserForEthAlias();\r\n  //     else await checkUserForAlias();\r\n\r\n  //     await checkUserForChannelOwnership();\r\n\r\n  //     if (delegatees === null)\r\n  //       fetchDelegators();\r\n  //   }\r\n  // }, [epnsReadProvider, epnsCommReadProvider, epnsWriteProvider, aliasEthAddr]);\r\n\r\n  // // fetch all the channels who have delegated to this account\r\n  // const fetchDelegators = () => {\r\n  //   const channelAddressInCaip = convertAddressToAddrCaip(account, chainId);\r\n  //   getReq(`/channels/_getUserDelegations/${channelAddressInCaip}`)\r\n  //     .then(async ({ data: delegators }) => {\r\n  //       // if there are actual delegators\r\n  //       // fetch basic information abouot the channels and store it to state\r\n  //       if (delegators && delegators.channelOwners) {\r\n  //         const channelInformationPromise = [\r\n  //           ...new Set([account, ...delegators.channelOwners]), //make the accounts unique\r\n  //         ].map((channelAddress) => {\r\n  //           return ChannelsDataStore.instance\r\n  //             .getChannelJsonAsync(channelAddress)\r\n  //             .then((res) => ({ ...res, address: channelAddress }))\r\n  //             .catch(() => false);\r\n  //         });\r\n  //         const channelInformation = await Promise.all(\r\n  //           channelInformationPromise\r\n  //         );\r\n  //         dispatch(setDelegatees(channelInformation.filter(Boolean)));\r\n  //         // fetch the json information about this delegatee channel and add to global state\r\n  //       } else {\r\n  //         dispatch(setDelegatees([]));\r\n  //       }\r\n  //     })\r\n  //     .catch(async (err) => {\r\n  //       console.log({ err });\r\n  //     });\r\n  // };\r\n\r\n  // // Check if a user is a channel or not\r\n  // const checkUserForChannelOwnership = async () => {\r\n  //   if (channelDetails != 'unfetched') return;\r\n  //   if (!onCoreNetwork && aliasEthAddr == null) {\r\n  //     setChannelAdmin(false);\r\n  //     setAdminStatusLoaded(true);\r\n  //     return;\r\n  //   }\r\n  //   // Check if account is admin or not and handle accordingly\r\n  //   const ownerAccount = !onCoreNetwork ? aliasEthAddr : account;\r\n  //   EPNSCoreHelper.getChannelJsonFromUserAddress(ownerAccount, epnsReadProvider)\r\n  //     .then(async (response) => {\r\n  //       // if channel admin, then get if the channel is verified or not, then also fetch more details about the channel\r\n  //       const verificationStatus = await epnsWriteProvider.getChannelVerfication(\r\n  //         ownerAccount\r\n  //       );\r\n  //       const channelJson = await epnsWriteProvider.channels(ownerAccount);\r\n  //       const channelSubscribers = await ChannelsDataStore.instance.getChannelSubscribers(\r\n  //         account\r\n  //       );\r\n  //       dispatch(\r\n  //         setUserChannelDetails({\r\n  //           ...response,\r\n  //           ...channelJson,\r\n  //           subscribers: channelSubscribers,\r\n  //         })\r\n  //       );\r\n  //       dispatch(setCanVerify(Boolean(verificationStatus)));\r\n  //       setAdminStatusLoaded(true);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(\r\n  //         \"There was an error [checkUserForChannelOwnership]:\",\r\n  //         err.message\r\n  //       );\r\n  //       setAdminStatusLoaded(true);\r\n  //     })\r\n  //     .finally(() => {\r\n  //       setAdminStatusLoaded(true);\r\n  //     });\r\n  // };\r\n\r\n  // const checkUserForEthAlias = async () => {\r\n  //   const userAddressInCaip = convertAddressToAddrCaip(account, chainId);\r\n  //   await getReq(`/v1/alias/${userAddressInCaip}/channel`).then(({ data }) => {\r\n  //     if (data) {\r\n  //       dispatch(setAliasEthAddress(data.channel));\r\n  //       dispatch(setAliasVerified(data.is_alias_verified));\r\n  //       dispatch(setProcessingState(0));\r\n  //     }\r\n  //     return data;\r\n  //   });\r\n  // };\r\n\r\n  // const checkUserForAlias = async () => {\r\n  //   let { aliasAddress, isAliasVerified } = await ChannelsDataStore.instance.getChannelDetailsFromAddress(account);\r\n  //   if (aliasAddress == \"NULL\") aliasAddress = null;\r\n\r\n  //   if (aliasAddress)\r\n  //     dispatch(setAliasAddress(aliasAddress));\r\n  //   dispatch(setAliasVerified(isAliasVerified));\r\n  //   dispatch(setProcessingState(0));\r\n  // }\r\n\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Interface>\r\n        {adminStatusLoaded ? <ChannelOwnerDashboard /> : <ChannelLoading />}\r\n        {toast && (\r\n          <NotificationToast notification={toast} clearToast={clearToast} />\r\n        )}\r\n      </Interface>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css style\r\nconst ChannelLoadingMessage = styled.div`\r\n  width: 100%;\r\n  /* background-color: red; */\r\n  padding: 40px;\r\n  font-size: 1.5em;\r\n  font-weight: 300;\r\n  text-align: center;\r\n  color: ${(props) => props.theme.color};\r\n`;\r\n\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Interface = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n\r\n  margin-bottom: 15px;\r\n  overflow: hidden;\r\n`;\r\n\r\n// Export Default\r\nexport default ChannelDashboardPage;\r\n","import React from 'react'\r\n\r\nexport const CloseIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10.243\" height=\"10.243\" viewBox=\"0 0 16.243 16.243\">\r\n        <g id=\"Group_4723\" data-name=\"Group 4723\" transform=\"translate(2.121 2.121)\">\r\n            <g id=\"Group_4716\" data-name=\"Group 4716\" transform=\"translate(0)\">\r\n            <line id=\"Line_1079\" data-name=\"Line 1079\" x2=\"16.97\" transform=\"translate(0 12) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\r\n            <line id=\"Line_1080\" data-name=\"Line 1080\" y2=\"16.97\" transform=\"translate(0 0) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\r\n            </g>\r\n        </g>\r\n    </svg>\r\n);\r\n","import React from \"react\";\r\nimport styled, { ThemeProvider, useTheme } from \"styled-components\";\r\nimport { Item, Span, H2 } from \"../primaries/SharedStyling\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { NotificationItem } from \"@epnsproject/sdk-uiweb\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst blockchainName = {\r\n  1: \"ETH_MAINNET\",\r\n  137: \"POLYGON_MAINNET\",\r\n  42: \"ETH_TEST_KOVAN\",\r\n  80001: \"POLYGON_TEST_MUMBAI\",\r\n};\r\n\r\nexport default function PreviewNotif({ details }) {\r\n  const { delegatees, channelDetails } = useSelector((state) => state.admin);\r\n  const { chainId } = useWeb3React();\r\n\r\n  let channelDetail;\r\n  channelDetail = delegatees.filter(\r\n    (delegateeInfo) => delegateeInfo.address == details.channelAddress\r\n  )[0];\r\n  if (!channelDetail) channelDetail = channelDetails;\r\n\r\n  const themes = useTheme();\r\n  const NotifItem = ({ test }) => {\r\n    return (\r\n      channelDetail && (\r\n        <NotificationItem\r\n          notificationTitle={test?.asub}\r\n          notificationBody={test?.amsg}\r\n          cta={test?.acta}\r\n          app={channelDetail.name}\r\n          icon={channelDetail.icon}\r\n          image={test?.aimg}\r\n          chainName={blockchainName[chainId]}\r\n          theme={themes.scheme}\r\n        />\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <PreviewSpace>\r\n        <Item align=\"flex-start\" margin=\"30px 0px 10px 0px\">\r\n          <Span\r\n            weight=\"700\"\r\n            size=\"12px\"\r\n            spacing=\"0.2em\"\r\n            color=\"#575D73\"\r\n            // style={{ color: themes.color }}\r\n          >\r\n            PREVIEW NOTIFICATION\r\n          </Span>\r\n        </Item>\r\n        <NotifItem test={details} />\r\n      </PreviewSpace>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nconst Overlay = styled.div`\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: ${(props) => props.theme.scrollBg};\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 1000;\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nconst PreviewSpace = styled.div`\r\n  margin: 20px 20px;\r\n  width: 100%;\r\n  background: ${(props) => props.theme.backgroundBG};\r\n`;\r\n","import React,{useEffect} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport { FiLink } from \"react-icons/fi\";\r\nimport {Oval} from \"react-loader-spinner\";\r\nimport styled , {useTheme} from \"styled-components\";\r\nimport { BsFillImageFill } from \"react-icons/bs\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { postReq } from \"api\";\r\nimport {\r\nSection,\r\nContent,\r\nItem,\r\nItemH,\r\nH2,\r\nH3,\r\nSpan,\r\nButton,\r\nFormSubmision,\r\nInput,\r\nTextField,\r\n} from \"primaries/SharedStyling\";\r\n\r\nimport \"react-dropdown/style.css\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { CloseIcon } from \"assets/icons\";\r\nimport PreviewNotif from \"./PreviewNotif\";\r\nimport CryptoHelper from \"helpers/CryptoHelper\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport * as EpnsAPI from \"@epnsproject/sdk-restapi\";\r\nimport { IPFSupload } from \"helpers/IpfsHelper\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\n\r\nconst ethers = require(\"ethers\");\r\n\r\nconst CORE_CHAIN_ID = envConfig.coreContractChain;\r\n\r\nexport const IOSSwitch = styled(Switch).attrs(() => ({\r\n  classes: {\r\n    root: \"root\",\r\n    switchBase: \"switchBase\",\r\n    thumb: \"thumb\",\r\n    track: \"track\",\r\n    checked: \"checked\",\r\n    focusVisible: \"focusVisible\"\r\n  },\r\n  disableRipple: true,\r\n  focusVisibleClassName: \"focusVisible\"\r\n}))`\r\n  &.root {\r\n    width: 42px;\r\n    height: 20px;\r\n    padding: 0px;\r\n  }\r\n\r\n  .switchBase {\r\n    padding: 0px;\r\n    margin: 4px;\r\n    transition-duration: 300ms;\r\n\r\n    &.checked {\r\n      transform: translateX(22px);\r\n      color: white;\r\n      & + .track {\r\n        background-color: #cf1c84;\r\n        opacity: 1;\r\n        border: none;\r\n      }\r\n    }\r\n\r\n    &.focusVisible &.thumb {\r\n      color: #52d869;\r\n    }\r\n  }\r\n\r\n  .thumb {\r\n    box-sizing: border-box;\r\n    width: 12px;\r\n    height: 12px;\r\n  }\r\n\r\n  & .track {\r\n    border-radius: 13px;\r\n    background-color: #a0a3b1;\r\n    opacity: 1;\r\n    transition: background-color 300ms cubic-bezier(0.4, 0, 0.2, 1),\r\n      border 300ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  }\r\n\r\n  .checked {\r\n  }\r\n  .focusVisible {\r\n  }\r\n`;\r\n\r\n\r\n// Set Notification Form Type | 0 is reserved for protocol storage\r\nconst NFTypes = [\r\n{ value: \"1\", label: \"Broadcast (IPFS Payload)\" },\r\n// { value: \"2\", label: \"Old Secret (IPFS Payload)\" },\r\n{ value: \"3\", label: \"Targeted (IPFS Payload)\" },\r\n{ value: \"4\", label: \"Subset (IPFS Payload)\" },\r\n//   { value: \"5\", label: \"Secret (IPFS Payload)\" },\r\n// { value: \"6\", label: \"Offchain (Push)\" },\r\n];\r\nconst LIMITER_KEYS = [\"Enter\", \",\"];\r\n\r\n// Create Header\r\nfunction SendNotifications() {\r\nconst theme = useTheme();\r\nconst { account, library, chainId } = useWeb3React();\r\nconst { epnsCommWriteProvider, epnsCommReadProvider } = useSelector(\r\n  (state: any) => state.contracts\r\n);\r\nconst { channelDetails, delegatees } = useSelector(\r\n  (state: any) => state.admin\r\n);\r\nconst { CHANNNEL_DEACTIVATED_STATE } = useSelector(\r\n  (state: any) => state.channels\r\n);\r\nconst { canSend } = useSelector(\r\n    (state:any) => {\r\n    return state.canSend\r\n    }\r\n);\r\nconst onCoreNetwork = CORE_CHAIN_ID === chainId;\r\n  \r\nconst [nfProcessing, setNFProcessing] = React.useState(0);\r\nconst [channelAddress, setChannelAddress] = React.useState(\"\");\r\nconst [nfRecipient, setNFRecipient] = React.useState(\"\");\r\nconst [multipleRecipients, setMultipleRecipients] = React.useState([]);\r\nconst [tempRecipeint, setTempRecipient] = React.useState(\"\"); // to temporarily hold the address of one recipient who would be entered into the recipeints array above.\r\nconst [nfType, setNFType] = React.useState(\"1\");\r\nconst [nfSub, setNFSub] = React.useState(\"\");\r\nconst [nfSubEnabled, setNFSubEnabled] = React.useState(false);\r\nconst [nfMsg, setNFMsg] = React.useState(\"\");\r\nconst [nfCTA, setNFCTA] = React.useState(\"\");\r\nconst [nfCTAEnabled, setNFCTAEnabled] = React.useState(false);\r\nconst [nfMedia, setNFMedia] = React.useState(\"\");\r\nconst [nfMediaEnabled, setNFMediaEnabled] = React.useState(false);\r\nconst [nfInfo, setNFInfo] = React.useState(\"\");\r\nconst [delegateeOptions, setDelegateeOptions] = React.useState([]);\r\n\r\nuseEffect(() => {\r\n    if (canSend !== 1) {\r\n        const url = window.location.origin;\r\n        window.location.replace(`${url}/#/channels`);\r\n    }\r\n});\r\n\r\nconst isChannelDeactivated = channelDetails\r\n    ? channelDetails.channelState === CHANNNEL_DEACTIVATED_STATE\r\n      : false;\r\n  // console.log(delegatees);\r\n  let cannotDisplayDelegatees;\r\n  if (onCoreNetwork && delegatees)\r\n      cannotDisplayDelegatees = (delegatees.length === 1 && delegatees[0].address === account) ||\r\n          !delegatees.length; //do not display delegatees dropdown if you are the only delegatee to yourself or there are no delegatess\r\n  else if(!onCoreNetwork && delegatees)\r\n      cannotDisplayDelegatees = (delegatees.length === 1 && delegatees[0].alias_address === account) ||\r\n          !delegatees.length;\r\n  \r\n// construct a list of channel delegators\r\nReact.useEffect(() => {\r\n    if (!account) return;\r\n    if (!delegatees || !delegatees.length) {\r\n        setChannelAddress(account);\r\n    } else {\r\n        setDelegateeOptions(\r\n            delegatees.map((oneDelegatee: any) => ({\r\n                value: oneDelegatee.address,\r\n                label: (\r\n                    <CustomDropdownItem>\r\n                        <img src={oneDelegatee.icon} alt=\"\" />\r\n                        <div>{oneDelegatee.name}</div>\r\n                    </CustomDropdownItem>\r\n                ),\r\n            }))\r\n        );\r\n        // default the channel address to the first one on the list which should be that of the user if they have a channel\r\n        setChannelAddress(delegatees[0].address);\r\n    }\r\n}, [delegatees, account]);\r\n  \r\n// const isAllFieldsFilled = () => {\r\n//     if (nfRecipient == \"\" ||\r\n//         nfType == \"\" ||\r\n//         nfMsg == \"\" ||\r\n//         (nfSubEnabled && nfSub == \"\") ||\r\n//         (nfCTAEnabled && nfCTA == \"\") ||\r\n//         (nfMediaEnabled && nfMedia == \"\")\r\n//     ) {\r\n//         return false;\r\n//     }\r\n//     return true;\r\n// };\r\n\r\n// const previewNotif = (e: any) => {\r\n//     e.preventDefault();\r\n//     if(isAllFieldsFilled())\r\n//         setPreviewNotifModalOpen(true)\r\n//     else {\r\n//         setNFInfo(\"Please fill all fields to preview\");\r\n//         setTimeout(() => {\r\n//             setNFInfo('');\r\n//         }, 2000);\r\n//     }\r\n// }\r\n\r\n// on change for the subset type notifications input\r\nconst handleSubsetInputChange = (e: any) => {\r\n  // if the user enters in a comma or an enter then separate the addresses\r\n  if (LIMITER_KEYS.includes(e.key)) {\r\n      e.preventDefault();\r\n      // if they enter a limiter key, then add the temp value to the recipeints list\r\n      // then clear the value of the temp text\r\n      setMultipleRecipients((oldRecipients) =>\r\n          // use this combination to remove duplicates\r\n          Array.from(new Set([...oldRecipients, tempRecipeint]))\r\n      );\r\n      const listRecipients = Array.from(\r\n          new Set([...multipleRecipients, tempRecipeint])\r\n      );\r\n      setNFRecipient(listRecipients.join());\r\n      setTempRecipient(\"\");\r\n  }\r\n};\r\n// when to remove a subscriber\r\nconst removeRecipient = (recipientAddress: any) => {\r\n  const filteredRecipients = multipleRecipients.filter(\r\n      (rec) => rec !== recipientAddress\r\n  );\r\n  setNFRecipient(filteredRecipients.join());\r\n  setMultipleRecipients(filteredRecipients);\r\n};\r\n\r\nReact.useEffect(() => {\r\n  const broadcastIds = [\"1\"]; //id's of notifications which qualify as broadcast\r\n  setMultipleRecipients([]); //reset array when type changes/\r\n  if (broadcastIds.includes(nfType)) {\r\n      // This is broadcast, nfRecipient will be the same\r\n      setNFRecipient(account);\r\n  } else {\r\n      setNFRecipient(\"\");\r\n  }\r\n}, [nfType]);\r\n\r\n// validate the body being sent, return true if no errors\r\nconst bodyValidated = (notificationToast) => {\r\n  let validated = true;\r\n  // if we are sending for a subset and there\r\n  if (nfType === \"4\" && multipleRecipients.length < 2) {\r\n      toast.update(notificationToast, {\r\n          render: \"Please enter at least two recipients in order to use subset notifications type\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n      });\r\n      validated = false;\r\n  }\r\n  return validated;\r\n};\r\n\r\nconst handleSendMessage = async (e) => {\r\n  // Check everything in order\r\n  e.preventDefault();\r\n\r\n  // Toastify\r\n  let notificationToast = toast.dark(\r\n      <LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />,\r\n      {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n      }\r\n  );\r\n\r\n  // do some validation\r\n  if (!bodyValidated(notificationToast)) return;\r\n\r\n  // Set to processing\r\n  setNFProcessing(1);\r\n\r\n  // Form signer and contract connection\r\n//   const communicatorContract = epnsCommWriteProvider;\r\n  // define the epns comms contracts\r\n\r\n  // For payload basic\r\n  let nsub = nfSub;\r\n  let nmsg = nfMsg;\r\n  let secretEncrypted;\r\n\r\n  let asub = nfSub;\r\n  let amsg = nfMsg;\r\n  let acta = nfCTA;\r\n  let aimg = nfMedia;\r\n\r\n  // Decide type and storage\r\n//   switch (nfType) {\r\n//       // Broadcast Notification\r\n//       case \"1\":\r\n//           break;\r\n\r\n//       // Targeted Notification\r\n//       case \"3\":\r\n//           break;\r\n\r\n//       // Old Secret Notification\r\n//     //   case \"2\":\r\n//     //       // Create secret\r\n//     //       let secret = CryptoHelper.makeid(14);\r\n\r\n//     //       // Encrypt payload and change sub and nfMsg in notification\r\n//     //       nsub = \"You have a secret message!\";\r\n//     //       nmsg = \"Open the app to see your secret message!\";\r\n\r\n//     //       // get public key from EPNSCoreHelper\r\n//     //       let k = await EPNSCoreHelper.getPublicKey(\r\n//     //           nfRecipient,\r\n//     //           epnsCommWriteProvider\r\n//     //       );\r\n//     //       if (k == null) {\r\n//     //           // No public key, can't encrypt\r\n//     //           setNFInfo(\r\n//     //               \"Public Key Registration is required for encryption!\"\r\n//     //           );\r\n//     //           setNFProcessing(2);\r\n\r\n//     //           toast.update(notificationToast, {\r\n//     //               render: \"Unable to encrypt for this user, no public key registered\",\r\n//     //               type: toast.TYPE.ERROR,\r\n//     //               autoClose: 5000,\r\n//     //           });\r\n\r\n//     //           return;\r\n//     //       }\r\n\r\n//     //       let publickey = k.toString().substring(2);\r\n//     //       //console.log(\"This is public Key: \" + publickey);\r\n\r\n//     //       secretEncrypted = await CryptoHelper.encryptWithECIES(\r\n//     //           secret,\r\n//     //           publickey\r\n//     //       );\r\n//     //       asub = CryptoHelper.encryptWithAES(nfSub, secret);\r\n//     //       amsg = CryptoHelper.encryptWithAES(nfMsg, secret);\r\n//     //       acta = CryptoHelper.encryptWithAES(nfCTA, secret);\r\n//     //       aimg = CryptoHelper.encryptWithAES(nfMedia, secret);\r\n//     //       break;\r\n\r\n//       // Targeted Notification\r\n//       case \"4\":\r\n//           break;\r\n            \r\n//       // Secret Notification\r\n//       case \"5\":\r\n//             // Create secret\r\n//           let secret = CryptoHelper.makeid(8);\r\n\r\n//           // Encrypt payload and change sub and nfMsg in notification\r\n//           nsub = \"You have a secret message!\";\r\n//           nmsg = \"Click on Decrypt button to see your secret message!\";\r\n\r\n//           // get public key from Backend API\r\n//           let encryptionKey = await postReq('/encryption_key/get_encryption_key', {\r\n//               address: nfRecipient,\r\n//               op: \"read\"\r\n//           }).then(res => {\r\n//               return res.data?.encryption_key;\r\n//           });\r\n\r\n//           if (encryptionKey == null) {\r\n//               // No public key, can't encrypt\r\n//               setNFInfo(\r\n//                   \"Public Key Registration is required for encryption!\"\r\n//               );\r\n//               setNFProcessing(2);\r\n\r\n//               toast.update(notificationToast, {\r\n//                   render: \"Unable to encrypt for this user, no public key registered\",\r\n//                   type: toast.TYPE.ERROR,\r\n//                   autoClose: 5000,\r\n//               });\r\n\r\n//               return;\r\n//           }\r\n\r\n//           let publickey = encryptionKey;\r\n\r\n//           secretEncrypted = await CryptoHelper.encryptWithRPCEncryptionPublicKey(\r\n//               secret,\r\n//               publickey\r\n//           );\r\n//         //   console.log(secretEncrypted);\r\n//           if(nfSubEnabled) asub = CryptoHelper.encryptWithAES(nfSub, secret);\r\n//           amsg = CryptoHelper.encryptWithAES(nfMsg, secret);\r\n//           if(nfCTAEnabled) acta = CryptoHelper.encryptWithAES(nfCTA, secret);\r\n//           if(nfMediaEnabled) aimg = CryptoHelper.encryptWithAES(nfMedia, secret);\r\n//           break;\r\n\r\n//       // Offchain Notification\r\n//       case \"6\":\r\n//           console.log(\r\n//               nsub,\r\n//               nmsg,\r\n//               nfType,\r\n//               asub,\r\n//               amsg,\r\n//               acta,\r\n//               aimg,\r\n//               \"case 5\"\r\n//           );\r\n\r\n//           break;\r\n      \r\n//       default:\r\n//           break;\r\n//   }\r\n\r\n  // Handle Storage\r\n  let storagePointer = \"\";\r\n\r\n  // IPFS PAYLOAD --> 1, 2, 3\r\n  if (\r\n      nfType === \"1\" ||\r\n      nfType === \"2\" ||\r\n      nfType === \"3\" ||\r\n      nfType === \"4\" ||\r\n      nfType === \"5\"\r\n  ) {\r\n      // Checks for optional fields\r\n      if (nfSubEnabled && isEmpty(nfSub)) {\r\n          setNFInfo(\"Enter Subject or Disable it\");\r\n          setNFProcessing(2);\r\n\r\n          toast.update(notificationToast, {\r\n              render: \"Incorrect Payload\",\r\n              type: toast.TYPE.ERROR,\r\n              autoClose: 5000,\r\n          });\r\n\r\n          return;\r\n      }\r\n\r\n      if (nfMediaEnabled && isEmpty(nfMedia)) {\r\n          setNFInfo(\"Enter Media URL or Disable it\");\r\n          setNFProcessing(2);\r\n\r\n          toast.update(notificationToast, {\r\n              render: \"Incorrect Payload\",\r\n              type: toast.TYPE.ERROR,\r\n              autoClose: 5000,\r\n          });\r\n          return;\r\n      }\r\n\r\n      if (nfCTAEnabled && isEmpty(nfCTA)) {\r\n          setNFInfo(\"Enter Call to Action Link or Disable it\");\r\n          setNFProcessing(2);\r\n\r\n          toast.update(notificationToast, {\r\n              render: \"Incorrect Payload\",\r\n              type: toast.TYPE.ERROR,\r\n              autoClose: 5000,\r\n          });\r\n          return;\r\n      }\r\n\r\n      if (isEmpty(nfMsg)) {\r\n          setNFInfo(\"Message cannot be empty\");\r\n          setNFProcessing(2);\r\n\r\n          toast.update(notificationToast, {\r\n              render: \"Incorrect Payload\",\r\n              type: toast.TYPE.ERROR,\r\n              autoClose: 5000,\r\n          });\r\n          return;\r\n      }\r\n\r\n    //   const jsonPayload = {\r\n    //       notification: {\r\n    //           title: nsub,\r\n    //           body: nmsg,\r\n    //       },\r\n    //       data: {\r\n    //           type: nfType,\r\n    //           secret: secretEncrypted,\r\n    //           asub: asub,\r\n    //           amsg: amsg,\r\n    //           acta: acta,\r\n    //           aimg: aimg,\r\n    //       },\r\n    //   };\r\n\r\n    //   // if we are sending a subset type, then include recipients\r\n    //   if (nfType === \"4\") {\r\n    //       jsonPayload[\"recipients\"] = [...multipleRecipients];\r\n    //   }\r\n\r\n    //   const input = JSON.stringify(jsonPayload);\r\n    //   console.log(input);\r\n\r\n    //   console.log(\"Uploding to IPFS...\");\r\n    //   toast.update(notificationToast, {\r\n    //       render: \"Preparing Payload for upload\",\r\n    //   });\r\n\r\n    //   const ipfs = require(\"nano-ipfs-store\").at(\r\n    //       \"https://ipfs.infura.io:5001\"\r\n    //   );\r\n\r\n    //   try {\r\n    //     //   storagePointer = await ipfs.add(input);\r\n    //       storagePointer = await IPFSupload(input);\r\n    //   } catch (e) {\r\n    //       setNFProcessing(2);\r\n    //       setNFInfo(\"IPFS Upload Error\");\r\n    //   }\r\n\r\n    //   console.log(\"IPFS cid: %o\", storagePointer);\r\n  }\r\n  if (\r\n      nfType === \"1\" ||\r\n      nfType === \"2\" ||\r\n      nfType === \"3\" ||\r\n      nfType === \"4\" ||\r\n      nfType === \"5\"\r\n  ) {\r\n      // Prepare Identity and send notification\r\n    //   const identity = nfType + \"+\" + storagePointer;\r\n    //   const identityBytes = ethers.utils.toUtf8Bytes(identity);\r\n    //   console.log({\r\n    //       identityBytes,\r\n    //   });\r\n    //   const EPNS_DOMAIN = {\r\n    //       name: \"EPNS COMM V1\",\r\n    //       chainId: chainId,\r\n    //       verifyingContract: epnsCommReadProvider.address,\r\n    //   };\r\n\r\n    //   const type = {\r\n    //       Data: [\r\n    //           { name: \"acta\", type: \"string\" },\r\n    //           { name: \"aimg\", type: \"string\" },\r\n    //           { name: \"amsg\", type: \"string\" },\r\n    //           { name: \"asub\", type: \"string\" },\r\n    //           { name: \"type\", type: \"string\" },\r\n    //           { name: \"secret\", type: \"string\" },\r\n    //       ],\r\n    //   };\r\n\r\n    //   const payload = {\r\n    //       data: {\r\n    //           acta: acta,\r\n    //           aimg: aimg,\r\n    //           amsg: amsg,\r\n    //           asub: asub,\r\n    //           type: nfType,\r\n    //           secret: \"\",\r\n    //       },\r\n\r\n    //       notification: {\r\n    //           body: amsg,\r\n    //           title: asub,\r\n    //       },\r\n    //   };\r\n\r\n    //   if (nfType === \"5\" || nfType === \"2\") {\r\n    //       payload.notification = {\r\n    //           body: nmsg,\r\n    //           title: nsub\r\n    //       };\r\n    //       payload.data.secret = secretEncrypted;\r\n    //   }\r\n\r\n    //   const message = payload.data;\r\n    //   console.log(payload, \"payload\");\r\n    //   console.log(\"chainId\", chainId);\r\n    //   const signature = await library\r\n    //       .getSigner(account)\r\n    //       ._signTypedData(EPNS_DOMAIN, type, message);\r\n    //   console.log(\"case5 signature\", signature);\r\n      \r\n        try {\r\n          // apiResponse?.status === 204, if sent successfully!\r\n            \r\n            let notifRecipients: string | Array<string>;\r\n            if (nfType === \"4\") {\r\n                notifRecipients = multipleRecipients.map((recipient) => convertAddressToAddrCaip(recipient, chainId));\r\n            } else {\r\n                notifRecipients = convertAddressToAddrCaip(nfRecipient, chainId);\r\n            }\r\n\r\n            const channelAddressInCaip = convertAddressToAddrCaip(channelAddress, chainId);\r\n            \r\n            const _signer = await library.getSigner(account);\r\n            await EpnsAPI.payloads.sendNotification({\r\n                signer: _signer,\r\n                type: parseInt(nfType), // target\r\n                identityType: 2, // direct payload\r\n                notification: {\r\n                    title: asub,\r\n                    body: amsg\r\n                },\r\n                payload: {\r\n                    title: asub,\r\n                    body: amsg,\r\n                    cta: acta,\r\n                    img: aimg\r\n                },\r\n                recipients: notifRecipients, // recipient address\r\n                channel: channelAddressInCaip, // your channel address\r\n                env: envConfig['env']\r\n            });\r\n        //   console.log(nfRecipient);\r\n        //   postReq(\"/payloads/add_manual_payload\", {\r\n        //       signature,\r\n        //       op: \"write\",\r\n        //       chainId: chainId.toString(),\r\n        //       channel: channelAddress,\r\n        //       recipient: nfRecipient,\r\n        //       deployedContract: epnsCommReadProvider.address,\r\n        //       payload: payload,\r\n        //       type: nfType,\r\n        //   }).then(async (res) => {\r\n            toast.update(notificationToast, {\r\n                render: \"Notification Sent\",\r\n                type: toast.TYPE.INFO,\r\n                autoClose: 5000,\r\n            });\r\n\r\n            setNFProcessing(2);\r\n            setNFType(\"1\");\r\n            setNFInfo(\"Offchain Notification Sent\");\r\n\r\n            toast.update(notificationToast, {\r\n                render: \"Offchain Notification Sent\",\r\n                type: toast.TYPE.SUCCESS,\r\n                autoClose: 5000,\r\n            });\r\n        //       console.log(res);\r\n        //   });\r\n      } catch (err) {\r\n          setNFInfo(\"Offchain Notification Failed, please try again\");\r\n\r\n          toast.update(notificationToast, {\r\n              render: \"Offchain Notification Failed: \" + err,\r\n              type: toast.TYPE.ERROR,\r\n              autoClose: 5000,\r\n          });\r\n          setNFProcessing(0);\r\n          console.log(err);\r\n      }\r\n\r\n      // var anotherSendTxPromise;\r\n\r\n      // anotherSendTxPromise = communicatorContract.sendNotification(\r\n      //   channelAddress,\r\n      //   nfRecipient,\r\n      //   identityBytes\r\n      // );\r\n\r\n      // console.log(\"Sending Transaction... \");\r\n      // toast.update(notificationToast, {\r\n      //   render: \"Sending Notification...\",\r\n      // });\r\n\r\n      // anotherSendTxPromise\r\n      //   .then(async (tx) => {\r\n      //     console.log(tx);\r\n      //     console.log(\"Transaction Sent!\");\r\n\r\n      //     toast.update(notificationToast, {\r\n      //       render: \"Notification Sent\",\r\n      //       type: toast.TYPE.INFO,\r\n      //       autoClose: 5000,\r\n      //     });\r\n\r\n      //     await tx.wait(1);\r\n      //     console.log(\"Transaction Mined!\");\r\n\r\n      //     setNFProcessing(2);\r\n      //     setNFType(\"\");\r\n      //     setNFInfo(\"Notification Sent\");\r\n\r\n      //     toast.update(notificationToast, {\r\n      //       render: \"Transaction Mined / Notification Sent\",\r\n      //       type: toast.TYPE.SUCCESS,\r\n      //       autoClose: 5000,\r\n      //     });\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     console.log(\"!!!Error handleSendMessage() --> %o\", err);\r\n      //     setNFInfo(\"Transaction Failed, please try again\");\r\n\r\n      //     toast.update(notificationToast, {\r\n      //       render: \"Transacion Failed: \" + err,\r\n      //       type: toast.TYPE.ERROR,\r\n      //       autoClose: 5000,\r\n      //     });\r\n      //     setNFProcessing(0);\r\n      //   });\r\n  }\r\n//   if (nfType === \"6\") {\r\n//       // const jsonPayload = {\r\n//       //   notification: {\r\n//       //     title: nsub,\r\n//       //     body: nmsg,\r\n//       //   },\r\n//       //   data: {\r\n//       //     type: nfType,\r\n//       //     secret: secretEncrypted,\r\n//       //     asub: asub,\r\n//       //     amsg: amsg,\r\n//       //     acta: acta,\r\n//       //     aimg: aimg,\r\n//       //   },\r\n//       // };\r\n\r\n//       const EPNS_DOMAIN = {\r\n//           name: \"EPNS COMM V1\",\r\n//           chainId: chainId,\r\n//           verifyingContract: epnsCommReadProvider.address,\r\n//       };\r\n\r\n//       const type = {\r\n//           Data: [\r\n//               { name: \"acta\", type: \"string\" },\r\n//               { name: \"aimg\", type: \"string\" },\r\n//               { name: \"amsg\", type: \"string\" },\r\n//               { name: \"asub\", type: \"string\" },\r\n//               { name: \"type\", type: \"string\" },\r\n//               { name: \"secret\", type: \"string\" },\r\n//           ],\r\n//       };\r\n\r\n//       const payload = {\r\n//           data: {\r\n//               acta: acta,\r\n//               aimg: aimg,\r\n//               amsg: amsg,\r\n//               asub: asub,\r\n//               type: nfType,\r\n//               secret: \"\",\r\n//           },\r\n\r\n//           notification: {\r\n//               body: amsg,\r\n//               title: asub,\r\n//           },\r\n//       };\r\n\r\n//       const message = payload.data;\r\n//       console.log(payload, \"payload\");\r\n//       console.log(\"chainId\", chainId);\r\n//       const signature = await library\r\n//           .getSigner(account)\r\n//           ._signTypedData(EPNS_DOMAIN, type, message);\r\n//       console.log(\"case5 signature\", signature);\r\n//       try {\r\n//           postReq(\"/payloads/add_manual_payload\", {\r\n//               signature,\r\n//               op: \"write\",\r\n//               chainId: chainId.toString(),\r\n//               channel: channelAddress,\r\n//               recipient: nfRecipient,\r\n//               deployedContract: epnsCommReadProvider.address,\r\n//               payload: payload,\r\n//               type: \"3\",\r\n//           }).then(async (res) => {\r\n//               toast.update(notificationToast, {\r\n//                   render: \"Notification Sent\",\r\n//                   type: toast.TYPE.INFO,\r\n//                   autoClose: 5000,\r\n//               });\r\n\r\n//               setNFProcessing(2);\r\n//               setNFType(\"\");\r\n//               setNFInfo(\"Offchain Notification Sent\");\r\n\r\n//               toast.update(notificationToast, {\r\n//                   render: \"Offchain Notification Sent\",\r\n//                   type: toast.TYPE.SUCCESS,\r\n//                   autoClose: 5000,\r\n//               });\r\n//               console.log(res);\r\n//           });\r\n//       } catch (err) {\r\n//           if (err.code === 4001) {\r\n//             // EIP-1193 userRejectedRequest error\r\n//             toast.update(notificationToast, {\r\n//                 render: \"User denied message signature.\",\r\n//                 type: toast.TYPE.ERROR,\r\n//                 autoClose: 5000,\r\n//             });\r\n//           } else {\r\n//             setNFInfo(\"Offchain Notification Failed, please try again\");\r\n\r\n//             toast.update(notificationToast, {\r\n//                 render: \"Offchain Notification Failed: \" + err,\r\n//                 type: toast.TYPE.ERROR,\r\n//                 autoClose: 5000,\r\n//             });  \r\n//           }\r\n//           setNFProcessing(0);\r\n//           console.log(err); \r\n//       }\r\n//   }\r\n};\r\n\r\nconst isEmpty = (field: any) => {\r\n    if (field.trim().length == 0) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n// toast customize\r\nconst LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n        <Oval color={color} height={30} width={30} />\r\n        <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n);\r\n\r\nlet showPreview = nfSub !== '' || nfMsg !== '' || nfCTA !== '' || nfMedia !== ''\r\n\r\nreturn (\r\n    <FullBody>\r\n    <Body>\r\n      <Content padding=\"10px 20px 10px\">\r\n        <Item align=\"center\">\r\n          <H2 textTransform=\"none\">\r\n            <Span weight=\"400\" size=\"32px\" color={theme.color}>\r\n              Send Notification\r\n            </Span>\r\n          </H2>\r\n          <Span\r\n            color=\"#657795\"\r\n            weight=\"400\"\r\n            size=\"15px\"\r\n            textTransform=\"none\"\r\n            spacing=\"0.03em\"\r\n            margin=\"0px 0px\"\r\n            textAlign=\"center\"\r\n          >\r\n            EPNS makes it extremely easy to open and maintain a genuine\r\n            channel of communication with your users.\r\n          </Span>\r\n        </Item>\r\n      </Content>\r\n            {/* <Content padding=\"10px 30px 20px\">\r\n                <Item align=\"flex-start\">\r\n                    <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                        <Span weight=\"200\" style={{color : theme.color}}>Send </Span>\r\n                        <Span\r\n                            bg=\"#674c9f\"\r\n                            color=\"#fff\"\r\n                            weight=\"600\"\r\n                            padding=\"0px 8px\"\r\n                        >\r\n                            Notification\r\n                        </Span>\r\n                    </H2>\r\n                    {!isChannelDeactivated ? (\r\n                        <H3 style={{color : theme.color}}>\r\n                            EPNS supports three types of notifications (for\r\n                            now!). <b>Groups</b>, <b>Subsets</b>, and{\" \"}<b>Targeted</b>\r\n                        </H3>\r\n                    ) : (\r\n                        <H3>\r\n                            This channel has been deactivated, please\r\n                            reactivate it!.\r\n                        </H3>\r\n                    )}\r\n                </Item>\r\n            </Content> */}\r\n        </Body>\r\n\r\n        {!isChannelDeactivated && (\r\n            <Section>\r\n                <ModifiedContent>\r\n                    <Item align=\"stretch\">\r\n                        <FormSubmision\r\n                            flex=\"1\"\r\n                            direction=\"column\"\r\n                            margin=\"0px\"\r\n                            justify=\"center\"\r\n                            size=\"1.1rem\"\r\n                            onSubmit={handleSendMessage}\r\n                        >\r\n                            <Item\r\n                                margin=\"0px 20px\"\r\n                                flex=\"1\"\r\n                                self=\"stretch\"\r\n                                align=\"stretch\"\r\n                            >\r\n                                {console.log(cannotDisplayDelegatees)}\r\n                                {!cannotDisplayDelegatees && (\r\n                                    <Item\r\n                                        flex=\"1\"\r\n                                        justify=\"flex-start\"\r\n                                        align=\"stretch\"\r\n\r\n                                    >\r\n                                         <DropdownStyledParent>\r\n                                        <DropdownStyled\r\n                                            options={delegateeOptions}\r\n                                                onChange={(option: any) => {\r\n                                                    setChannelAddress(\r\n                                                        option.value\r\n                                                    );\r\n                                                    setNFRecipient(option.value)\r\n                                                }}\r\n                                                placeholder=\"Select a Channel\"\r\n                                                value={delegateeOptions[0]}\r\n                                                // value={delegateeOptions.find(\r\n                                                //     (d) =>\r\n                                                //         d.value ==\r\n                                                //         channelAddress\r\n                                                // )}\r\n                                        />\r\n                                    </DropdownStyledParent>\r\n                                        {/* <DropdownStyledParentWhite>\r\n                                            <DropdownHeader>\r\n                                                SEND NOTIFICATION ON BEHALF\r\n                                                OF\r\n                                            </DropdownHeader>\r\n                                            <DropdownStyledWhite\r\n                                                options={delegateeOptions}\r\n                                                onChange={(option: any) => {\r\n                                                    setChannelAddress(\r\n                                                        option.value\r\n                                                    );\r\n                                                }}\r\n                                                value={delegateeOptions.find(\r\n                                                    (d) =>\r\n                                                        d.value ==\r\n                                                        channelAddress\r\n                                                )}\r\n                                            />\r\n                                        </DropdownStyledParentWhite> */}\r\n                                    </Item>\r\n                                )}\r\n\r\n                                <Input\r\n                                    display=\"none\"\r\n                                    value={nfType}\r\n                                    onChange={(e) => {\r\n                                        setNFType(e.target.value);\r\n                                    }}\r\n                                />\r\n\r\n                                <Item\r\n                                    flex=\"1\"\r\n                                    justify=\"flex-start\"\r\n                                    align=\"stretch\"\r\n                                    margin=\"40px 0px 0px 0px\"\r\n                                  //   minWidth=\"280px\"\r\n                                >\r\n                                    <DropdownStyledParent>\r\n                                        <DropdownStyled\r\n                                            options={NFTypes}\r\n                                            onChange={(option) => {\r\n                                                setNFType(option.value);\r\n                                                console.log(option);\r\n                                            }}\r\n                                            value={nfType}\r\n                                        />\r\n                                    </DropdownStyledParent>\r\n                                </Item>\r\n                                <Input\r\n                                    display=\"none\"\r\n                                    value={nfType}\r\n                                    onChange={(e) => {\r\n                                        setNFType(e.target.value);\r\n                                    }}\r\n                                />\r\n\r\n                                {nfType && (\r\n                                    <ItemH\r\n                                        margin=\"40px 0px 15px 0px\"\r\n                                        flex=\"1\"\r\n                                        self=\"stretch\"\r\n                                        justify=\"space-between\"\r\n                                    >\r\n                                        <ItemH\r\n                                            margin=\"15px 0px\"\r\n                                            width=\"10em\"\r\n                                            bg=\"#F4F5FA\"\r\n                                            flex=\"none\"\r\n                                            padding=\"15px\"\r\n                                            radius=\"20px\"\r\n                                            display=\"flex\"\r\n                                            direction=\"row\"\r\n                                            justify=\"space-between\"\r\n                                            \r\n                                        >\r\n                                            <Span\r\n                                                weight=\"700\"\r\n                                                textTransform=\"none\"\r\n                                                size=\"14px\"\r\n                                                color=\"#1E1E1E\"\r\n                                                padding=\"5px 15px\"\r\n                                                radius=\"30px\"\r\n                                            >\r\n                                                Subject\r\n                                            </Span>\r\n                                            <IOSSwitch\r\n                                                checked={nfSubEnabled}\r\n                                                onChange={() =>\r\n                                                    setNFSubEnabled(\r\n                                                        !nfSubEnabled\r\n                                                    )\r\n                                                }\r\n                                            />\r\n                                        </ItemH>\r\n\r\n                                        <ItemH\r\n                                            margin=\"15px 0px\"\r\n                                            width=\"10em\"\r\n                                            bg=\"#F4F5FA\"\r\n                                            flex=\"none\"\r\n                                            padding=\"15px\"\r\n                                            radius=\"20px\"\r\n                                            display=\"flex\"\r\n                                            direction=\"row\"\r\n                                            justify=\"space-between\"\r\n                                        >\r\n                                            <Span\r\n                                               weight=\"700\"\r\n                                               textTransform=\"none\"\r\n                                               size=\"14px\"\r\n                                               color=\"#1E1E1E\"\r\n                                               padding=\"5px 15px\"\r\n                                               radius=\"30px\"\r\n                                            >\r\n                                                Media\r\n                                            </Span>\r\n                                            <IOSSwitch\r\n                                                checked={nfMediaEnabled}\r\n                                                onChange={() =>\r\n                                                    setNFMediaEnabled(\r\n                                                        !nfMediaEnabled\r\n                                                    )\r\n                                                }\r\n                                            />\r\n                                        </ItemH>\r\n\r\n                                        <ItemH\r\n                                            margin=\"15px 0px\"\r\n                                            width=\"10em\"\r\n                                            bg=\"#F4F5FA\"\r\n                                            flex=\"none\"\r\n                                            padding=\"15px\"\r\n                                            radius=\"20px\"\r\n                                            display=\"flex\"\r\n                                            direction=\"row\"\r\n                                            justify=\"space-between\"\r\n                                        >\r\n                                            <Span\r\n                                                  weight=\"700\"\r\n                                                  textTransform=\"none\"\r\n                                                  size=\"14px\"\r\n                                                  color=\"#1E1E1E\"\r\n                                                  padding=\"5px 15px\"\r\n                                                  radius=\"30px\"\r\n                                            >\r\n                                                 CTA Link\r\n                                            </Span>\r\n                                            <IOSSwitch\r\n                                                checked={nfCTAEnabled}\r\n                                                onChange={() =>\r\n                                                    setNFCTAEnabled(\r\n                                                        !nfCTAEnabled\r\n                                                    )\r\n                                                }\r\n                                            />\r\n                                        </ItemH>\r\n                                    </ItemH>\r\n                                )}\r\n                            </Item>\r\n\r\n                            {(nfType === \"2\" ||\r\n                                nfType === \"3\" ||\r\n                                nfType === \"5\") && (\r\n                                <Item\r\n                                    margin=\"15px 20px 15px 20px\"\r\n                                    flex=\"1\"\r\n                                    self=\"stretch\"\r\n                                    align=\"stretch\"\r\n                                >\r\n                                   <Label style={{color:theme.color}}>Recipient Wallet Address</Label>\r\n                                    <Input\r\n                                        required\r\n                                        maxlength=\"40\"\r\n                                        flex=\"1\"\r\n                                        padding=\"12px\"\r\n                                        weight=\"400\"\r\n                                        size=\"16px\"\r\n                                        bg=\"white\"\r\n                                        height=\"25px\"\r\n                                        margin=\"7px 0px 0px 0px\"\r\n                                        border=\"1px solid #BAC4D6\"\r\n                                        focusBorder=\"1px solid #657795\"\r\n                                        radius=\"12px\"\r\n                                        value={nfRecipient}\r\n                                        onChange={(e) => {\r\n                                            setNFRecipient(e.target.value);\r\n                                        }}\r\n                                    />\r\n                                </Item>\r\n                            )}\r\n\r\n                            {nfType === \"4\" && (\r\n                                <>\r\n                                    <MultiRecipientsContainer>\r\n                                        {multipleRecipients.map(\r\n                                            (oneRecipient) => (\r\n                                                <span key={oneRecipient}>\r\n                                                    {oneRecipient}\r\n                                                    <i\r\n                                                        onClick={() =>\r\n                                                            removeRecipient(\r\n                                                                oneRecipient\r\n                                                            )\r\n                                                        }\r\n                                                    >\r\n                                                        <CloseIcon />\r\n                                                    </i>\r\n                                                </span>\r\n                                            )\r\n                                        )}\r\n                                    </MultiRecipientsContainer>\r\n                                    <Item\r\n                                        margin=\"15px 20px 15px 20px\"\r\n                                        flex=\"1\"\r\n                                        self=\"stretch\"\r\n                                        align=\"stretch\"\r\n                                    >\r\n                                   <Label style={{color:theme.color}}>Enter Recipients Wallet Addresses</Label>\r\n                                        <Input\r\n                                            required={\r\n                                                multipleRecipients.length ===\r\n                                                0\r\n                                            }\r\n                                        maxlength=\"40\"\r\n                                        flex=\"1\"\r\n                                        padding=\"12px\"\r\n                                        weight=\"400\"\r\n                                        size=\"16px\"\r\n                                        bg=\"white\"\r\n                                        height=\"25px\"\r\n                                        margin=\"7px 0px 0px 0px\"\r\n                                        border=\"1px solid #BAC4D6\"\r\n                                        focusBorder=\"1px solid #657795\"\r\n                                        radius=\"12px\"\r\n                                            value={tempRecipeint}\r\n                                            onKeyPress={\r\n                                                handleSubsetInputChange\r\n                                            }\r\n                                            onChange={(e) => {\r\n                                                const text =\r\n                                                    e.target.value.trim();\r\n                                                console.log(text);\r\n                                                console.log(tempRecipeint);\r\n                                                // if (!LIMITER_KEYS.includes(text) && text.length > 0 ) {\r\n                                                setTempRecipient(\r\n                                                    e.target.value\r\n                                                );\r\n                                                // }\r\n                                            }}\r\n                                        />\r\n                                         <Span\r\n                                              size=\"13px\"\r\n                                              margin=\"7px 0px 0px 0px\"\r\n                                              color=\"#657795\"\r\n                                              >\r\n                                              Enter recipients wallet addresses separated by a comma or by pressing the enter key\r\n                                              </Span>\r\n                                    </Item>\r\n                                </>\r\n                            )}\r\n\r\n                            {nfType && nfSubEnabled && (\r\n                                <Item\r\n                                    margin=\"15px 20px 15px 20px\"\r\n                                    flex=\"1\"\r\n                                    self=\"stretch\"\r\n                                    align=\"stretch\"\r\n                                >\r\n                                   <Label style={{color:theme.color}}>Subject</Label>\r\n                                    <Input\r\n                                        required\r\n                                        maxlength=\"40\"\r\n                                        flex=\"1\"\r\n                                        padding=\"12px\"\r\n                                        weight=\"400\"\r\n                                        size=\"16px\"\r\n                                        bg=\"white\"\r\n                                        height=\"25px\"\r\n                                        margin=\"7px 0px 0px 0px\"\r\n                                        border=\"1px solid #BAC4D6\"\r\n                                        focusBorder=\"1px solid #657795\"\r\n                                        radius=\"12px\"\r\n                                        value={nfSub}\r\n                                        onChange={(e) => {\r\n                                            setNFSub(e.target.value);\r\n                                        }}\r\n                                    />\r\n                                </Item>\r\n                            )}\r\n\r\n                            {nfType && (\r\n                                <Item\r\n                                    margin=\"15px 20px 15px 20px\"\r\n                                    flex=\"1\"\r\n                                    self=\"stretch\"\r\n                                    align=\"stretch\"\r\n                                >\r\n                                  <Label style={{color:theme.color}}>Notification Message</Label>\r\n                                    <TextField\r\n                                        required\r\n                                        // placeholder=\"Your Channel's Short Description (250 Characters)\"\r\n                                        rows=\"4\"\r\n                                        maxlength=\"250\"\r\n                                        padding=\"12px\"\r\n                                        weight=\"400\"\r\n                                        margin=\"7px 0px 0px 0px\"\r\n                                        border=\"1px solid #BAC4D6\"\r\n                                        focusBorder=\"1px solid #657795\"\r\n                                        radius=\"12px\"\r\n                                        bg=\"#fff\"\r\n                                        overflow=\"auto\"\r\n                                        value={nfMsg}\r\n                                        onChange={(e) => {\r\n                                            setNFMsg(e.target.value);\r\n                                        }}\r\n                                        autocomplete=\"off\"\r\n                                    />\r\n                                </Item>\r\n                            )}\r\n\r\n                            {nfType && nfMediaEnabled && (\r\n                                    <Item\r\n                                    margin=\"15px 20px 15px 20px\"\r\n                                    flex=\"1\"\r\n                                    self=\"stretch\"\r\n                                    align=\"stretch\"\r\n                                    >\r\n                                  <Label style={{color:theme.color}}>Media URL</Label>\r\n                                        <Input\r\n                                              required\r\n                                              maxlength=\"40\"\r\n                                              flex=\"1\"\r\n                                              padding=\"12px\"\r\n                                              weight=\"400\"\r\n                                              size=\"16px\"\r\n                                              bg=\"white\"\r\n                                              height=\"25px\"\r\n                                              margin=\"7px 0px 0px 0px\"\r\n                                              border=\"1px solid #BAC4D6\"\r\n                                              focusBorder=\"1px solid #657795\"\r\n                                            radius=\"12px\"\r\n                                            value={nfMedia}\r\n                                            onChange={(e) => {\r\n                                                setNFMedia(e.target.value);\r\n                                            }}\r\n                                        />\r\n                                    </Item>\r\n                            )}\r\n\r\n                            {nfType && nfCTAEnabled && (\r\n                                    <Item\r\n                                    margin=\"15px 20px 15px 20px\"\r\n                                    flex=\"1\"\r\n                                    self=\"stretch\"\r\n                                    align=\"stretch\"\r\n                                    >\r\n                                  <Label style={{color:theme.color}}>CTA Link</Label>\r\n\r\n                                        <Input\r\n                                          required\r\n                                          maxlength=\"40\"\r\n                                          flex=\"1\"\r\n                                          padding=\"12px\"\r\n                                          weight=\"400\"\r\n                                          size=\"16px\"\r\n                                          bg=\"white\"\r\n                                          height=\"25px\"\r\n                                          margin=\"7px 0px 0px 0px\"\r\n                                          border=\"1px solid #BAC4D6\"\r\n                                          radius=\"12px\"\r\n                                          focusBorder=\"1px solid #657795\"\r\n                                            value={nfCTA}\r\n                                            onChange={(e) => {\r\n                                                setNFCTA(e.target.value);\r\n                                            }}\r\n                                        />\r\n                                    </Item>\r\n                            )}\r\n\r\n                            {nfInfo && nfProcessing != 1 && (\r\n                                <Item\r\n                                    color=\"#fff\"\r\n                                    bg=\"#e1087f\"\r\n                                    padding=\"10px 15px\"\r\n                                    margin=\"15px 0px\"\r\n                                >\r\n                                    <Span\r\n                                        color=\"#fff\"\r\n                                        textTransform=\"uppercase\"\r\n                                        spacing=\"0.1em\"\r\n                                        weight=\"400\"\r\n                                        size=\"1em\"\r\n                                    >\r\n                                        {nfInfo}\r\n                                    </Span>\r\n                                </Item>\r\n                            )}\r\n\r\n                              \r\n                                  {showPreview && (<PreviewNotif\r\n                                      details={{\r\n                                          channelAddress: channelAddress,\r\n                                          acta: nfCTA,\r\n                                          aimg: nfMedia,\r\n                                          amsg: nfMsg,\r\n                                          asub: nfSub,\r\n                                          type: nfType,\r\n                                      }}\r\n                                  />)}\r\n\r\n                            {nfType && (\r\n                                <Item width=\"15em\" self=\"stretch\" align=\"stretch\" margin=\"70px auto 0px auto\"\r\n                                >\r\n                                    <Button\r\n                                        bg=\"#CF1C84\"\r\n                                        color=\"#fff\"\r\n                                        flex=\"1\"\r\n                                        radius=\"15px\"\r\n                                        padding=\"20px 10px\"\r\n                                        disabled={\r\n                                            nfProcessing == 1 ? true : false\r\n                                        }\r\n                                    >\r\n                                        {nfProcessing == 1 && (\r\n                                            <Oval\r\n                                                color=\"#fff\"\r\n                                                height={24}\r\n                                                width={24}\r\n                                            />\r\n                                        )}\r\n                                        {nfProcessing != 1 && (\r\n                                            <Input\r\n                                                cursor=\"hand\"\r\n                                                textTransform=\"none\"\r\n                                                color=\"#fff\"\r\n                                                weight=\"600\"\r\n                                                size=\"16px\"\r\n                                                type=\"submit\"\r\n                                                value=\"Send Notification\"\r\n                                            />\r\n                                        )}\r\n                                    </Button>\r\n                                </Item>\r\n                            )}\r\n                        </FormSubmision>\r\n                    </Item>\r\n                </ModifiedContent>\r\n                \r\n            </Section>\r\n        )}\r\n    </FullBody>\r\n);\r\n}\r\n\r\n// css styles\r\nconst Toaster = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nalign-items: center;\r\nmargin: 0px 10px;\r\n`;\r\n\r\nconst FullBody = styled.div`\r\n// background:red;\r\n// width:50%;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\nmargin: 0px 10px;\r\n`;\r\n\r\nconst DropdownStyledParent = styled.div`\r\n.is-open {\r\n    // margin-bottom: 130px;\r\n}\r\n`;\r\n\r\nconst MultiRecipientsContainer = styled.div`\r\nwidth: 100%;\r\npadding: 0px 20px;\r\npadding-top: 10px;\r\nbox-sizing: border-box;\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\ngap: 7px 15px;\r\nspan {\r\n    color: white;\r\n    background: #e20880;\r\n    padding: 6px 10px;\r\n    border-radius: 5px;\r\n    i {\r\n        cursor: pointer;\r\n        margin-left: 25px;\r\n    }\r\n}\r\n`;\r\n\r\nconst ModifiedContent = styled(Content)`\r\npadding-top: 20px;\r\nfont-weight: 400;\r\nwidth: 80%;\r\nmargin: 0 auto;\r\n`;\r\n\r\nconst DropdownHeader = styled.div`\r\ncolor: ${props => props.theme.color || \"#000\"};\r\npadding: 10px;\r\nletter-spacing: 3px;\r\nfont-size: 14px;\r\n`;\r\n\r\nconst Label = styled.div`\r\nfont-family: 'Manrope';\r\nfont-style: normal;\r\nfont-weight: 700;\r\nfont-size: 14px;\r\nline-height: 21px;\r\nletter-spacing: -0.011em;\r\ncolor: #1E1E1E;\r\n`;\r\n\r\n//   const DropdownStyled = styled(Dropdown)`\r\n//   .Dropdown-control {\r\n//       background-color: #000;\r\n//       color: #fff;\r\n//       padding: 12px 52px 12px 10px;\r\n//       border: 1px solid #000;\r\n//       border-radius: 4px;\r\n//   }\r\n//   .Dropdown-placeholder {\r\n//       text-transform: uppercase;\r\n//       font-weight: 400;\r\n//       letter-spacing: 0.2em;\r\n//       font-size: 0.8em;\r\n//   }\r\n//   .Dropdown-arrow {\r\n//       top: 18px;\r\n//       bottom: 0;\r\n//       border-color: #fff transparent transparent;\r\n//   }\r\n//   .Dropdown-menu {\r\n//       border: 1px solid #000;\r\n//       box-shadow: none;\r\n//       background-color: #000;\r\n//       border-radius: 0px;\r\n//       margin-top: -2px;\r\n//       border-bottom-right-radius: 4px;\r\n//       border-bottom-left-radius: 4px;\r\n//   }\r\n//   .Dropdown-option {\r\n//       background-color: rgb(35 35 35);\r\n//       color: #ffffff99;\r\n//       text-transform: uppercase;\r\n//       letter-spacing: 0.2em;\r\n//       font-size: 0.7em;\r\n//       padding: 15px 20px;\r\n//   }\r\n//   .Dropdown-option:hover {\r\n//       background-color: #000000;\r\n//       color: #fff;\r\n//   }\r\n//   `;\r\n\r\nconst DropdownStyled = styled(Dropdown)`\r\n.Dropdown-control {\r\n    background-color: white;\r\n    color: #000;\r\n    border: 1px solid #BAC4D6;\r\n    border-radius: 12px;\r\n    flex:1;\r\n    outline: none;\r\n    height: 50px;\r\n    display: flex;\r\n    font-weight: 700;\r\n    font-size: 16px;\r\n    line-height: 150%;\r\n    align-items: center;\r\n    padding: 10px;\r\n}\r\n.Dropdown-arrow {\r\n    top: 20px;\r\n    bottom: 0;\r\n    border-color: #f #000 #000;\r\n}\r\n.Dropdown-menu {\r\n  border-color: #BAC4D6;\r\n  border-radius: 12px;\r\n    .is-selected {\r\n    background-color: #D00775;\r\n    color:#fff;\r\n  }\r\n}\r\n\r\n.Dropdown-option {\r\n    background-color: #fff;\r\n    color: #000;\r\n    font-size: 16px;\r\n    padding: 20px 20px;\r\n\r\n}\r\n.Dropdown-option:hover {\r\n    background-color: #D00775;\r\n    color: #000;\r\n}\r\n`\r\n\r\nconst DropdownStyledWhite = styled(DropdownStyled)`\r\n.Dropdown-control {\r\n    color: #000;\r\n    background: #fafafa;\r\n    border: 0px;\r\n    padding: 15px 52px 15px 10px;\r\n}\r\n.Dropdown-arrow {\r\n    border-color: #000 transparent transparent;\r\n    top: 30px;\r\n}\r\n.Dropdown-menu {\r\n    border: 0px;\r\n    background-color: #fafafa;\r\n}\r\n.Dropdown-option {\r\n    background-color: #fafafa;\r\n    color: black;\r\n    transition: 300ms;\r\n}\r\n.Dropdown-option:hover {\r\n    background-color: #e7e6e6;\r\n}\r\n.Dropdown-option.is-selected {\r\n    background-color: #f1efef;\r\n}\r\n`;\r\n\r\nconst DropdownStyledParentWhite = styled(DropdownStyledParent)`\r\n// margin-bottom: 20px;\r\nborder: 1px solid rgba(169, 169, 169, 0.5);\r\n`;\r\n\r\nconst CustomDropdownItem = styled.div`\r\ndisplay: flex;\r\nalign-items: center;\r\nimg {\r\n    height: 30px;\r\n    width: 30px;\r\n    border-radius: 50%;\r\n    margin-right: 10px;\r\n}\r\ndiv {\r\n    color: black;\r\n    font-size: 16px;\r\n    letter-spacing: 2px;\r\n}\r\n`;\r\n\r\nconst Body = styled.div`\r\n  margin: 40px auto 0px auto;\r\n  width: 55%; \r\n  @media (max-width: 600px) {\r\n    width: 100%%; \r\n  }\r\n  @media (max-width: 1224px) {\r\n    width: 75%; \r\n  }\r\n`;\r\n\r\n// Export Default\r\nexport default SendNotifications;","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport { ethers } from \"ethers\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addresses, abis , envConfig } from \"@project/contracts\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore from \"singletons/UsersDataStore\";\r\nimport SendNotifications from \"components/SendNotifications\";\r\nimport { getReq,postReq } from \"api\";\r\nimport {\r\n  setCoreReadProvider,\r\n  setCoreWriteProvider,\r\n  setCommunicatorReadProvider,\r\n  setCommunicatorWriteProvider,\r\n  setPushAdmin,\r\n} from \"redux/slices/contractSlice\";\r\nimport {\r\n  setUserChannelDetails,\r\n  setCanVerify,\r\n  setDelegatees,\r\n} from \"redux/slices/adminSlice\";\r\nimport  { Navigate } from 'react-router-dom'\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\n\r\nexport const ALLOWED_CORE_NETWORK = envConfig.coreContractChain; //chainId of network which we have deployed the core contract on\r\nconst CHANNEL_TAB = 2; //Default to 1 which is the channel tab\r\nconst blockchainName = {\r\n  1: \"ETH_MAINNET\",\r\n  137: \"POLYGON_MAINNET\",\r\n  42: \"ETH_TEST_KOVAN\",\r\n  80001: \"POLYGON_TEST_MUMBAI\",\r\n};\r\n\r\n// Create Header\r\nfunction ChannelDashboardPage() {\r\n  ReactGA.pageview(\"/channel_dashboard\");\r\n\r\n  const dispatch = useDispatch();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const {\r\n    epnsReadProvider,\r\n    epnsWriteProvider,\r\n    epnsCommReadProvider,\r\n  } = useSelector((state: any) => state.contracts);\r\n  const { channelDetails } = useSelector((state: any) => state.admin);\r\n\r\n  const CORE_CHAIN_ID = envConfig.coreContractChain;\r\n  const onCoreNetwork = CORE_CHAIN_ID === chainId;\r\n  const INITIAL_OPEN_TAB = CHANNEL_TAB; //if they are not on a core network.redirect then to the notifications page\r\n\r\n  const [controlAt, setControlAt] = React.useState(2);\r\n  const [adminStatusLoaded, setAdminStatusLoaded] = React.useState(true);\r\n  const [aliasEthAccount, setAliasEthAccount] = React.useState(null);\r\n  const [aliasVerified, setAliasVerified] = React.useState(null); // null means error, false means unverified and true means verified\r\n  const [channelAdmin, setChannelAdmin] = React.useState(true);\r\n  const [channelJson, setChannelJson] = React.useState([]);\r\n\r\n  // toast related section\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n  // toast related section\r\n\r\n  /**\r\n   * When we instantiate the contract instances, fetch basic information about the user\r\n   * Corresponding channel owned.\r\n   */\r\n  // React.useEffect(() => {\r\n  //   (async ()=>{\r\n  //     if (!epnsReadProvider || !epnsCommReadProvider || !epnsWriteProvider) return;\r\n  //     // Reset when account refreshes\r\n  //     setChannelAdmin(false);\r\n  //     dispatch(setUserChannelDetails('unfetched'));\r\n  //     setAdminStatusLoaded(false);\r\n  //     userClickedAt(INITIAL_OPEN_TAB);\r\n  //     setChannelJson([]);\r\n  \r\n  //     // EPNS Read Provider Set\r\n  //     if (epnsReadProvider != null && epnsCommReadProvider != null) {\r\n  //       await checkUserForAlias();\r\n  //       await checkUserForChannelOwnership();\r\n  //       fetchDelegators();\r\n  //     }\r\n  //   })()\r\n  // }, [epnsReadProvider, epnsCommReadProvider, epnsWriteProvider]);\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  };\r\n\r\n  // fetch all the channels who have delegated to this account\r\n  const fetchDelegators = () => {\r\n    postReq(\"/channels/delegatee/getChannels\", {\r\n      delegateAddress: account,\r\n      blockchain: blockchainName[chainId],\r\n      op: \"read\",\r\n    })\r\n      .then(async ({ data: delegators }) => {\r\n        // if there are actual delegators\r\n        // fetch basic information abouot the channels and store it to state\r\n        if (delegators && delegators.channelOwners) {\r\n          const channelInformationPromise = [\r\n            ...new Set([account, ...delegators.channelOwners])//make the accounts unique\r\n          ].map((channelAddress) => {\r\n            return ChannelsDataStore.instance\r\n              .getChannelJsonAsync(channelAddress)\r\n              .then((res) => ({ ...res, address: channelAddress }))\r\n              .catch(() => false)\r\n          }\r\n          );\r\n          const channelInformation = await Promise.all(\r\n            channelInformationPromise\r\n          );\r\n          dispatch(setDelegatees(channelInformation.filter(Boolean)));\r\n          // fetch the json information about this delegatee channel and add to global state\r\n        } else {\r\n          dispatch(setDelegatees([]));\r\n        }\r\n      })\r\n      .catch(async (err) => {\r\n        console.log({ err });\r\n      });\r\n  };\r\n\r\n  // Check if a user is a channel or not\r\n  const checkUserForChannelOwnership = async () => {\r\n    if (channelDetails != 'unfetched') return;\r\n    if (!onCoreNetwork && aliasEthAccount == null) {\r\n      setChannelAdmin(false);\r\n      setAdminStatusLoaded(true);\r\n      return;\r\n    }\r\n    // Check if account is admin or not and handle accordingly\r\n    const ownerAccount = !onCoreNetwork ? aliasEthAccount : account;\r\n    console.log(ownerAccount);\r\n    EPNSCoreHelper.getChannelJsonFromUserAddress(ownerAccount, epnsReadProvider)\r\n      .then(async (response) => {\r\n        // if channel admin, then get if the channel is verified or not, then also fetch more details about the channel\r\n        const verificationStatus = await epnsWriteProvider.getChannelVerfication(\r\n            ownerAccount\r\n          );\r\n        const channelJson = await epnsWriteProvider.channels(ownerAccount);\r\n        const channelSubscribers = await ChannelsDataStore.instance.getChannelSubscribers(\r\n          account\r\n        );\r\n        dispatch(\r\n          setUserChannelDetails({\r\n            ...response,\r\n            ...channelJson,\r\n            subscribers: channelSubscribers,\r\n          })\r\n        );\r\n        dispatch(setCanVerify(Boolean(verificationStatus)));\r\n        setChannelJson(response);\r\n        setChannelAdmin(true);\r\n        setAdminStatusLoaded(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\r\n          \"There was an error [checkUserForChannelOwnership]:\",\r\n          err.message\r\n        );\r\n        setChannelAdmin(false);\r\n        setAdminStatusLoaded(true);\r\n      })\r\n      .finally(() => {\r\n        setAdminStatusLoaded(true);\r\n      });\r\n  };\r\n\r\n    // Check if a user is a channel or not\r\n    const checkUserForAlias = async () => {\r\n      // Check if account is admin or not and handle accordingly\r\n      const userAddressInCaip = convertAddressToAddrCaip(account, chainId);\r\n      await getReq(`/v1/alias/${userAddressInCaip}/channel`).then(({ data }) => {\r\n        if (data) {\r\n          setAliasEthAccount(data.channel);\r\n          setAliasVerified(data.is_alias_verified);\r\n        }\r\n        return data;\r\n      });\r\n    };\r\n\r\n  // Render\r\n  return (\r\n    <>\r\n      {controlAt === 2 && adminStatusLoaded ? \r\n        <>\r\n        {/* redirect if not admin */}\r\n        {!channelAdmin && <Navigate replace to=\"/dashboard\" /> }\r\n        {channelAdmin && <SendNotifications/>}\r\n        </>\r\n        : \r\n        <ChannelLoadingMessage>\r\n          Channel details are being loaded, please wait…\r\n        </ChannelLoadingMessage>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// css style\r\nconst ChannelLoadingMessage = styled.div`\r\n  width: 100%;\r\n  padding: 40px;\r\n  font-size: 1.5em;\r\n  font-weight: 300;\r\n  text-align: center;\r\n  color: ${props => props.theme.color};\r\n`\r\n\r\n\r\n// Export Default\r\nexport default ChannelDashboardPage;","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport styled, {useTheme} from \"styled-components\";\r\nimport { Section, Content, Item, Span, H2, H3 } from \"../primaries/SharedStyling\";\r\n\r\nimport Info from \"segments/Info\";\r\n\r\nimport GLOBALS from \"config/Globals\";\r\n\r\n// Create Header\r\nfunction ReceiveNotifsPage() {\r\n  ReactGA.pageview(\"/receive\");\r\n\r\n  // get themes\r\n  const themes = useTheme();\r\n\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Content className=\"contentBox\" padding=\"20px 0px 0px 0px\">\r\n        <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 20px\">\r\n\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 0px 0px 0px\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\" margin=\"10px 0px 20px 0px\">\r\n              <Span weight=\"200\" color={themes.fontColor}>Receive </Span><Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Notifications</Span>\r\n            </H2>\r\n            <H3 maxWidth=\"768px\" color={themes.fontColorSecondary}>The following frontends enables receiving push alerts for your wallet. More coming soon!</H3>\r\n          </Item>\r\n\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 0px 20px 0px\">\r\n            <Info />\r\n          </Item>\r\n\r\n        </Item>\r\n      </Content>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css style\r\nconst Container = styled(Section)`\r\n  flex: 1;\r\n  flex-direction: column;\r\n  height: calc(100vh - ${GLOBALS.CONSTANTS.HEADER_HEIGHT}px - 52px - ${props => props.theme.interfaceTopPadding});\r\n  background: ${props => props.theme.mainBg};\r\n  align-self: stretch;\r\n`;\r\n\r\n// Export Default\r\nexport default ReceiveNotifsPage;\r\n","import React from \"react\";\r\n\r\nimport { AiFillInfoCircle } from 'react-icons/ai';\r\nimport { Tooltip } from \"@material-ui/core\";\r\n\r\n// Faucet URLs\r\nfunction InfoTooltip({title, Infocolor=\"white\"}) {\r\n  // render\r\n  return (\r\n    <Tooltip style={{marginLeft: \"5px\"}} title={title}>\r\n        <span>\r\n          <AiFillInfoCircle style={{color: Infocolor}} />\r\n        </span>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\n// Export Default\r\nexport default InfoTooltip;","import { ethers } from \"ethers\";\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport { toast } from 'react-toastify';\r\nimport {toolingPostReq} from \"api/index\"\r\nimport { envConfig } from \"@project/contracts\";\r\nconst GAS_LIMIT = 50;\r\n\r\nconst ERROR_TOAST_DEFAULTS = {\r\n    type: toast.TYPE.ERROR,\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined\r\n  };\r\n\r\nconst checkForDelegateError = async(gasEstimate,library) => {\r\n    // return false if no error\r\n    // otherwise return error message\r\n    // get gas price\r\n\r\n    const gasPrice = await EPNSCoreHelper.getGasPriceInDollars(library);\r\n    const totalCost = gasPrice * gasEstimate;\r\n    if(totalCost > GAS_LIMIT){\r\n      return \"Gas Price is too high, Please try again in a while.\" \r\n    }\r\n    return false\r\n  }\r\n\r\n\r\nexport const createTransactionObject = async (newDelegatee,account,epnsToken,addresses,signerObject,library,setTxLoading) => {\r\n    \r\n\r\n    console.log(\"🚀 ~ file: ViewDelegateeItem.js ~ line 63 ~ createTransactionObject ~ newDelegatee\", newDelegatee)\r\n      const contractName = await epnsToken.name()\r\n      const nonce = await epnsToken.nonces(account)\r\n      const chainId = envConfig.coreContractChain\r\n      const contractAddress = addresses.epnsToken\r\n      const now = new Date()\r\n      const secondsSinceEpoch = Math.round(now.getTime() / 1000)\r\n      const expiry = (secondsSinceEpoch + 10800).toString()\r\n      console.log(expiry)\r\n  \r\n      const domain = {\r\n        name: contractName,\r\n        chainId: chainId,\r\n        verifyingContract: contractAddress\r\n      }\r\n  \r\n      const types = {\r\n        Delegation: [\r\n          { name: \"delegatee\", type: \"address\" },\r\n          { name: \"nonce\", type: \"uint256\" },\r\n          { name: \"expiry\", type: \"uint256\" },\r\n        ]\r\n      }\r\n  \r\n      const value = {\r\n        'delegatee': newDelegatee.toString(),\r\n        'nonce': nonce.toString(),\r\n        'expiry': expiry.toString()\r\n      }\r\n      let signature;\r\n      try{\r\n      signature=await signerObject._signTypedData(domain, types, value);\r\n      var {r, s, v} = ethers.utils.splitSignature(signature);\r\n      const gasEstimate = await epnsToken.estimateGas.delegateBySig(newDelegatee, nonce, expiry, v, r, s);\r\n        \r\n      const errorMessage = await checkForDelegateError(gasEstimate,library);\r\n      if(errorMessage){\r\n        return toast.dark(errorMessage, {\r\n          position: \"bottom-right\",\r\n          ...ERROR_TOAST_DEFAULTS\r\n        });\r\n      }\r\n      try{\r\n        await callDelegateAPI(signature, newDelegatee, nonce, expiry, account)\r\n         toast.dark(\"Successfully Delegated\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.SUCCESS,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      }catch(err){\r\n        toast.dark(err.message, {\r\n          position: \"bottom-right\",\r\n          ...ERROR_TOAST_DEFAULTS\r\n        });\r\n      }\r\n      finally{\r\n        setTxLoading(false);\r\n      }\r\n     }\r\n      catch(e){\r\n        console.log(\"error\",e);\r\n        toast.dark(e.message, {\r\n          position: \"bottom-right\",\r\n          ...ERROR_TOAST_DEFAULTS\r\n        });\r\n        setTxLoading(false);\r\n      }\r\n      \r\n  \r\n    }\r\n  \r\n    const callDelegateAPI = async (signature, delegatee, nonce, expiry,account) => {\r\n      console.log(`🚀 ~ file: PushGovernance.tsx ~ line 271 ~ callDelegateAPI ~ signature obj delegator: ${account} signature: ${signature} delegatee: ${delegatee} nonce: ${nonce} expiry: ${expiry}  `)\r\n      await toolingPostReq(\"/gov/gasless_delegate\", { delegator: account, signature: signature, delegatee: delegatee, nonce: nonce.toString(), expiry: expiry })\r\n    }\r\n  ","import React  from 'react';\r\n\r\nexport const executeDelegateTx = async (delegateeAddress,epnsToken,toast,setTxInProgress,library,LoaderToast) => {\r\n    console.log(\"delegateeAddress\", delegateeAddress)\r\n    let sendWithTxPromise;\r\n    sendWithTxPromise = epnsToken.delegate(delegateeAddress);\r\n    sendWithTxPromise\r\n      .then(async tx => {\r\n\r\n        let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n        catch(e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        toast.dark('Transaction Cancelled!', {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      })\r\n\r\n  }","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport Blockies from \"primaries/BlockiesIdenticon\";\r\nimport { Item, ItemH, ItemBreak, Image, Span, Anchor } from '../primaries/SharedStyling';\r\nimport { toast } from 'react-toastify';\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport {toolingPostReq} from \"../api/index\"\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport {Oval} from 'react-loader-spinner';\r\n\r\nimport Skeleton from '@yisheng90/react-loading';\r\nimport { FiTwitter } from 'react-icons/fi';\r\nimport { GoVerified } from 'react-icons/go';\r\nimport { IoMdShareAlt } from 'react-icons/io';\r\n\r\nimport { addresses } from \"@project/contracts\";\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport {createTransactionObject} from '../helpers/GaslessHelper';\r\nimport {executeDelegateTx} from '../helpers/WithGasHelper';\r\nimport Web3 from 'web3';\r\n\r\nexport const PUSH_BALANCE_TRESHOLD = 100; //minimum number of push\r\nexport const GAS_LIMIT = 50; //dollars limit of gas;\r\nexport const ERROR_TOAST_DEFAULTS = {\r\n  type: toast.TYPE.ERROR,\r\n  autoClose: 5000,\r\n  hideProgressBar: false,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  draggable: true,\r\n  progress: undefined\r\n};\r\n\r\n\r\nfunction ViewDelegateeItem({ delegateeObject, epnsToken, signerObject, pushBalance,setGaslessInfo, theme }) {\r\n  const { account, library } = useWeb3React();\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [txLoading, setTxLoading] = React.useState(false);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n  const [isBalance, setIsBalance] = React.useState(false);\r\n  const [transactionMode,setTransactionMode] = React.useState('gasless');\r\n\r\n  const provider = new Web3.providers.HttpProvider('https://mainnet.infura.io/v3/4ff53a5254144d988a8318210b56f47a');\r\n  var web3 = new Web3(provider);\r\n  var ens = web3.eth.ens;\r\n\r\n  React.useEffect(() => {\r\n    setLoading(false);\r\n    if (pushBalance !== 0) {\r\n      setIsBalance(true)\r\n    }\r\n  }, [account, delegateeObject]);\r\n\r\n  const checkForDelegateError = async(gasEstimate) => {\r\n    // return false if no error\r\n    // otherwise return error message\r\n    // get gas price\r\n    const gasPrice = await EPNSCoreHelper.getGasPriceInDollars(library);\r\n    const totalCost = gasPrice * gasEstimate;\r\n    if(totalCost > GAS_LIMIT){\r\n      return \"Gas Price is too high, Please try again in a while.\" \r\n    }\r\n    return false\r\n  }\r\n\r\n  //execute delegate tx wth gas when tokenbalance < PUSH_BALANCE_TRESHOLD\r\n \r\n\r\n  const delegateAction = async (delegateeAddress) => {\r\n    if(txInProgress) return;\r\n    setTxInProgress(true);\r\n    // if (!isBalance) {\r\n    //   toast.dark(\"No PUSH to Delegate!\", {\r\n    //     position: \"bottom-right\",\r\n    //     ...ERROR_TOAST_DEFAULTS\r\n    //   });\r\n    //   return;\r\n    // }\r\n \r\n    setTxLoading(true);\r\n    if(transactionMode === 'withgas'){\r\n     await executeDelegateTx(delegateeAddress,epnsToken,toast,setTxLoading,library,LoaderToast);\r\n     setTxInProgress(false); \r\n     return;\r\n    }\r\n    if (pushBalance < PUSH_BALANCE_TRESHOLD) {\r\n      // await  executeDelegateTx(delegateeAddress,epnsToken,toast,setTxLoading,library,LoaderToast)\r\n      toast.dark(\"Atleast \" + PUSH_BALANCE_TRESHOLD +\" PUSH required for gasless delegation!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      setTxLoading(false);\r\n      setTxInProgress(false);\r\n      return;\r\n    }\r\n    if(!web3.utils.isAddress(delegateeAddress))\r\n    delegateeAddress = await ens.getAddress(delegateeAddress);\r\n    await createTransactionObject(delegateeAddress,account,epnsToken,addresses,signerObject,library,setTxLoading);\r\n    setTxInProgress(false);\r\n    toolingPostReq('/gov/prev_delegation',{\"walletAddress\": account}).then(res=>{\r\n      console.log(\"result\",res.data.user)\r\n      setGaslessInfo(res.data.user);\r\n      // toast.dark(\"Successfully Fetched Prev Delegation Data\", {\r\n      //   position: \"bottom-right\",\r\n      //   type: toast.TYPE.SUCCESS,\r\n      //   autoClose: 5000,\r\n      //   hideProgressBar: false,\r\n      //   closeOnClick: true,\r\n      //   pauseOnHover: true,\r\n      //   draggable: true,\r\n      //   progress: undefined,\r\n      // });\r\n    }\r\n    ).catch(e=>{\r\n      setTxInProgress(false);\r\n      toast.dark(e, {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    }).finally(()=>{\r\n      setTxInProgress(false);\r\n\r\n    })\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Oval\r\n        color={color}\r\n        height={30}\r\n        width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  // render\r\n  return (\r\n    <Item\r\n      key={delegateeObject.wallet}\r\n    >\r\n      <DelegateeItem\r\n        theme={theme}\r\n      >\r\n        <DelegateeImageOuter>\r\n          <DelegateeImageInner>\r\n            {loading &&\r\n              <Skeleton color=\"#eee\" width=\"100%\" height=\"100%\" />\r\n            }\r\n            {!loading && delegateeObject.pic &&\r\n              <Image\r\n                src={`./delegatees/${delegateeObject.pic}.jpg`}\r\n                srcSet={`./delegatees/${delegateeObject.pic}@2x.jpg 2x, ./delegatees/${delegateeObject.pic}@3x.jpg 3x`}\r\n                alt={delegateeObject.name}\r\n              />\r\n            }\r\n            {!loading && !delegateeObject.pic &&\r\n              <Blockies seed={delegateeObject.wallet.toLowerCase()} opts={{ seed: delegateeObject.wallet.toLowerCase(), size: 30, scale: 10 }} />\r\n            }\r\n          </DelegateeImageInner>\r\n\r\n          <ItemH\r\n            position=\"absolute\"\r\n            top=\"10px\"\r\n            left=\"10px\"\r\n            bg=\"#00000088\"\r\n            padding=\"6px 10px\"\r\n            radius=\"22px\"\r\n          >\r\n            <GoVerified size={12} color=\"#fff\"/>\r\n            <Span size=\"12px\" color=\"#fff\" padding=\"0px 0px 0px 10px\" spacing=\"0.2em\" weight=\"600\" textAlign=\"center\">{delegateeObject.votingPower.toLocaleString()}</Span>\r\n          </ItemH>\r\n        </DelegateeImageOuter>\r\n\r\n        <DelegateeProfile>\r\n          <Item>\r\n            <ItemH>\r\n              <Span weight=\"400\" textAlign=\"center\">{delegateeObject.name}</Span>\r\n              <Anchor\r\n                href={delegateeObject.url}\r\n                target=\"_blank\"\r\n                title={\"Visit Twitter profile of \" + delegateeObject.name}\r\n                bg=\"transparent\"\r\n                radius=\"4px\"\r\n                padding=\"4px\"\r\n                margin=\"0px 6px\"\r\n              >\r\n                <FiTwitter size={12} color=\"#35c5f3\" />\r\n              </Anchor>\r\n            </ItemH>\r\n\r\n            <DelegateeWallet size=\"0.5em\" color=\"#aaa\" spacing=\"0.2em\" weight=\"600\" textAlign=\"center\">{delegateeObject.wallet}</DelegateeWallet>\r\n          </Item>\r\n          <ItemBreak></ItemBreak>\r\n          {/* <RadioGroup >\r\n                    <div style={{marginRight:\"0px\"}}>\r\n                    <input type=\"radio\" id=\"gasless\"  checked={transactionMode==\"gasless\"}  name=\"gasless\" value=\"gasless\" onChange={e=>setTransactionMode(e.target.value)}/> <br/>\r\n                    <Label><div style={{width:\"2rem\"}}>  Gasless  <InfoTooltip Infocolor={\"gray\"} title={\"The total rewards you have already claimed from the pool. This includes all the rewards including the ones already harvested.\"} /> </div>      \r\n                     </Label><br/>\r\n                   </div>\r\n                    <div style={{width:\"8rem\"}}>\r\n                    <input type=\"radio\" id=\"withgas\" \r\n                    checked={transactionMode==\"withgas\"}\r\n                    name=\"gas\" value=\"withgas\" onChange={e=>setTransactionMode(e.target.value)}/>\r\n                    <Label > <div style={{width:\"5rem\"}}> With Gas   <InfoTooltip Infocolor={\"gray\"} title={\"The total rewards you have already claimed from the pool. This includes all the rewards including the ones already harvested.\"} /> </div>\r\n                    </Label><br/>  \r\n                    </div>\r\n                    </RadioGroup> */}\r\n                <SelectTag onChange={e=>setTransactionMode(e.target.value)}>\r\n                <>  <option value=\"gasless\"> Gasless  </option> Test</>\r\n                  <option value=\"withgas\">With Gas</option>\r\n                </SelectTag>\r\n          <ItemBreak></ItemBreak>\r\n          <UnsubscribeButton >\r\n                \r\n            {\r\n              \r\n              txLoading ? (\r\n                <ActionTitle>\r\n                 <Oval\r\n                   color=\"#35c5f3\"\r\n                   height={20}\r\n                   width={20}\r\n                />\r\n                </ActionTitle>\r\n              ): (\r\n                <>\r\n               \r\n                <ActionTitle onClick={() => {\r\n                 delegateAction(delegateeObject.wallet)\r\n                }}\r\n                >Delegate</ActionTitle>\r\n                </>\r\n              )\r\n            }\r\n          </UnsubscribeButton>\r\n\r\n          <Item\r\n            position=\"absolute\"\r\n            bottom=\"10px\"\r\n            left=\"-2px\"\r\n            padding=\"4px\"\r\n          >\r\n            <Anchor\r\n              href={delegateeObject.forum}\r\n              target=\"_blank\"\r\n              title={\"Visit forum post of \" + delegateeObject.name}\r\n              bg=\"transparent\"\r\n              radius=\"4px\"\r\n              padding=\"2px\"\r\n            >\r\n              <IoMdShareAlt size={16} color=\"#fff\" />\r\n            </Anchor>\r\n          </Item>\r\n        </DelegateeProfile>\r\n      </DelegateeItem>\r\n    </Item>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst SelectTag=styled.select`\r\n  border: none;\r\n  padding: 0 10px;\r\n  background: transparent;\r\n  outline: none;\r\n`;\r\n\r\nconst DelegateeItem = styled.div`\r\n  max-width: 220px;\r\n  min-width: 220px;\r\n  flex: 1;\r\n  margin: 20px 20px;\r\n  padding: 1px;\r\n  border: 2px solid #fafafa;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: flex-start;\r\n  position: relative;\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.theme == \"nominee\" ? \"#35c5f3\" : \"linear-gradient( 283deg, #34c5f2 0%, #e20880 45%, #35c5f3 100%)\"};\r\n  }\r\n`\r\n\r\nconst DelegateeImageOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst DelegateeImageInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-top-right-radius: 16px;\r\n  border-top-left-radius: 16px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst DelegateeProfile = styled(ItemH)`\r\n  background: #fff;\r\n  border-bottom-right-radius: 16px;\r\n  border-bottom-left-radius: 90px;\r\n  padding: 20px;\r\n`\r\n\r\nconst DelegateeWallet = styled(Span)`\r\n  word-break: break-all;\r\n  padding-top: 4px;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${ props => props.disabled && css`\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  ${ props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #000;\r\n`\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewDelegateeItem;\r\n","import React, { useState } from \"react\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport styled, { css, useTheme } from 'styled-components';\r\nimport { Section, Content, Item, ItemH, A, B, H2, H3, LI, Span, Button, Input, UL } from '../primaries/SharedStyling';\r\nimport { Oval } from 'react-loader-spinner'\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\nimport { toast } from 'react-toastify';\r\nimport InfoTooltip from \"../primaries/InfoTooltip\";\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { GAS_LIMIT, PUSH_BALANCE_TRESHOLD } from \"components/ViewDelegateeItem\";\r\nimport { toolingPostReq } from \"../api/index\";\r\nimport Blockies from \"../primaries/BlockiesIdenticon\";\r\n\r\nimport { ThemeProvider } from \"styled-components\"\r\n\r\nimport ViewDelegateeItem from \"components/ViewDelegateeItem\";\r\n\r\nimport { createTransactionObject } from '../helpers/GaslessHelper';\r\nimport { executeDelegateTx } from '../helpers/WithGasHelper';\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nconst delegateesJSON = require(\"config/delegatees.json\")\r\nconst VOTING_TRESHOLD = 75000; //the treshold for delegates\r\n\r\n// Create Header\r\nfunction GovernancePage() {\r\n  // React GA Analytics\r\n  ReactGA.pageview(\"/governance\");\r\n\r\n  // setup themes (styled components)\r\n  const themes = useTheme();\r\n\r\n  const { account, library, chainId } = useWeb3React();\r\n  const onCoreNetwork = chainId === envConfig.coreContractChain;\r\n\r\n  const [address, setAddress] = React.useState('');\r\n  const [ens, setENS] = React.useState('');\r\n  const [ensFetched, setENSFetched] = React.useState(false);\r\n\r\n  const [dashboardLoading, setDashboardLoading] = React.useState(true);\r\n  const [delegateesLoading, setDelegateesLoading] = React.useState(true);\r\n\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [delegateesObject, setDelegateesObject] = React.useState({});\r\n  const [pushDelegatees, setPushDelegatees] = React.useState([]);\r\n  const [pushNominees, setPushNominees] = React.useState([]);\r\n  const [epnsToken, setEpnsToken] = React.useState(null);\r\n  const [tokenBalance, setTokenBalance] = React.useState(null);\r\n  const [prettyTokenBalance, setPrettyTokenBalance] = React.useState(null);\r\n\r\n  const [showDelegateePrompt, setShowDelegateePrompt] = React.useState(false);\r\n  const [delegatee, setDelegatee] = React.useState(null);\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n  const [selfVotingPower, setSelfVotingPower] = React.useState(null);\r\n  const [newDelegateeAddress, setNewDelegateeAddress] = React.useState(\"0x\");\r\n  const [newDelegateeVotingPower, setNewDelegateeVotingPower] = React.useState(null);\r\n  const [signerObject, setSignerObject] = React.useState(null);\r\n  const [gaslessInfo, setGaslessInfo] = useState(null);\r\n  const [transactionMode, setTransactionMode] = React.useState('gasless');\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!onCoreNetwork) {\r\n      const url = window.location.origin;\r\n      window.location.replace(`${url}/#/notavailable`);\r\n    }\r\n  })\r\n\r\n  React.useEffect(() => {\r\n    toolingPostReq('/gov/prev_delegation', { \"walletAddress\": account }).then(res => {\r\n      console.log(\"result\", res.data.user)\r\n      setGaslessInfo(res.data.user);\r\n    }\r\n    )\r\n  }, []);\r\n  React.useEffect(() => {\r\n    if (account && account != '') {\r\n      // Check if the address is the same\r\n      if (address !== account) {\r\n        setENS('');\r\n        setENSFetched(false);\r\n\r\n        // get ens\r\n        library\r\n          .lookupAddress(account).then(function (name) {\r\n            setENS(name);\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n          .catch(() => {\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n      }\r\n\r\n    }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    console.log(account)\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      setSignerObject(signer)\r\n      const epnsTokenContract = new ethers.Contract(addresses.epnsToken, abis.epnsToken, signer);\r\n      setEpnsToken(epnsTokenContract);\r\n    }\r\n  }, [account, library]);\r\n\r\n  React.useEffect(() => {\r\n    if (epnsToken) {\r\n      getMyInfo()\r\n    }\r\n  }, [epnsToken, account, library, prettyTokenBalance, tokenBalance]);\r\n\r\n  React.useEffect(() => {\r\n    setDashboardLoading(false);\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if (!epnsToken) return;\r\n    const delegateesList = Object.values(delegateesJSON);\r\n    // write helper function to sort by voting power\r\n    const votingPowerSorter = (a, b) => {\r\n      return b.votingPower - a.votingPower\r\n    };\r\n\r\n\r\n    // go through all the delegates json and get their voting power\r\n    const allDelegateesPromise = delegateesList.map(async (oneDelegate: any) => {\r\n      const { wallet } = oneDelegate;\r\n      const votingPower = await EPNSCoreHelper.getVotingPower(wallet, epnsToken);\r\n      return { ...oneDelegate, votingPower: Number(votingPower) };\r\n    });\r\n\r\n\r\n    Promise.all(allDelegateesPromise).then((allDelegatees) => {\r\n      // filter for delegates (i.e) Those who have above 75000 power,\r\n      // use the parameter votingPowerSimulate parameter to simulate voting power above the treshold\r\n      const delegateesAbove75k = allDelegatees.filter(({ votingPower, votingPowerSimulate }) => {\r\n        return (votingPower >= VOTING_TRESHOLD)\r\n      });\r\n\r\n      // sort by voting power\r\n      const sortedDelegatees = [...delegateesAbove75k].sort(votingPowerSorter);\r\n      setPushDelegatees(sortedDelegatees);\r\n\r\n      // calculate for  the nominees (i.e peoplw who have voting power less than 75k)\r\n      const delegateesBelow75k = allDelegatees.filter(({ votingPower }) => {\r\n        return votingPower < VOTING_TRESHOLD\r\n      });\r\n\r\n      const sortedNominees = [...delegateesBelow75k].sort(votingPowerSorter);\r\n\r\n      // sort by voting power\r\n      setPushNominees(sortedNominees);\r\n\r\n      setDelegateesLoading(false);\r\n    })\r\n    setDelegateesObject(delegateesJSON)\r\n    // in order to\r\n  }, [epnsToken])\r\n\r\n  const isValidAddress = (address) => {\r\n    if (ethers.utils.isAddress(address)) {\r\n      return true\r\n    }\r\n    else {\r\n      toast.dark(\"Invalid address!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const getVotingPower = async (address) => {\r\n    try {\r\n      const votingPower = await EPNSCoreHelper.getVotingPower(address, epnsToken, true)\r\n      setNewDelegateeVotingPower(votingPower)\r\n    }\r\n    catch (err) {\r\n      console.log(\"🚀 ~ file: Delegate.tsx ~ line 86 ~ getVotingPower ~ err\", err)\r\n    }\r\n  }\r\n\r\n  const getMyInfo = async () => {\r\n    let bal = await epnsToken.balanceOf(account)\r\n    let decimals = await epnsToken.decimals()\r\n    let tokenBalance = await Number(bal / Math.pow(10, decimals))\r\n    let newBal = tokenBalance.toString();\r\n    let delegatee = await epnsToken.delegates(account)\r\n    let votes = await epnsToken.getCurrentVotes(account)\r\n    let votingPower = await Number(votes / Math.pow(10, decimals))\r\n    let prettyVotingPower = votingPower.toLocaleString();\r\n    setTokenBalance(tokenBalance)\r\n    setPrettyTokenBalance(newBal)\r\n    setDelegatee(delegatee)\r\n    setSelfVotingPower(prettyVotingPower)\r\n  }\r\n\r\n  const checkForDelegateError = async (gasEstimate) => {\r\n    // return false if no error\r\n    // otherwise return error message\r\n\r\n    // get gas price\r\n    const gasPrice = await EPNSCoreHelper.getGasPriceInDollars(library);\r\n    const totalCost = gasPrice * gasEstimate;\r\n    if (totalCost > GAS_LIMIT) {\r\n      return \"Gas Price is too high, Please try again in a while.\"\r\n    }\r\n    return false\r\n  }\r\n\r\n\r\n  //execute delegate tx wth gas when tokenbalance < PUSH_BALANCE_TRESHOLD\r\n\r\n\r\n  const delegateAction = async (newDelegatee) => {\r\n    setTxInProgress(true);\r\n\r\n    const isAddress = await isValidAddress(newDelegatee)\r\n    console.log(isAddress)\r\n    if (!isAddress) {\r\n      setTxInProgress(false);\r\n      return;\r\n    }\r\n    console.log(\"balance\", tokenBalance);\r\n    console.log(\"transaction mode\", transactionMode)\r\n\r\n    if (tokenBalance == 0) {\r\n      toast.dark(\"No PUSH to Delegate!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      setTxInProgress(false);\r\n      return;\r\n    }\r\n\r\n    if (transactionMode === 'withgas') {\r\n      executeDelegateTx(newDelegatee, epnsToken, toast, setTxInProgress, library, LoaderToast)\r\n      return;\r\n    }\r\n    if (tokenBalance < PUSH_BALANCE_TRESHOLD) {\r\n      toast.dark(\"Atleast \" + PUSH_BALANCE_TRESHOLD + \" PUSH required for gasless delegation!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      setTxInProgress(false);\r\n      return;\r\n    }\r\n    await createTransactionObject(newDelegatee, account, epnsToken, addresses, signerObject, library, setTxInProgress);\r\n    toolingPostReq('/gov/prev_delegation', { \"walletAddress\": account }).then(res => {\r\n      console.log(\"result\", res.data.user)\r\n      setGaslessInfo(res.data.user);\r\n      // toast.dark(\"Successfully Fetched Prev Delegation Data\", {\r\n      //   position: \"bottom-right\",\r\n      //   type: toast.TYPE.SUCCESS,\r\n      //   autoClose: 5000,\r\n      //   hideProgressBar: false,\r\n      //   closeOnClick: true,\r\n      //   pauseOnHover: true,\r\n      //   draggable: true,\r\n      //   progress: undefined,\r\n      // });\r\n    }\r\n    ).catch(e => {\r\n      toast.dark(e, {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    })\r\n  }\r\n\r\n\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Oval\r\n        color={color}\r\n        height={30}\r\n        width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section>\r\n        <Content themes={themes.mainBg} padding=\"20px 20px 30px 20px\">\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 15px 15px 15px\">\r\n            {(dashboardLoading || !prettyTokenBalance || !selfVotingPower) &&\r\n              <Item padding=\"20px\">\r\n                <Oval color=\"#e20880\" height={40} width={40} />\r\n              </Item>\r\n            }\r\n\r\n            {!dashboardLoading && prettyTokenBalance && selfVotingPower &&\r\n              <Item margin=\"10px 0px 0px 0px\" self=\"stretch\" items=\"stretch\">\r\n                <StatsCard\r\n                  align=\"stretch\"\r\n                  justify=\"flex-start\"\r\n                  self=\"stretch\"\r\n                  bg={themes.mainBg}\r\n                  op=\"1\"\r\n                >\r\n                  <StatsHeading bg=\"#e20880\">Governance Dashboard</StatsHeading>\r\n                  <StatsContent>\r\n                    <ItemH align=\"stretch\" self=\"stretch\">\r\n                      <Item align=\"center\" self=\"center\" flex=\"initial\" padding=\"10px\">\r\n                        <Blocky>\r\n                          <BlockyInner>\r\n                            <Blockies seed={account.toLowerCase()} opts={{ seed: account.toLowerCase(), size: 10, scale: 10 }} />\r\n                          </BlockyInner>\r\n                        </Blocky>\r\n                        <Wallet>\r\n                          {!ensFetched &&\r\n                            <Oval\r\n                              color=\"#FFF\"\r\n                              height={16}\r\n                              width={16}\r\n                            />\r\n                          }\r\n                          {ensFetched && ens &&\r\n                            <>{ens}</>\r\n                          }\r\n                          {ensFetched && !ens &&\r\n                            <>{account.substring(0, 6)}.....{account.substring(account.length - 6)}</>\r\n                          }\r\n                        </Wallet>\r\n                      </Item>\r\n\r\n                      <Item align=\"flex-start\" self=\"stretch\" padding=\"10px\" size=\"16px\">\r\n                        <ItemH flex=\"initial\" padding=\"5px\">\r\n                          <Span weight=\"500\" padding=\"0px 8px 0px 0px\" color={themes.color}>$PUSH Balance: </Span>\r\n                          <CurvedSpan bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"4px 8px\" textTransform=\"uppercase\">{prettyTokenBalance}</CurvedSpan>\r\n                        </ItemH>\r\n\r\n                        <ItemH flex=\"initial\" padding=\"5px\">\r\n                          <Span weight=\"500\" padding=\"0px 8px 0px 0px\" color={themes.color}>Voting Power: </Span>\r\n                          <CurvedSpan bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"4px 8px\" textTransform=\"uppercase\">{selfVotingPower}</CurvedSpan>\r\n                        </ItemH>\r\n                        {delegatee !== \"0x0000000000000000000000000000000000000000\" &&\r\n                          <ItemH flex=\"initial\" padding=\"5px\">\r\n                            <Span padding=\"0px 8px 0px 0px\">Delegated To: </Span>\r\n                            <Span weight=\"600\">{delegatee}</Span>\r\n                          </ItemH>\r\n                        }\r\n\r\n                        {\r\n                          (gaslessInfo) ?\r\n                            // <Item align=\"flex-start\" self=\"stretch\" padding=\"10px\" size=\"16px\">\r\n                            <>\r\n                              <ItemH flex=\"initial\" padding=\"5px\">\r\n                                <Span weight=\"500\" padding=\"0px 8px 0px 0px\">Last Gasless Delegation On: </Span>\r\n                                <CurvedSpan bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"4px 8px\" textTransform=\"uppercase\">{new Date(gaslessInfo.timestamp).toLocaleDateString()}</CurvedSpan>\r\n                              </ItemH>\r\n                              <ItemH flex=\"initial\" padding=\"5px\">\r\n                                <Span weight=\"500\" padding=\"0px 8px 0px 0px\">Last Gasless Delegation To: </Span>\r\n                                <CurvedSpan bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"4px 8px\" textTransform=\"uppercase\">{gaslessInfo.delegatee}</CurvedSpan>\r\n                              </ItemH>\r\n                            </>\r\n                            :\r\n                            <p>No recent Gasless Delegation </p>\r\n                        }\r\n\r\n                      </Item>\r\n                    </ItemH>\r\n\r\n                    {showDelegateePrompt &&\r\n                      <Item\r\n                        bg=\"#eeeeeeee\"\r\n                        position=\"absolute\"\r\n                        top=\"0\"\r\n                        bottom=\"0\"\r\n                        left=\"0\"\r\n                        right=\"0\"\r\n                      >\r\n                        <Item align=\"stretch\" self=\"stretch\" margin=\"0px 20px 40px 20px\">\r\n                          <Span color=\"#000\" weight=\"400\">Enter delegatee address</Span><br></br>\r\n                          <Input\r\n                            placeholder=\"Enter delegatee address\"\r\n                            radius=\"4px\"\r\n                            padding=\"12px\"\r\n                            self=\"stretch\"\r\n                            bg=\"#fff\"\r\n                            value={newDelegateeAddress}\r\n                            onChange={async (e) => {\r\n                              setNewDelegateeAddress(e.target.value)\r\n                              setNewDelegateeVotingPower(null)\r\n                            }}\r\n                          />\r\n                          {newDelegateeVotingPower && newDelegateeAddress &&\r\n                            <StatsInnerTitle>Voting Power: {newDelegateeVotingPower}</StatsInnerTitle>\r\n                          }\r\n                        </Item>\r\n\r\n                      </Item>\r\n                    }\r\n\r\n                    <Item self=\"stretch\" align=\"flex-end\" >\r\n                      <ItemH >\r\n                        <RadioGroup >\r\n                          <div style={{ marginRight: \"0px\" }}>\r\n                            <input type=\"radio\" id=\"gasless\" checked={transactionMode == \"gasless\"} name=\"gasless\" value=\"gasless\" onChange={e => setTransactionMode(e.target.value)} /> <br />\r\n                            <Label><div style={{ width: \"2rem\" }}>  Gasless  <InfoTooltip Infocolor={\"gray\"}\r\n                              title={\"Delegate your PUSH votes without paying gas fee.   \" + \"Conditions: \" + \"Wallet address must hold at least 100 PUSH.\" + \"Gasless delegation is enabled only when the gas fee is less than $50\" + \"Once delegated, the same wallet address could do gasless delegation again only after 7 days\"} /> </div>\r\n                            </Label><br />\r\n                          </div>\r\n                          <div style={{ width: \"8rem\" }}>\r\n                            <input type=\"radio\" id=\"withgas\"\r\n                              checked={transactionMode == \"withgas\"}\r\n                              name=\"gas\" value=\"withgas\" onChange={e => setTransactionMode(e.target.value)} />\r\n                            <Label > <div style={{ width: \"5rem\" }}> With Gas   <InfoTooltip Infocolor={\"gray\"} title={\"Delegate you PUSH votes by paying gas fee\"} /> </div>\r\n                            </Label><br />\r\n                          </div>\r\n                        </RadioGroup>\r\n                        {!txInProgress &&\r\n                          <ButtonAlt\r\n                            bg={txInProgress ? \"#999\" : \"#e20880\"}\r\n                            disabled={txInProgress ? true : false}\r\n                            onClick={() => {\r\n                              if (showDelegateePrompt) {\r\n                                delegateAction(newDelegateeAddress)\r\n                              }\r\n                              else {\r\n                                setShowDelegateePrompt(true)\r\n                              }\r\n                            }}\r\n                          >\r\n\r\n                            <Span color=\"#fff\" weight=\"400\">Delegate to Others</Span>\r\n\r\n                          </ButtonAlt>\r\n                        }\r\n                        {!showDelegateePrompt && !txInProgress &&\r\n                          <ButtonAlt\r\n                            bg={txInProgress ? \"#999\" : \"#51CAF3\"}\r\n                            disabled={txInProgress ? true : false}\r\n                            onClick={() => { delegateAction(account) }}\r\n                          >\r\n                            <Span color=\"#fff\" weight=\"400\">Delegate to Myself</Span>\r\n\r\n                          </ButtonAlt>\r\n                        }\r\n\r\n                        <ButtonAlt\r\n                          bg={\"#000\"}\r\n                          onClick={\r\n                            () => {\r\n                              if (showDelegateePrompt) {\r\n                                getVotingPower(newDelegateeAddress)\r\n                              }\r\n                              else {\r\n                                setShowDelegateePrompt(true)\r\n                              }\r\n                            }\r\n                          }\r\n                        >{\r\n                            txInProgress ? (\r\n                              <ActionTitle>\r\n                                <Oval\r\n                                  color=\"#35c5f3\"\r\n                                  height={20}\r\n                                  width={20}\r\n                                />\r\n                              </ActionTitle>\r\n                            ) :\r\n\r\n\r\n                              <Span color=\"#fff\" weight=\"400\">Query Voting Power</Span>\r\n                          }\r\n                        </ButtonAlt>\r\n\r\n                        {showDelegateePrompt &&\r\n                          <ButtonAlt\r\n                            bg=\"#000\"\r\n                            onClick={() => { setShowDelegateePrompt(false) }}\r\n                          >\r\n                            <Span color=\"#fff\" weight=\"400\">Close</Span>\r\n                          </ButtonAlt>\r\n                        }\r\n                      </ItemH>\r\n\r\n                    </Item>\r\n                  </StatsContent>\r\n                  <StatsPreview color=\"#e20880\">MY INFO</StatsPreview>\r\n                </StatsCard>\r\n              </Item>\r\n            }\r\n          </Item>\r\n\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"15px 15px 0px 15px\">\r\n            <StatsCard\r\n              align=\"stretch\"\r\n              justify=\"flex-start\"\r\n              self=\"stretch\"\r\n              bg={themes.mainBg}\r\n            >\r\n              <StatsHeading bg=\"#35c5f3\">Meet the PUSH Nominees</StatsHeading>\r\n              <NomineeContainer>\r\n                {delegateesLoading ? (\r\n                  <ContainerInfo>\r\n                    <Oval\r\n                      color=\"#35c5f3\"\r\n                      height={40}\r\n                      width={40}\r\n                    />\r\n                  </ContainerInfo>\r\n                ) : (\r\n                  <AbsoluteWrapper>\r\n                    {\r\n                      pushNominees.map((onePushNominee) => {\r\n                        return (\r\n                          <ViewDelegateeItem\r\n                            key={onePushNominee.wallet}\r\n                            delegateeObject={onePushNominee}\r\n                            epnsToken={epnsToken}\r\n                            pushBalance={tokenBalance}\r\n                            signerObject={signerObject}\r\n                            setGaslessInfo={setGaslessInfo}\r\n                            theme=\"nominee\"\r\n                          />\r\n                        )\r\n                      })\r\n                    }\r\n                  </AbsoluteWrapper>\r\n                )\r\n                }\r\n              </NomineeContainer>\r\n            </StatsCard>\r\n          </Item>\r\n        </Content>\r\n\r\n        <Content padding=\"20px 20px 0px\">\r\n          <Item align=\"flex-start\" margin=\"0px 15px 0px 15px\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span weight=\"200\" color={themes.color}>PUSH </Span>\r\n              <Span bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">DELEGATEES</Span>\r\n            </H2>\r\n            <H3 color={themes.color}>Let's start <B>governing!!</B> </H3>\r\n          </Item>\r\n\r\n          <Item>\r\n            {dashboardLoading &&\r\n              <ContainerInfo>\r\n                <Oval\r\n                  color=\"#35c5f3\"\r\n                  height={40}\r\n                  width={40}\r\n                />\r\n              </ContainerInfo>\r\n            }\r\n\r\n            {!dashboardLoading && controlAt == 0 &&\r\n              <ItemH\r\n                padding=\"0px 20px 20px 20px\"\r\n                self=\"stretch\"\r\n              >\r\n                {pushDelegatees.length == 0 &&\r\n                  <Item align=\"flex-start\" self=\"stretch\">\r\n                    <Span padding=\"10px 10px\" margin=\"10px 0px\" bg=\"#666\" color=\"#fff\" weight=\"600\">🤷 Awkward!!</Span>\r\n                    <Span padding=\"10px 10px\" margin=\"10px 0px\" bg=\"#666\" color=\"#fff\" weight=\"600\">Show some 💕 to Nominees to kickstart Governance!</Span>\r\n                  </Item>\r\n                }\r\n                {pushDelegatees.length > 0 &&\r\n                  pushDelegatees.map((oneDelegatee) => {\r\n                    return (\r\n                      <>\r\n                        <ViewDelegateeItem\r\n                          key={oneDelegatee.wallet}\r\n                          delegateeObject={oneDelegatee}\r\n                          epnsToken={epnsToken}\r\n                          signerObject={signerObject}\r\n                          pushBalance={tokenBalance}\r\n                          setGaslessInfo={setGaslessInfo}\r\n                          theme=\"delegate\"\r\n                        />\r\n                      </>\r\n                    );\r\n                  })\r\n                }\r\n              </ItemH>\r\n            }\r\n          </Item>\r\n        </Content>\r\n\r\n        {/* FAQs */}\r\n        <Content padding=\"20px 20px 35px\">\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"-10px 20px 0px 20px\">\r\n\r\n            {/* Question */}\r\n            <Item align=\"stretch\" margin=\"0px 0px 0px 0px\">\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(0) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    What are PUSH Delegatees?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[0] &&\r\n                  <Answer>\r\n                    <Span>\r\n                      Active community members who have at least <b>75,000 $PUSH</b> delegated to them.\r\n                      They will be able to create proposals on Snapshot that are approved on the <AMod href=\"https://gov.epns.io/\"> forum </AMod>\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(1) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    What are PUSH Nominees\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[1] &&\r\n                  <Answer>\r\n                    <Span>\r\n                      Active community members who can be delegated $PUSH to vote for proposals Snapshot. If you wish to be PUSH Nominee, submit your nomination\r\n                      <AMod href=\"https://gov.epns.io/t/epns-push-delegatee-nominations/21\"> here. </AMod>\r\n                      Once they get at least <b>75,000 $PUSH </b> delegated to them, they become a PUSH Delegatee.\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(2) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    How can I become a PUSH Nominee?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[2] &&\r\n                  <Answer>\r\n                    <Span>Step-by-step process:</Span>\r\n                    <UL>\r\n                      <LI>\r\n                        <Span>Sign up on:- <AMod href=\"https://gov.epns.io/\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">EPNS Governance Portal</AMod></Span>\r\n                      </LI>\r\n                      <LI>\r\n                        <Span>Go to:- <AMod href=\"https://gov.epns.io/t/epns-push-delegatee-nominations/21\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">https://gov.epns.io/t/epns-push-delegatee-nominations/21</AMod></Span>\r\n                      </LI>\r\n                      <LI>\r\n                        <Span>Submit your nomination by replying to the above post in the PROPOSED TEMPLATE.</Span>\r\n                      </LI>\r\n                    </UL>\r\n                    <Span>\r\n                      Now, once your nomination receives minimum of 10 likes,\r\n                      We will be adding your wallet address on our Governance Front end within 5-7 days.\r\n                      And later community members can start delegating votes to you.\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(3) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    What if I don't wish to be a PUSH Nominee?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[3] &&\r\n                  <Answer>\r\n                    <Span>\r\n                      No problem! You can show support to your favourite PUSH Nominees by liking their nominations <AMod href=\"https://gov.epns.io/t/epns-push-delegatee-nominations/21\">here</AMod>.\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(4) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    Where should I start?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[4] &&\r\n                  <Answer>\r\n                    <Span>Visit <AMod href=\"https://gov.epns.io/\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">EPNS Governance Portal</AMod> and introduce yoursef on the platform in the suggested format.</Span>\r\n\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(5) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    What happens to the delegated voting power when I sell my PUSH tokens?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[5] &&\r\n                  <Answer>\r\n                    <Span>If you delegate your voting power to someone/yourself and later you sell your\r\n                      PUSH tokens, then the voting power of those tokens gets revoked. Now the new owner gets to decide whom to delegate to. </Span>\r\n\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(6) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    How can I cast my vote?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[6] &&\r\n                  <Answer>\r\n                    <Span>Please visit <AMod href=\"https://snapshot.org/#/epns.eth\" target=\"_blank\" title=\"EPNS Governance - Snapshot Portal\">EPNS Governance - Snapshot Portal</AMod> to view the ongoing on-chain proposals and cast your vote.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(7) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    How can I keep up with EPNS Governance?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[7] &&\r\n                  <Answer>\r\n                    <Span>Join our <AMod href=\"https://t.me/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">Telegram</AMod>, follow us on <AMod href=\"https://twitter.com/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">Twitter</AMod>, and sign up for our 5 minute <AMod href=\"https://epns.substack.com/\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">weekly product updates</AMod>.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n            </Item>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst RadioGroup = styled.div`\r\n  display:flex;\r\n  justify-content:space-around;\r\n  align-items:center;\r\n  width:300px;\r\n  margin:0px 20px;\r\n  div{\r\n    display:flex;\r\n    justify-content:space-around;\r\n    align-items:center;\r\n    width:100px;\r\n  }\r\n`;\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  background: #fff;\r\n`\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid ${props => props.theme.qnaBgBorder};\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n\r\n  & ${Question} {\r\n    background: ${props => props.theme.qnaBg};\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\nconst AMod = styled(A)`\r\n  color: #e20880;\r\n  font-weight: 500;\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  ${props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\nconst Label = styled.label`\r\n    margin:\"10px\";\r\n`;\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\nconst StatsCard = styled(Item)`\r\n  overflow: hidden;\r\n  min-width: 180px;\r\n\r\n  border-radius: 12px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  &:hover {\r\n    opacity: ${props => props.op ? \"0.9\" : props.op}\r\n  }\r\n`;\r\n\r\nconst StatsHeading = styled(Item)`\r\n  flex: 0;\r\n  align-self: stretch;\r\n  color: #fff;\r\n  top: 0px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n  font-size: 15px;\r\n  text-align: center;\r\n  padding: 10px 5px;\r\n  right: 0;\r\n  left: 0;\r\n`\r\n\r\nconst NomineeContainer = styled.div`\r\n  padding: 0px 20px 0px 20px;\r\n  position: relative;\r\n  height: 420px;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* width */\r\n\r\n  /* Track */\r\n  ::-webkit-scrollbar-track {\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nconst StatsContent = styled(Item)`\r\n  padding: 20px 20px;\r\n`\r\n\r\nconst AbsoluteWrapper = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: max-content;\r\n  overflow: scroll;\r\n  display: flex;\r\n`\r\n\r\nconst StatsPreview = styled(Span)`\r\n  position: absolute;\r\n  bottom: 5px;\r\n  right: 10px;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  opacity: 0.25;\r\n  letter-spacing:0.1em;\r\n  text-transform: uppercase;\r\n  color: ${props => props.color || '#000'};\r\n  z-index: -1;\r\n`\r\n\r\nconst StatsInnerTitle = styled.span`\r\n  // font-weight: bold;\r\n  font-size: 15px;\r\n  letter-spacing: 0.1em;\r\n  align-items: left;\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst ButtonAlt = styled(Button)`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst CurvedSpan = styled(Span)`\r\n  font-size: 14px;\r\n`;\r\n\r\n// css styles\r\nconst Blocky = styled.div`\r\n  position: relative;\r\n  width: 96px;\r\n  height: 96px;\r\n  border-radius: 100%;\r\n  overflow: hidden;\r\n  transform: scale(0.85);\r\n  outline-width: 2px;\r\n  outline-color: rgba(225,225,225,1);\r\n`\r\n\r\nconst BlockyInner = styled.div``\r\n\r\nconst Wallet = styled.span`\r\n  margin: 10px 10px;\r\n  padding: 8px 15px;\r\n  height: 16px;\r\n  display: none;\r\n  align-items: baseline;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border-radius: 15px;\r\n  background: #333;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default GovernancePage;\r\n","import { ethers } from \"ethers\";\r\n\r\nimport { addresses, envConfig } from \"@project/contracts\";\r\n\r\nconst ONE_PUSH = ethers.BigNumber.from(1).mul(\r\n  ethers.BigNumber.from(10).pow(ethers.BigNumber.from(18))\r\n);\r\nconst GENESIS_EPOCH_AMOUNT_PUSH = 30000\r\nconst GENESIS_EPOCH_AMOUNT_LP = 35000\r\n\r\nconst bn = function(number, defaultValue = null) { if (number == null) { if (defaultValue == null) { return null } number = defaultValue } return ethers.BigNumber.from(number) }\r\n\r\nconst tokenToBn = (token) => {\r\n  return token.mul(ethers.BigNumber.from(10).pow(ethers.BigNumber.from(18)))\r\n}\r\n\r\nconst tokenBNtoNumber = (tokenBn) => {\r\n  return tokenBn.div(ethers.BigNumber.from(10).pow(ethers.BigNumber.from(10))).toNumber() / 100000000\r\n}\r\n\r\nconst bnToInt = function (bnAmount) { return parseInt(bnAmount.div(bn(10).pow(18))) }\r\n\r\nexport default class YieldFarmingDataStore {\r\n  static instance =\r\n    YieldFarmingDataStore.instance || new YieldFarmingDataStore();\r\n\r\n  state = {\r\n    account: null,\r\n    signer: null,\r\n    staking: null,\r\n    yieldFarmingPUSH: null,\r\n    yieldFarmingLP: null,\r\n    rewardForCurrentEpochPush: null,\r\n    rewardForCurrentEpochLP: null,\r\n\r\n    genesisEpochAmountPUSH: GENESIS_EPOCH_AMOUNT_PUSH,\r\n    deprecationPerEpochPUSH: 100,\r\n    genesisEpochAmountLP: GENESIS_EPOCH_AMOUNT_LP,\r\n    deprecationPerEpochLP: 100,\r\n  };\r\n\r\n  // init\r\n  init = (account, epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02) => {\r\n    // set account\r\n    this.state.account = account;\r\n    this.state.epnsToken = epnsToken;\r\n    this.state.staking = staking;\r\n    this.state.yieldFarmingPUSH = yieldFarmingPUSH;\r\n    this.state.yieldFarmingLP = yieldFarmingLP;\r\n    this.state.uniswapV2Router02 = uniswapV2Router02;\r\n  };\r\n\r\n  // 1. Listen for Subscribe Async\r\n  getPoolStats = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const yieldFarmingPUSH = this.state.yieldFarmingPUSH;\r\n      const yieldFarmingLP = this.state.yieldFarmingLP;\r\n\r\n      const currentEpochPUSH = await yieldFarmingPUSH.getCurrentEpoch();\r\n\r\n      const pushPriceAmounts = await this.state.uniswapV2Router02.getAmountsOut(ONE_PUSH.toString(), [addresses.epnsToken, addresses.WETHAddress, addresses.USDTAddress]);\r\n      const pushPrice = pushPriceAmounts[pushPriceAmounts.length -1].toNumber()/1000000;\r\n\r\n      const pushAmountReserve = tokenBNtoNumber(await this.state.epnsToken.balanceOf(addresses.epnsLPToken))\r\n      const wethAmountReserve = tokenBNtoNumber(await this.state.epnsToken.attach(addresses.WETHAddress).balanceOf(addresses.epnsLPToken)) // Using epnsToken instance for WETH instance\r\n\r\n      const ethPriceAmounts = await this.state.uniswapV2Router02.getAmountsOut(ONE_PUSH.toString(), [addresses.WETHAddress, addresses.USDTAddress]);\r\n      const ethPrice = ethPriceAmounts[ethPriceAmounts.length -1].toNumber()/1000000;\r\n\r\n      const uniTotalSupply = tokenBNtoNumber(await this.state.epnsToken.attach(addresses.epnsLPToken).totalSupply()) // Using epnsToken instance for Uni-V2 instance\r\n\r\n      const uniLpPrice = ((pushAmountReserve * pushPrice) + (wethAmountReserve * ethPrice)) / uniTotalSupply\r\n      const lpToPushRatio = uniLpPrice / pushPrice\r\n\r\n      const pushNextPoolSize = tokenBNtoNumber(await yieldFarmingPUSH.getPoolSize(currentEpochPUSH.add(1)));\r\n      const lpNextPoolSize = tokenBNtoNumber(await yieldFarmingLP.getPoolSize(currentEpochPUSH.add(1)));\r\n\r\n      const totalValueLocked = (pushNextPoolSize * pushPrice) + (lpNextPoolSize * uniLpPrice)\r\n\r\n      const epochDuration = await yieldFarmingPUSH.epochDuration();\r\n\r\n      const epochStart = await yieldFarmingPUSH.epochStart();\r\n\r\n      const start = epochStart.add(currentEpochPUSH.sub(1).mul(epochDuration));\r\n      const epochEndTimestamp = start.add(epochDuration);\r\n\r\n      const pushTotalDistributedAmount = await yieldFarmingPUSH.TOTAL_DISTRIBUTED_AMOUNT();\r\n      const lpTotalDistributedAmount = await yieldFarmingLP.TOTAL_DISTRIBUTED_AMOUNT();\r\n\r\n      const totalDistributedAmount = pushTotalDistributedAmount.add(\r\n        lpTotalDistributedAmount\r\n      );\r\n\r\n      const pushRewardsDistributed = await this.getPushRewardsDistributed();\r\n\r\n      resolve({\r\n        totalValueLocked,\r\n        pushPrice,\r\n        epochEndTimestamp,\r\n        totalDistributedAmount,\r\n        pushRewardsDistributed,\r\n        currentEpoch: currentEpochPUSH,\r\n        lpToPushRatio\r\n      });\r\n    });\r\n  };\r\n\r\n  // 1. Listen for Subscribe Async\r\n  getPUSHPoolStats = async () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const epnsToken = this.state.epnsToken;\r\n      const staking = this.state.staking;\r\n      const yieldFarmingPUSH = this.state.yieldFarmingPUSH;\r\n\r\n      const currentEpochPUSH = await yieldFarmingPUSH.getCurrentEpoch();\r\n      const totalEpochPUSH = (await yieldFarmingPUSH.NR_OF_EPOCHS()).toString();\r\n\r\n      const genesisEpochAmount = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountPUSH));\r\n      const deprecationPerEpoch = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochPUSH));\r\n\r\n      const rewardForCurrentEpoch = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch\r\n      );\r\n\r\n      this.state.rewardForCurrentEpochPush = rewardForCurrentEpoch;\r\n\r\n      const poolBalance = await yieldFarmingPUSH.getPoolSize(\r\n        currentEpochPUSH.add(1)\r\n      );\r\n\r\n      const stakingAPR = this.calcStakingAPR(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch,\r\n        poolBalance,\r\n      );\r\n\r\n      resolve({\r\n        currentEpochPUSH,\r\n        totalEpochPUSH,\r\n        rewardForCurrentEpoch,\r\n        poolBalance,\r\n        stakingAPR\r\n      });\r\n    });\r\n  };\r\n\r\n  getLPPoolStats = async (poolStats) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const epnsToken = this.state.epnsToken;\r\n      const staking = this.state.staking;\r\n      const yieldFarmingLP = this.state.yieldFarmingLP;\r\n\r\n      const currentEpochPUSH = await yieldFarmingLP.getCurrentEpoch();\r\n      const totalEpochPUSH = (await yieldFarmingLP.NR_OF_EPOCHS()).toString();\r\n      const genesisEpochAmount = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountLP));\r\n      const deprecationPerEpoch = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochLP));\r\n\r\n      const rewardForCurrentEpoch = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch\r\n      );\r\n\r\n      this.state.rewardForCurrentEpochLP = rewardForCurrentEpoch;\r\n\r\n      const poolBalance = await yieldFarmingLP.getPoolSize(\r\n        currentEpochPUSH.add(1)\r\n      );\r\n\r\n      const stakingAPR = await this.calcLPPoolAPR(\r\n        genesisEpochAmount,\r\n        currentEpochPUSH,\r\n        deprecationPerEpoch,\r\n        poolBalance,\r\n        poolStats\r\n      );\r\n\r\n      resolve({\r\n        currentEpochPUSH,\r\n        totalEpochPUSH,\r\n        rewardForCurrentEpoch,\r\n        poolBalance,\r\n        stakingAPR\r\n      });\r\n    });\r\n  };\r\n\r\n  // 1. Listen for Subscribe Async\r\n  getUserData = async (contract) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.account) {\r\n        const currentEpochPUSH = await contract.getCurrentEpoch();\r\n\r\n        const potentialUserReward = (await this.calculateUserEpochReward(currentEpochPUSH, contract)).toFixed(2)\r\n\r\n        const epochStakeNext = await contract.getEpochStake(\r\n          this.state.account,\r\n          currentEpochPUSH.add(1)\r\n        );\r\n\r\n        let totalAccumulatedReward = 0\r\n\r\n        for(var i=0; i<=currentEpochPUSH.sub(1).toNumber(); i++){\r\n          const epochReward = await this.calculateUserEpochReward(i, contract)\r\n          totalAccumulatedReward = totalAccumulatedReward + epochReward\r\n        }\r\n\r\n        totalAccumulatedReward = totalAccumulatedReward.toFixed(2)\r\n        const lastEpochIdHarvested = (await contract.lastEpochIdHarvested(this.state.account)).toNumber()\r\n\r\n        let totalAvailableReward = 0\r\n\r\n        for(var i = lastEpochIdHarvested + 1; i<=currentEpochPUSH.sub(1).toNumber(); i++){\r\n          const epochReward = await this.calculateUserEpochReward(i, contract)\r\n          totalAvailableReward = totalAvailableReward + epochReward\r\n        }\r\n        totalAvailableReward = totalAvailableReward.toFixed(2)\r\n\r\n        resolve({\r\n          potentialUserReward,\r\n          epochStakeNext,\r\n          totalAccumulatedReward,\r\n          totalAvailableReward\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  getPushRewardsDistributed = async () => {\r\n    const yieldFarmingPUSH = this.state.yieldFarmingPUSH;\r\n    const yieldFarmingLP = this.state.yieldFarmingLP;\r\n\r\n    const currentEpochPUSH = await yieldFarmingPUSH.getCurrentEpoch();\r\n    const genesisEpochAmountPUSH = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountPUSH))\r\n    const deprecationPerEpochPUSH = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochPUSH))\r\n    const currentEpochLP = await yieldFarmingLP.getCurrentEpoch();\r\n    const genesisEpochAmountLP = tokenToBn(ethers.BigNumber.from(this.state.genesisEpochAmountLP))\r\n    const deprecationPerEpochLP = tokenToBn(ethers.BigNumber.from(this.state.deprecationPerEpochLP))\r\n\r\n    let pushPoolRewardsDistributed = ethers.BigNumber.from(0);\r\n    let lpPoolRewardsDistributed = ethers.BigNumber.from(0);\r\n\r\n    for(var i=0; i<currentEpochLP.toNumber(); i++){\r\n      const rewardForCurrentEpochLP = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmountLP,\r\n        ethers.BigNumber.from(i),\r\n        deprecationPerEpochLP\r\n      );\r\n\r\n      lpPoolRewardsDistributed = lpPoolRewardsDistributed.add(rewardForCurrentEpochLP);\r\n\r\n      const rewardForCurrentEpochPUSH = this.calcTotalAmountPerEpoch(\r\n        genesisEpochAmountPUSH,\r\n        ethers.BigNumber.from(i),\r\n        deprecationPerEpochPUSH\r\n      );\r\n\r\n      pushPoolRewardsDistributed = pushPoolRewardsDistributed.add(rewardForCurrentEpochPUSH);\r\n    }\r\n\r\n    return pushPoolRewardsDistributed.add(lpPoolRewardsDistributed)\r\n  }\r\n\r\n  calcTotalAmountPerEpoch = (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch\r\n  ) => {\r\n    return genesisEpochAmount.sub(epochId.mul(deprecationPerEpoch));\r\n  };\r\n\r\n  calcAnnualEpochReward = (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch\r\n  ) => {\r\n    // get current epoch reward\r\n    const currentEpochReward = this.calcTotalAmountPerEpoch(genesisEpochAmount, epochId, deprecationPerEpoch)\r\n\r\n    const weeks = 52\r\n    const depreciate = deprecationPerEpoch.mul(weeks * (weeks - 1)).div(2)\r\n\r\n    const annualEpochReward = (currentEpochReward.mul(weeks)).sub(depreciate)\r\n\r\n    return annualEpochReward\r\n  }\r\n\r\n  calcStakingAPR = (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch,\r\n    totalStaked\r\n  ) => {\r\n    // get annual rewards\r\n    const annualRewards = this.calcAnnualEpochReward(genesisEpochAmount, epochId, deprecationPerEpoch)\r\n    let apr;\r\n    if(envConfig.coreContractChain === 42)\r\n    apr = annualRewards.mul(1000000).div(Math.max(totalStaked, 1));\r\n    else\r\n    apr = annualRewards.mul(1000000).div(totalStaked);\r\n    const aprFormatted = (parseInt(apr.toString())/10000).toFixed(2)\r\n\r\n    return aprFormatted\r\n  }\r\n\r\n  calcLPPoolAPR = async (\r\n    genesisEpochAmount,\r\n    epochId,\r\n    deprecationPerEpoch,\r\n    totalStaked,\r\n    poolStats\r\n  ) => {\r\n    // get annual rewards\r\n    const annualRewards = this.calcAnnualEpochReward(genesisEpochAmount, epochId, deprecationPerEpoch)\r\n\r\n    let apr;\r\n    if(envConfig.coreContractChain === 42)\r\n    apr = annualRewards.mul(1000000).div(Math.max(totalStaked, 1));\r\n    else\r\n    apr = annualRewards.mul(1000000).div(totalStaked);\r\n    const aprFormatted = (parseInt(apr.toString())/(10000 * poolStats.lpToPushRatio)).toFixed(2)\r\n\r\n    return aprFormatted\r\n\r\n  }\r\n\r\n  calculateUserEpochReward = async (\r\n    epochId,\r\n    contract\r\n  ) => {\r\n      const epochStake = tokenBNtoNumber(await contract.getEpochStake(\r\n        this.state.account,\r\n        epochId\r\n      ));\r\n\r\n      const poolSize = tokenBNtoNumber(await contract.getPoolSize(epochId));\r\n\r\n      let potentialUserReward = 0;\r\n      if (poolSize > 0) {\r\n        if (contract.address == addresses.yieldFarmLP) {\r\n          const rewardForCurrentEpoch = tokenBNtoNumber(this.state.rewardForCurrentEpochLP)\r\n          potentialUserReward = epochStake / poolSize * rewardForCurrentEpoch\r\n        }\r\n        else {\r\n          const rewardForCurrentEpoch = tokenBNtoNumber(this.state.rewardForCurrentEpochPush)\r\n          potentialUserReward = epochStake / poolSize * rewardForCurrentEpoch\r\n        }\r\n\r\n      }\r\n\r\n      return potentialUserReward\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport styled, { css } from \"styled-components\";\r\nimport { Item, ItemH, B, H2, H3, Span, Button, Input } from '../primaries/SharedStyling';\r\nimport InfoTooltip from \"../primaries/InfoTooltip\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { Oval } from \"react-loader-spinner\";\r\n\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\nconst ethers = require(\"ethers\");\r\n\r\nconst bn = function (number, defaultValue = null) { if (number == null) { if (defaultValue == null) { return null } number = defaultValue } return ethers.BigNumber.from(number) }\r\n\r\n// const tokens = function (amount) { return (bn(amount).mul(bn(10).pow(18))).toString() }\r\n// const tokensBN = function (amount) { return (bn(amount).mul(bn(10).pow(18))) }\r\nconst bnToInt = function (bnAmount) { return bnAmount.div(bn(10).pow(18)) }\r\n\r\n// Create Header\r\nexport default function PoolCard({\r\n  poolName,\r\n  poolAddress,\r\n  tokenAddress,\r\n  getPoolStats,\r\n  getPUSHPoolStats,\r\n  getUserData,\r\n  pushPoolStats,\r\n  userData,\r\n}) {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n  const [depositAmountToken, setDepositAmountToken] = React.useState(0);\r\n  const [withdrawAmountToken, setWithdrawAmountToken] = React.useState(0);\r\n  const [harvestEpochValue, setHarvestEpochValue] = React.useState(0);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n\r\n  const [showDepositItem, setShowDepositItem] = React.useState(false);\r\n\r\n  const [depositApproved, setDepositApprove] = React.useState(false);\r\n  const [txInProgressApprDep, setTxInProgressApprDep] = React.useState(false);\r\n\r\n  const [txInProgressDep, setTxInProgressDep] = React.useState(false);\r\n  const [showDepSlip, setShowDepSlip] = React.useState(null);\r\n\r\n  const [txInProgressWithdraw, setTxInProgressWithdraw] = React.useState(false);\r\n\r\n  const [txInProgressMassHarvest, setTxInProgressMassHarvest] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    // Check if the account has approved deposit\r\n    checkApprDeposit();\r\n\r\n  }, [depositAmountToken]);\r\n\r\n  const checkApprDeposit = async () => {\r\n    if (depositAmountToken <= 0) {\r\n      setDepositApprove(false);\r\n      return;\r\n    }\r\n    setTxInProgressApprDep(true);\r\n\r\n    var signer = library.getSigner(account);\r\n    const tokenAddr = poolName == \"Uniswap LP Pool (UNI-V2)\" ? addresses.epnsLPToken : addresses.epnsToken;\r\n    let token = new ethers.Contract(tokenAddr, abis.epnsToken, signer);\r\n\r\n    const allowance = await token.allowance(account, addresses.staking);\r\n    if (allowance.gte(bn(depositAmountToken))) {\r\n      setDepositApprove(true);\r\n    }\r\n    else {\r\n      setDepositApprove(false);\r\n    }\r\n\r\n    setTxInProgressApprDep(false);\r\n  }\r\n\r\n  const fillMax = async () => {\r\n    var signer = library.getSigner(account);\r\n    const tokenAddr = poolName == \"Uniswap LP Pool (UNI-V2)\" ? addresses.epnsLPToken : addresses.epnsToken;\r\n    let token = new ethers.Contract(tokenAddr, abis.epnsToken, signer);\r\n\r\n    let balance = bnToInt(await token.balanceOf(account));\r\n    setDepositAmountToken(parseInt(balance.toString().replace(/\\D/, '')) || 0)\r\n  }\r\n\r\n  const approveDeposit = async () => {\r\n    if (depositApproved || txInProgressApprDep) {\r\n      return\r\n    }\r\n\r\n    setTxInProgressApprDep(true);\r\n\r\n    var signer = library.getSigner(account);\r\n    let epnsToken = new ethers.Contract(tokenAddress, abis.epnsToken, signer);\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, signer);\r\n\r\n    const uintMax = bn(2).pow(bn(256)).sub(1)\r\n\r\n    const tx = epnsToken.approve(\r\n      staking.address,\r\n      uintMax\r\n    );\r\n\r\n    tx.then(async (tx) => {\r\n      let txToast = toast.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000,\r\n        });\r\n        setTxInProgressApprDep(false);\r\n        setDepositApprove(true);\r\n\r\n      } catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressApprDep(false);\r\n      }\r\n    }).catch((err) => {\r\n      toast.dark(\"Transaction Cancelled!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressApprDep(false);\r\n    });\r\n  }\r\n\r\n  const depositAmountTokenFarmSingleTx = async () => {\r\n    if (txInProgressDep || !approveDeposit) {\r\n      return\r\n    }\r\n\r\n    setTxInProgressDep(true)\r\n\r\n    var signer = library.getSigner(account);\r\n    let epnsToken = new ethers.Contract(tokenAddress, abis.epnsToken, signer);\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, signer);\r\n    console.log(depositAmountToken);\r\n\r\n    const tx2 = staking.deposit(\r\n      tokenAddress,\r\n      ethers.BigNumber.from(depositAmountToken).mul(\r\n        ethers.BigNumber.from(10).pow(18)\r\n      )\r\n    );\r\n\r\n    tx2\r\n      .then(async (tx) => {\r\n        let txToast = toast.dark(\r\n          <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            autoClose: false,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          getPoolStats();\r\n          getPUSHPoolStats(pushPoolStats);\r\n          getUserData();\r\n\r\n          setTxInProgressDep(false);\r\n          setShowDepSlip(true);\r\n          // window.location.reload();\r\n        } catch (e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setTxInProgressDep(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        toast.dark(\"Transaction Cancelled!\", {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgressDep(false);\r\n      });\r\n  };\r\n\r\n  const withdrawAmountTokenFarmAutomatic = async () => {\r\n    if (txInProgressWithdraw) {\r\n      return;\r\n    }\r\n\r\n    setTxInProgressWithdraw(true);\r\n    const withdrawAmount = formatTokens(userData.epochStakeNext);\r\n\r\n    if (withdrawAmount == 0) {\r\n      toast.dark(\"Nothing to Withdraw!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressWithdraw(false);\r\n      return;\r\n    }\r\n\r\n    var signer = library.getSigner(account);\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, signer);\r\n\r\n    const tx = staking.withdraw(\r\n      tokenAddress,\r\n      ethers.BigNumber.from(withdrawAmount).mul(\r\n        ethers.BigNumber.from(10).pow(18)\r\n      )\r\n    );\r\n\r\n    tx.then(async (tx) => {\r\n      let txToast = toast.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressWithdraw(false);\r\n\r\n        getPoolStats();\r\n        getPUSHPoolStats(pushPoolStats);\r\n        getUserData();\r\n      } catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressWithdraw(false);\r\n      }\r\n    }).catch((err) => {\r\n      toast.dark(\"Transaction Cancelled!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressWithdraw(false);\r\n    });\r\n  };\r\n\r\n  const harvestTokens = async () => {\r\n    var signer = library.getSigner(account);\r\n    let yieldFarmingPUSH = new ethers.Contract(\r\n      poolAddress,\r\n      abis.yieldFarming,\r\n      signer\r\n    );\r\n\r\n    if (harvestEpochValue) {\r\n      const tx = yieldFarmingPUSH.harvest(harvestEpochValue);\r\n      tx.then(async (tx) => {\r\n        let txToast = toast.dark(\r\n          <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n          {\r\n            position: \"bottom-right\",\r\n            autoClose: false,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          }\r\n        );\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        } catch (e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n      }).catch((err) => {\r\n        toast.dark(\"Transaction Cancelled!\", {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  const massHarvestTokensAll = async () => {\r\n    if (txInProgressMassHarvest) {\r\n      return;\r\n    }\r\n\r\n    if (!pushPoolStats.currentEpochPUSH || pushPoolStats.currentEpochPUSH == 1) {\r\n      toast.dark(\"Harvest unlocks from Epoch 2!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      return;\r\n    }\r\n    setTxInProgressMassHarvest(true);\r\n\r\n    console.log(poolAddress);\r\n\r\n    var signer = library.getSigner(account);\r\n    let yieldFarmingPUSH = new ethers.Contract(\r\n      poolAddress,\r\n      abis.yieldFarming,\r\n      signer\r\n    );\r\n    const tx = yieldFarmingPUSH.massHarvest();\r\n\r\n\r\n    tx.then(async (tx) => {\r\n      let txToast = toast.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressMassHarvest(false);\r\n      } catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        setTxInProgressMassHarvest(false);\r\n      }\r\n    }).catch((err) => {\r\n      toast.dark(\"Transaction Cancelled!\", {\r\n        position: \"bottom-right\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n\r\n      setTxInProgressMassHarvest(false);\r\n    });\r\n  };\r\n\r\n  const formatTokens = (tokens) => {\r\n    if (tokens) {\r\n      return tokens.div(ethers.BigNumber.from(10).pow(18)).toString();\r\n    }\r\n  };\r\n\r\n  function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Item margin=\"20px\" align=\"stretch\" self=\"stretch\" border=\"1px solid #e1e1e1\" radius=\"12px\">\r\n        <Item>\r\n          <Item>\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"} size=\"0.8em\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">{poolName}</Span>\r\n            </H2>\r\n            <Item\r\n              align=\"flex-end\"\r\n              self=\"stretch\"\r\n            >\r\n              <H3>\r\n                <Span>Current APR </Span><Span bg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"} padding=\"2px 8px\" weight=\"600\" color=\"#fff\"><b>{pushPoolStats.stakingAPR}%</b></Span>\r\n              </H3>\r\n            </Item>\r\n          </Item>\r\n\r\n          <ItemH margin=\"10px 0px 0px 0px\" self=\"stretch\" items=\"stretch\" bg=\"#f1f1f1\">\r\n            <PoolContainer bg=\"#fff\" margin=\"5px 15px\" radius=\"12px\" border=\"1px solid #ddd\" borderBottom=\"8px solid #e1e1e1\">\r\n              <PoolBoxTitle margin=\"15px 10px\" fg=\"#999\" textTransform=\"uppercase\" size=\"10px\" spacing=\"0.2em\">Current Reward</PoolBoxTitle>\r\n              <PoolBoxMsg\r\n                bg=\"transparent\"\r\n                fg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"}\r\n                size=\"16px\"\r\n                margin=\"-15px 5px 10px 5px\"\r\n              >\r\n                {numberWithCommas(formatTokens(pushPoolStats.rewardForCurrentEpoch))} PUSH\r\n              </PoolBoxMsg>\r\n            </PoolContainer>\r\n\r\n            <PoolContainer bg=\"#fff\" margin=\"5px 15px\" radius=\"12px\" border=\"1px solid #ddd\" borderBottom=\"8px solid #e1e1e1\">\r\n              <PoolBoxTitle margin=\"15px 10px\" fg=\"#999\" textTransform=\"uppercase\" size=\"10px\" spacing=\"0.2em\">Total Staked</PoolBoxTitle>\r\n              <PoolBoxMsg\r\n                bg=\"transparent\"\r\n                fg={poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"#35c5f3\" : \"#e20880\"}\r\n                size=\"16px\"\r\n                margin=\"-15px 5px 10px 5px\"\r\n              >\r\n                {numberWithCommas(formatTokens(pushPoolStats.poolBalance))} {poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"UNI-V2\" : \"PUSH\"}\r\n              </PoolBoxMsg>\r\n            </PoolContainer>\r\n          </ItemH>\r\n\r\n          <Item\r\n            self=\"stretch\"\r\n            align=\"flex-end\"\r\n            margin=\"0px 0px 10px 0px\"\r\n          >\r\n            <EpochDisplayer>\r\n              <Span padding=\"0px 5px 0px 0px\">Current Epoch</Span><B>{pushPoolStats.currentEpochPUSH.toString()}/{pushPoolStats.totalEpochPUSH}</B>\r\n            </EpochDisplayer>\r\n          </Item>\r\n        </Item>\r\n\r\n        <Item padding=\"10px 20px 0px 20px\" align=\"stretch\" self=\"stretch\">\r\n          <ItemH margin=\"0px\">\r\n            <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n              <PoolBoxTitle>User Deposit</PoolBoxTitle>\r\n              <PoolBoxMsg>{formatTokens(userData.epochStakeNext)} {poolName == \"Uniswap LP Pool (UNI-V2)\" ? \"UNI-V2\" : \"PUSH\"}</PoolBoxMsg>\r\n            </Item>\r\n\r\n            <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n              <PoolBoxTitle>Rewards Claimed <InfoTooltip title={\"The total rewards you have already claimed from the pool. This includes all the rewards including the ones already harvested.\"} /></PoolBoxTitle>\r\n              <PoolBoxMsg>{(userData.totalAccumulatedReward - userData.totalAvailableReward).toFixed(2)} PUSH</PoolBoxMsg>\r\n            </Item>\r\n          </ItemH>\r\n\r\n          <ItemH margin=\"0px\">\r\n            <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n              <PoolBoxTitle>Current Epoch Reward <InfoTooltip title={\"This is only an estimation for the user's reward that they might get after the epoch. This might change depending upon deposits from other users.\"} /></PoolBoxTitle>\r\n              <PoolBoxMsg>{userData.potentialUserReward} PUSH</PoolBoxMsg>\r\n            </Item>\r\n\r\n            <Item bg=\"#000\" margin=\"5px 10px\" radius=\"12px\">\r\n              <PoolBoxTitle>Available for Harvest <InfoTooltip title={\"The rewards that are currently available for harvesting and can be immediately transferred to your address.\"} /></PoolBoxTitle>\r\n              <PoolBoxMsg>{userData.totalAvailableReward} PUSH</PoolBoxMsg>\r\n            </Item>\r\n          </ItemH>\r\n        </Item>\r\n\r\n        {showDepositItem &&\r\n          <Item bg=\"#ddd\" radius=\"12px\" margin=\"20px 0px -10px 0px\" padding=\"10px 20px\" align=\"stretch\" self=\"stretch\">\r\n\r\n            {!showDepSlip &&\r\n              <>\r\n                <Item>\r\n                  <MaxButton\r\n                    bg=\"#000\"\r\n                    onClick={fillMax}\r\n                    position=\"absolute\"\r\n                  >\r\n                    Max\r\n                  </MaxButton>\r\n\r\n                  <Input\r\n                    placeholder=\"Number of Tokens\"\r\n                    radius=\"4px\"\r\n                    padding=\"12px\"\r\n                    self=\"stretch\"\r\n                    bg=\"#fff\"\r\n                    value={depositAmountToken}\r\n                    onChange={(e) => {\r\n                      setDepositAmountToken(parseInt(e.target.value.replace(/\\D/, '')) || 0)\r\n                    }}\r\n                  />\r\n                </Item>\r\n\r\n                <ItemH>\r\n                  <ButtonAlt\r\n                    bg={depositApproved ? \"#999\" : \"#e20880\"}\r\n                    onClick={approveDeposit}\r\n                    disabled={depositApproved ? true : false}\r\n                  >\r\n                    {!depositApproved && !txInProgressApprDep &&\r\n                      <Span color=\"#fff\" weight=\"400\">Approve</Span>\r\n                    }\r\n                    {txInProgressApprDep && !depositApproved &&\r\n                      <Oval\r\n                        color=\"#fff\"\r\n                        height={12}\r\n                        width={12}\r\n                      />\r\n                    }\r\n                    {!txInProgress && depositApproved &&\r\n                      <Span color=\"#fff\" weight=\"600\">Approved</Span>\r\n                    }\r\n                  </ButtonAlt>\r\n                  <ButtonAlt\r\n                    bg={!depositApproved ? \"#999\" : \"#e20880\"}\r\n                    disabled={!depositApproved ? true : false}\r\n                    onClick={depositAmountTokenFarmSingleTx}\r\n                  >\r\n                    {!txInProgressDep &&\r\n                      <Span color=\"#fff\" weight=\"400\">Deposit</Span>\r\n                    }\r\n                    {txInProgressDep &&\r\n                      <Oval\r\n                        color=\"#fff\"\r\n                        height={12}\r\n                        width={12}\r\n                      />\r\n                    }\r\n                  </ButtonAlt>\r\n                </ItemH>\r\n              </>\r\n            }\r\n\r\n            {showDepSlip &&\r\n              <Span\r\n                bg=\"#e20880\"\r\n                color=\"#fff\"\r\n                align=\"center\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.1em\"\r\n                size=\"14px\"\r\n                weight=\"600\"\r\n                padding=\"10px\"\r\n                self=\"stretch\"\r\n              >\r\n                Deposit Successful!\r\n              </Span>\r\n            }\r\n\r\n          </Item>\r\n        }\r\n\r\n        <ItemH padding=\"0px 20px 0px 20px\" margin=\"20px 0px 20px 0px\" align=\"center\" self=\"stretch\">\r\n          {!showDepositItem &&\r\n            <ButtonAlt\r\n              bg=\"#e20880\"\r\n              onClick={() => setShowDepositItem(!showDepositItem)}\r\n            >\r\n              {!txInProgressDep &&\r\n                <Span color=\"#fff\" weight=\"400\">Deposit</Span>\r\n              }\r\n              {txInProgressApprDep &&\r\n                <Oval\r\n                  color=\"#fff\"\r\n                  height={12}\r\n                  width={12}\r\n                />\r\n              }\r\n            </ButtonAlt>\r\n          }\r\n\r\n          <ButtonAlt\r\n            bg=\"#000\"\r\n            onClick={() => withdrawAmountTokenFarmAutomatic()}\r\n          >\r\n            {!txInProgressWithdraw &&\r\n              <Span color=\"#fff\" weight=\"400\">Withdraw</Span>\r\n            }\r\n            {txInProgressWithdraw &&\r\n              <Oval\r\n                color=\"#fff\"\r\n                height={12}\r\n                width={12}\r\n              />\r\n            }\r\n          </ButtonAlt>\r\n\r\n          <ButtonAlt\r\n            bg=\"#000\"\r\n            onClick={() => massHarvestTokensAll()}\r\n          >\r\n            {!txInProgressMassHarvest &&\r\n              <Span color=\"#fff\" weight=\"400\">Harvest</Span>\r\n            }\r\n            {txInProgressMassHarvest &&\r\n              <Oval\r\n                color=\"#fff\"\r\n                height={12}\r\n                width={12}\r\n              />\r\n            }\r\n          </ButtonAlt>\r\n        </ItemH>\r\n      </Item>\r\n    </>\r\n  );\r\n}\r\n\r\n// toast customize\r\nconst LoaderToast = ({ msg, color }) => (\r\n  <Toaster>\r\n    <Oval color={color} height={30} width={30} />\r\n    <ToasterMsg>{msg}</ToasterMsg>\r\n  </Toaster>\r\n);\r\n\r\n\r\nconst MaxButton = styled(Button)`\r\n  position: absolute;\r\n  right: 0;\r\n  padding: 4px 8px;\r\n  margin: 5px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  letter-spacing: 0.1em;\r\n`\r\n\r\nconst PoolContainer = styled(Item)`\r\n  border-bottom: ${props => props.borderBottom || \"none\"};\r\n`\r\n\r\nconst PoolBoxTitle = styled(Span)`\r\n  background: ${props => props.bg || 'transparent'};\r\n  color: ${props => props.fg || '#fff'};\r\n  font-weight: 600;\r\n  font-size: ${props => props.size || '12px'};\r\n  margin: ${props => props.margin || '10px 5px'};\r\n  letter-spacing: 0.1em;\r\n`\r\n\r\nconst PoolBoxMsg = styled(Span)`\r\n  background: ${props => props.bg || '#fff'};\r\n  color: ${props => props.fg || '#000'};\r\n  font-weight: 600;\r\n  font-size: ${props => props.size || '12px'};\r\n  margin: ${props => props.margin || '5px 5px 10px 5px'};\r\n  letter-spacing: 0.1em;\r\n  padding: 4px 15px;\r\n  border-radius: 10px;\r\n`\r\n\r\nconst Container = styled.div`\r\n  padding: 18px;\r\n  background: #fff;\r\n  flex: 1;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  margin: 10px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n  }\r\n`;\r\n\r\nconst MainTitle = styled.h2`\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst Heading = styled.h5`\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst EpochDisplayer = styled(Span)`\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n  font-size: 12px;\r\n  background: #f1f1f1;\r\n  padding: 0px 10px 0px 10px;\r\n  position: relative;\r\n  height: 23px;\r\n  align-items: center;\r\n  text-align: center;\r\n  display: flex;\r\n\r\n  &:after {\r\n    width: 0;\r\n    height: 0;\r\n    border-top: 0px solid transparent;\r\n    border-bottom: 25px solid transparent;\r\n    border-right: 10px solid #f1f1f1;\r\n    left: -10px;\r\n    content: '';\r\n    position: absolute;\r\n  }\r\n`\r\n\r\nconst ButtonAlt = styled(Button)`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n","import React, { useState } from \"react\";\r\n\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { Section, Content, Item, ItemH, Span } from '../primaries/SharedStyling';\r\n\r\nimport { Oval } from \"react-loader-spinner\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport YieldFarmingDataStore from \"singletons/YieldFarmingDataStore\";\r\nimport PoolCard from \"components/PoolCard\";\r\n\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\n\r\nconst ethers = require(\"ethers\");\r\n\r\n// Create Header\r\nfunction YieldFarmingPage() {\r\n  const { account, library, chainId } = useWeb3React();\r\n  const onCoreNetwork = chainId === envConfig.coreContractChain;\r\n\r\n  const themes = useTheme();\r\n\r\n  const [poolStats, setPoolStats] = React.useState(null);\r\n  const [pushPoolStats, setPushPoolStats] = React.useState(null);\r\n  const [lpPoolStats, setLpPoolStats] = React.useState(null);\r\n  const [userDataPUSH, setUserDataPUSH] = React.useState(null);\r\n  const [userDataLP, setUserDataLP] = React.useState(null);\r\n\r\n  const [formattedDuration, setFormattedDuration] = React.useState(\"\");\r\n\r\n  const [epnsToken, setEpnsToken] = React.useState(null);\r\n  const [staking, setStaking] = React.useState(null);\r\n  const [yieldFarmingPUSH, setYieldFarmingPUSH] = React.useState(null);\r\n  const [yieldFarmingLP, setYieldFarmingLP] = React.useState(null);\r\n  const [uniswapV2Router02, setUniswapV2Router02] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    if (!onCoreNetwork) {\r\n      const url = window.location.origin;\r\n      window.location.replace(`${url}/#/notavailable`);\r\n    }\r\n  })\r\n\r\n  const getPoolStats = React.useCallback(async () => {\r\n    const poolStats = await YieldFarmingDataStore.instance.getPoolStats();\r\n\r\n    setPoolStats({ ...poolStats });\r\n  }, [epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02]);\r\n\r\n  const getPUSHPoolStats = React.useCallback(async () => {\r\n    const pushPoolStats = await YieldFarmingDataStore.instance.getPUSHPoolStats();\r\n\r\n    setPushPoolStats({ ...pushPoolStats });\r\n  }, [epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02]);\r\n\r\n  const getLPPoolStats = React.useCallback(async (poolStats) => {\r\n    const lpPoolStats = await YieldFarmingDataStore.instance.getLPPoolStats(poolStats);\r\n\r\n    setLpPoolStats({ ...lpPoolStats });\r\n  }, [epnsToken, staking, yieldFarmingPUSH, yieldFarmingLP, uniswapV2Router02]);\r\n\r\n  const getUserDataPUSH = React.useCallback(async () => {\r\n    const userDataPUSH = await YieldFarmingDataStore.instance.getUserData(yieldFarmingPUSH);\r\n\r\n    setUserDataPUSH({ ...userDataPUSH });\r\n  }, [yieldFarmingPUSH]);\r\n\r\n  const getUserDataLP = React.useCallback(async () => {\r\n    const userDataLP = await YieldFarmingDataStore.instance.getUserData(yieldFarmingLP);\r\n\r\n    setUserDataLP({ ...userDataLP });\r\n  }, [yieldFarmingLP]);\r\n\r\n  const formatTokens = (tokens) => {\r\n    if (tokens) {\r\n      return tokens.div(ethers.BigNumber.from(10).pow(18)).toString();\r\n    }\r\n  };\r\n\r\n  const getFormattedDuration = () => {\r\n    if (poolStats?.epochEndTimestamp) {\r\n      const epochEndTimestamp = poolStats.epochEndTimestamp.toNumber();\r\n\r\n      const duration = epochEndTimestamp - Math.floor(new Date() / 1000);\r\n\r\n      if (duration < 0) {\r\n        getPoolStats()\r\n      }\r\n\r\n      const day = parseInt(duration / 86400);\r\n      const hour = parseInt((duration - day * 86400) / 3600);\r\n\r\n      const minutes = parseInt((duration - (day * 86400 + hour * 3600)) / 60);\r\n      const seconds = duration - (day * 86400 + hour * 3600 + minutes * 60);\r\n\r\n      setFormattedDuration(`${day}D ${hour}H ${minutes}M ${seconds}S`);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(() => {\r\n      getFormattedDuration();\r\n    }, 1000);\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let epnsToken = new ethers.Contract(\r\n      addresses.epnsToken,\r\n      abis.epnsToken,\r\n      library\r\n    );\r\n\r\n    let staking = new ethers.Contract(addresses.staking, abis.staking, library);\r\n    let yieldFarmingPUSH = new ethers.Contract(\r\n      addresses.yieldFarmPUSH,\r\n      abis.yieldFarming,\r\n      library\r\n    );\r\n\r\n    let yieldFarmingLP = new ethers.Contract(\r\n      addresses.yieldFarmLP,\r\n      abis.yieldFarming,\r\n      library\r\n    );\r\n\r\n    let uniswapV2Router02Instance = new ethers.Contract(\r\n      addresses.uniswapV2Router02,\r\n      abis.uniswapV2Router02,\r\n      library\r\n    );\r\n\r\n    setEpnsToken(epnsToken);\r\n    setStaking(staking);\r\n    setYieldFarmingPUSH(yieldFarmingPUSH);\r\n    setYieldFarmingLP(yieldFarmingLP);\r\n    setUniswapV2Router02(uniswapV2Router02Instance)\r\n\r\n    if (!!(library && account)) {\r\n      var signer = library.getSigner(account);\r\n\r\n      let epnsToken = new ethers.Contract(\r\n        addresses.epnsToken,\r\n        abis.epnsToken,\r\n        signer\r\n      );\r\n      let staking = new ethers.Contract(\r\n        addresses.staking,\r\n        abis.staking,\r\n        signer\r\n      );\r\n      let yieldFarmingPUSH = new ethers.Contract(\r\n        addresses.yieldFarmPUSH,\r\n        abis.yieldFarming,\r\n        signer\r\n      );\r\n      let yieldFarmingLP = new ethers.Contract(\r\n        addresses.yieldFarmLP,\r\n        abis.yieldFarming,\r\n        signer\r\n      );\r\n\r\n      let uniswapV2Router02Instance = new ethers.Contract(\r\n        addresses.uniswapV2Router02,\r\n        abis.uniswapV2Router02,\r\n        signer\r\n      );\r\n\r\n      setEpnsToken(epnsToken);\r\n      setStaking(staking);\r\n      setYieldFarmingPUSH(yieldFarmingPUSH);\r\n      setYieldFarmingLP(yieldFarmingLP);\r\n      setUniswapV2Router02(uniswapV2Router02Instance);\r\n    }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if (epnsToken != null && staking != null && yieldFarmingPUSH != null) {\r\n      // Instantiate Data Stores\r\n      YieldFarmingDataStore.instance.init(\r\n        account,\r\n        epnsToken,\r\n        staking,\r\n        yieldFarmingPUSH,\r\n        yieldFarmingLP,\r\n        uniswapV2Router02\r\n      );\r\n\r\n      getPoolStats();\r\n\r\n      // setpoolStats(YieldFarmingDataStore.instance.state);\r\n    }\r\n  }, [getPoolStats]);\r\n\r\n  React.useEffect(() => {\r\n    if (poolStats) {\r\n      syncData(poolStats);\r\n    }\r\n\r\n  }, [poolStats]);\r\n\r\n  const syncData = async (poolStats) => {\r\n    getPUSHPoolStats();\r\n    getLPPoolStats(poolStats);\r\n\r\n    getUserDataPUSH();\r\n    getUserDataLP();\r\n  }\r\n\r\n  function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section>\r\n        {poolStats ? (\r\n          <>\r\n            <Content themes={themes.yieldBg}>\r\n              <ItemH margin=\"0px 15px 0px 15px\" align=\"stretch\">\r\n                <StatsCard\r\n                  bg={themes.mainBg}\r\n                >\r\n                  <StatsHeading bg=\"#e20880\">Total Value Locked</StatsHeading>\r\n                  <StatsContent>\r\n                    <StatsInnerTitle>{`$ ${numberWithCommas(poolStats.totalValueLocked.toFixed(2))}`}</StatsInnerTitle>\r\n                  </StatsContent>\r\n                  <StatsPreview color=\"#e20880\">TVL</StatsPreview>\r\n                </StatsCard>\r\n\r\n                <StatsCard\r\n                  bg={themes.mainBg}\r\n                >\r\n                  <StatsHeading bg=\"#35c5f3\">PUSH Rewards Given</StatsHeading>\r\n                  <StatsContent>\r\n                    <StatsInnerTitle>{numberWithCommas(formatTokens(poolStats.pushRewardsDistributed))}</StatsInnerTitle>\r\n                    <StatsInnerSub>out of {numberWithCommas(formatTokens(poolStats.totalDistributedAmount))}</StatsInnerSub>\r\n                  </StatsContent>\r\n                  <StatsPreview color=\"#35c5f3\">Rewarded</StatsPreview>\r\n                </StatsCard>\r\n\r\n                <StatsCard\r\n                  bg={themes.mainBg}\r\n                >\r\n                  <StatsHeading bg=\"#674c9f\">Time Left</StatsHeading>\r\n                  <StatsContent>\r\n                    <StatsInnerTitle>{formattedDuration}</StatsInnerTitle>\r\n                    <StatsInnerSub>until next epoch</StatsInnerSub>\r\n                  </StatsContent>\r\n                  <StatsPreview color=\"#674c9f\">time left</StatsPreview>\r\n                </StatsCard>\r\n\r\n                <StatsCard\r\n                  bg={themes.mainBg}\r\n                >\r\n                  <StatsHeading bg={themes.pushPriceBg}>PUSH Price</StatsHeading>\r\n                  <StatsContent>\r\n                    <StatsInnerTitle>{`$ ${poolStats.pushPrice.toFixed(2)}`}</StatsInnerTitle>\r\n                    <StatsInnerSub>\r\n                      <a target=\"_blank\" href={`https://app.uniswap.org/#/swap?inputCurrency=${addresses.epnsToken}`}>Uniswap</a>\r\n                    </StatsInnerSub>\r\n                  </StatsContent>\r\n                  <StatsPreview color=\"#000\">UNISWAP</StatsPreview>\r\n                </StatsCard>\r\n              </ItemH>\r\n            </Content>\r\n\r\n            {!(lpPoolStats && userDataLP) && !(pushPoolStats && userDataPUSH)\r\n              ? <Item padding=\"20px\">\r\n                <Oval color=\"#35c5f3\" height={40} width={40} />\r\n              </Item>\r\n              : <Content padding=\"25px 0px\">\r\n                <ItemH margin=\"0px 10px 0px 10px\" align=\"stretch\">\r\n                  {\r\n                    lpPoolStats && userDataLP ? (\r\n                      <PoolCard\r\n                        poolName={'Uniswap LP Pool (UNI-V2)'}\r\n                        poolAddress={addresses.yieldFarmLP}\r\n                        tokenAddress={addresses.epnsLPToken}\r\n                        getPoolStats={getPoolStats}\r\n                        getPUSHPoolStats={getLPPoolStats}\r\n                        getUserData={getUserDataLP}\r\n                        pushPoolStats={lpPoolStats}\r\n                        userData={userDataLP}\r\n                      />\r\n                    ) : null\r\n                  }\r\n                  {\r\n                    pushPoolStats && userDataPUSH ? (\r\n                      <PoolCard\r\n                        poolName={'Staking Pool (PUSH)'}\r\n                        poolAddress={addresses.yieldFarmPUSH}\r\n                        tokenAddress={addresses.epnsToken}\r\n                        getPoolStats={getPoolStats}\r\n                        getPUSHPoolStats={getPUSHPoolStats}\r\n                        getUserData={getUserDataPUSH}\r\n                        pushPoolStats={pushPoolStats}\r\n                        userData={userDataPUSH}\r\n                      />\r\n                    ) : null\r\n                  }\r\n                </ItemH>\r\n              </Content>\r\n            }\r\n          </>\r\n        ) : (\r\n          <Item padding=\"20px\">\r\n            <Oval color=\"#e20880\" height={40} width={40} />\r\n          </Item>\r\n        )}\r\n      </Section>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - 100px);\r\n`\r\n\r\nconst StatsCard = styled(Item)`\r\n  overflow: hidden;\r\n  min-width: 180px;\r\n\r\n  border-radius: 12px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  margin: 0px 15px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n  }\r\n`;\r\n\r\nconst CenterHeading = styled.h2`\r\n  text-align: center;\r\n`;\r\n\r\nconst PoolContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst StatsHeading = styled(Item)`\r\n  flex: 0;\r\n  align-self: stretch;\r\n  color: #fff;\r\n  top: 0px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n  font-size: 15px;\r\n  text-align: center;\r\n  padding: 10px 5px;\r\n  right: 0;\r\n  left: 0;\r\n`\r\n\r\nconst StatsContent = styled(Item)`\r\n  padding: 20px 20px;\r\n`\r\n\r\nconst StatsPreview = styled(Span)`\r\n  position: absolute;\r\n  bottom: 5px;\r\n  right: 10px;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  opacity: 0.25;\r\n  letter-spacing:0.1em;\r\n  text-transform: uppercase;\r\n  color: ${props => props.color || '#000'};\r\n  z-index: -1;\r\n`\r\n\r\nconst StatsInnerTitle = styled.span`\r\n  font-weight: bold;\r\n  font-size: 22px;\r\n  letter-spacing: 0.1em;\r\n`;\r\n\r\nconst StatsInnerSub = styled.span`\r\n  font-size: 12px;\r\n  color: #999;\r\n  font-weight: 600;\r\n  align-self: flex-end;\r\n`;\r\n\r\n// Export Default\r\nexport default YieldFarmingPage;\r\n","// FeedDB Helper Function\r\nconst NFTHelper = {\r\n  getNFTBalance: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      if(contract){\r\n        contract.balanceOf(user)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getNFTBalance() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getNFTBalance() --> %o\", err);\r\n          reject(err);\r\n        });\r\n\r\n      }\r\n      \r\n    })\r\n  },\r\n\r\n  getTotalSupply: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.totalSupply()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getNFTBalance() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getNFTBalance() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getOwnerOfTokenId: async (tokenId, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.ownerOf(tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getOwnerOfTokenId() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getOwnerOfTokenId() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenOfOwnerByIndex: async (user, index, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.tokenOfOwnerByIndex(user, index)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTokenOfOwnerByIndex() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTokenOfOwnerByIndex() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenByIndex: async (index, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.tokenByIndex(index)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTokenByIndex() --> %o\", response);\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTokenByIndex() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenMetadata: async (tokenId, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.tokenURI(tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTokenMetadata() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTokenMetadata() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getTokenMetadatasOfOwner: async (owner, nftContract, rewardsContract) => {\r\n    const enableLogs = 1;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      NFTHelper.getNFTBalance(owner, nftContract)\r\n      .then(async (balance) => {\r\n        // const balance = await res\r\n        let NFTDetails = []\r\n        let promises = []\r\n      \r\n      for(let i=0; i<balance; i++){\r\n        promises.push(NFTHelper.getTokenOfOwnerByIndex(owner, i, nftContract)\r\n        .then(async tokenId => {\r\n            await NFTHelper.getClaimable(tokenId, rewardsContract)\r\n            .then(async claimable => {\r\n              console.log(\"🚀 ~ file: NFTHelper.js ~ line 102 ~ .then ~ claimable\", claimable)\r\n\r\n              await NFTHelper.getTokenMetadata(tokenId, nftContract)\r\n              .then(async metadata => {\r\n                if(tokenId != null && metadata != null && claimable != null )\r\n                NFTDetails.push({id: tokenId, metadata, claimable})\r\n\r\n              })\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getClaimable() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }))\r\n      }\r\n      // // wait until all promises are resolved\r\n      await Promise.all(promises);\r\n      console.log(\"🚀 ~ file: NFTHelper.js ~ line 83 ~ .then ~ NFTDetails\", NFTDetails)\r\n      resolve(NFTDetails);\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(\"!!!Error, getTokenMetadatasOfOwner() --> %o\", err);\r\n        reject(err);\r\n      });\r\n        \r\n    })\r\n  },\r\n\r\n  getAllTokenDatas: async (nftContract, rewardsContract) => {\r\n    const enableLogs = 1;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      NFTHelper.getNFTBalance(nftContract)\r\n      .then(async (totalSupply) => {\r\n        let NFTDetails = []\r\n        let promises = []\r\n      \r\n      for(let i=0; i<totalSupply; i++){\r\n        promises.push(NFTHelper.getTokenByIndex(i, nftContract)\r\n        .then(async tokenId => {\r\n            await NFTHelper.getClaimable(tokenId, rewardsContract)\r\n            .then(async claimable => {\r\n              await NFTHelper.getTokenMetadata(tokenId, nftContract)\r\n              .then(async metadata => {\r\n                await NFTHelper.getOwnerOfTokenId(tokenId, nftContract)\r\n                .then(async owner => {\r\n                  if(tokenId != null && metadata != null && claimable != null && owner != null )\r\n                  NFTDetails.push({id: tokenId, metadata, owner, claimable})\r\n                })\r\n                .catch(err => {\r\n                  console.log(\"!!!Error, getAllTokenDatas::getOwnerOfTokenId() --> %o\", err);\r\n                  reject(err);\r\n                })\r\n              })\r\n              .catch(err => {\r\n                console.log(\"!!!Error, getAllTokenDatas::getTokenMetadata() --> %o\", err);\r\n                reject(err);\r\n              })\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getAllTokenDatas::getClaimable() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getAllTokenDatas::getTokenByIndex() --> %o\", err);\r\n          reject(err);\r\n        })\r\n        )\r\n      }\r\n      // // wait until all promises are resolved\r\n      await Promise.all(promises);\r\n      console.log(\"🚀 ~ file: NFTHelper.js ~ line 83 ~ .then ~ NFTDetails\", NFTDetails)\r\n      resolve(NFTDetails);\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(\"!!!Error, getAllTokenDatas() --> %o\", err);\r\n        reject(err);\r\n      });\r\n        \r\n    })\r\n  },\r\n\r\n  getTokenData: async (tokenId, nftContract, rewardsContract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n             NFTHelper.getClaimable(tokenId, rewardsContract)\r\n            .then(async claimable => {\r\n              await NFTHelper.getTokenMetadata(tokenId, nftContract)\r\n              .then(async metadata => {\r\n                await NFTHelper.getOwnerOfTokenId(tokenId, nftContract)\r\n                .then(async owner => {\r\n                  if(tokenId != null && metadata != null && claimable != null && owner != null )\r\n                  resolve({id: tokenId, metadata, owner, claimable});\r\n                })\r\n              })\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getTokenData() --> %o\", err);\r\n              reject(err);\r\n            });\r\n    })\r\n  },\r\n\r\n  transferNFT: async (from, to, tokenId, contract) => {\r\n    const enableLogs = 1;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.safeTransferFrom(from, to, tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"transferNFT() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, transferNFT() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  getClaimable: async (tokenId, contract) => {\r\n    \r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      if(contract){\r\n        contract.getClaimRewardStatus(tokenId)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getClaimable() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getClaimable() --> %o\", err);\r\n          reject(err);\r\n        });\r\n\r\n      }\r\n      \r\n    })\r\n  },\r\n\r\n}\r\n\r\nexport default NFTHelper;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from \"styled-components\";\r\nimport { Item, ItemH } from '../primaries/SharedStyling';\r\n\r\nimport { Device } from 'assets/Device';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { Oval } from 'react-loader-spinner';\r\n\r\nimport Skeleton from '@yisheng90/react-loading';\r\nimport { IoIosGift } from 'react-icons/io';\r\n\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\n\r\nimport ReactPlayer from 'react-player';\r\n\r\n// Create Header\r\nfunction ViewNFTItem({ NFTObject, setControlAt, setTokenId }) {\r\n  const { account, library, chainId } = useWeb3React();\r\n\r\n  const [NFTRewardsContract, setNFTRewardsContract] = React.useState(null);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n\r\n  const onMainnetCore = chainId === envConfig.mainnetCoreContractChain;\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const NFTRewardsInstance = new ethers.Contract(addresses.NFTRewards, abis.NFTRewards, signer);\r\n      setNFTRewardsContract(NFTRewardsInstance);\r\n    }\r\n  }, [account, library]);\r\n\r\n  React.useEffect(() => {\r\n    if (NFTObject) {\r\n      setLoading(false);\r\n    }\r\n  }, [account, NFTObject]);\r\n\r\n  // to claim\r\n  const handleClaim = async (tokenId) => {\r\n    if (NFTRewardsContract) {\r\n      setTxInProgress(true)\r\n      let sendWithTxPromise\r\n      sendWithTxPromise = await NFTRewardsContract.claimReward(tokenId)\r\n      const tx = await sendWithTxPromise;\r\n\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />, {\r\n        position: \"bottom-right\",\r\n        autoClose: false,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Oval\r\n        color={color}\r\n        height={30}\r\n        width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  // render\r\n  return (\r\n    <Item\r\n      key={NFTObject.id}\r\n    >\r\n      <ChannelLogo\r\n        theme={\r\n          !!account && !!library && account == NFTObject.owner ?\r\n            \"#e20880\" :\r\n            !!account && !!library && NFTObject.owner != 0xFbA7Df351ADD4E79099f63E33b2679EDFDD5e2aB ?\r\n              \"#eee\" :\r\n              \"#fff\"\r\n        }\r\n      >\r\n        <ChannelLogoOuter>\r\n          <ChannelLogoInner>\r\n            {loading &&\r\n              <Skeleton color=\"#eee\" width=\"100%\" height=\"100%\" />\r\n            }\r\n            {!loading &&\r\n              <ReactPlayer url={`https://ipfs.io/ipfs/${NFTObject.metadata}`} controls={true} playing={false} loop={true} />\r\n            }\r\n            {!!account && !!library && NFTObject.owner != 0xFbA7Df351ADD4E79099f63E33b2679EDFDD5e2aB &&\r\n              <NFTStatus>\r\n                <IoIosGift size={20} color=\"#fff\" />\r\n                <NFTStatusTitle>\r\n                  Gifted\r\n                </NFTStatusTitle>\r\n              </NFTStatus>\r\n            }\r\n\r\n            {!!account && !!library && NFTObject.claimable &&\r\n              <NFTClaim>\r\n                <NFTClaimTitle>\r\n                  2400 $PUSH\r\n                </NFTClaimTitle>\r\n              </NFTClaim>\r\n            }\r\n          </ChannelLogoInner>\r\n        </ChannelLogoOuter>\r\n\r\n        {!!account && !!library &&\r\n          <ItemH>\r\n\r\n            <ChannelActions>\r\n              {loading &&\r\n                <SkeletonButton>\r\n                  <Skeleton />\r\n                </SkeletonButton>\r\n              }\r\n              {!!account && !!library && onMainnetCore && account == NFTObject.owner && !loading &&\r\n                <UnsubscribeButton >\r\n                  <ActionTitle onClick={() => {\r\n                    setTokenId(NFTObject.id)\r\n                    setControlAt(2)\r\n                  }}\r\n                  >Transfer</ActionTitle>\r\n                </UnsubscribeButton>\r\n              }\r\n              {!!account && !!library && onMainnetCore && account == NFTObject.owner && !loading &&\r\n                <UnsubscribeButton disabled={!NFTObject.claimable}>\r\n                  {txInProgress &&\r\n                    <ActionLoader>\r\n                      <Oval\r\n                        color=\"#FFF\"\r\n                        height={16}\r\n                        width={16}\r\n                      />\r\n                    </ActionLoader>\r\n                  }\r\n                  {NFTObject.claimable &&\r\n                    <ActionTitle hideit={txInProgress} onClick={() => { handleClaim(NFTObject.id) }}>Claim $PUSH</ActionTitle>\r\n                  }\r\n                  {!NFTObject.claimable &&\r\n                    <ActionTitle hideit={txInProgress} >Rewards Claimed</ActionTitle>\r\n                  }\r\n                </UnsubscribeButton>\r\n              }\r\n            </ChannelActions>\r\n          </ItemH>\r\n        }\r\n      </ChannelLogo>\r\n    </Item>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst NFTTextStyle = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n`\r\n\r\nconst NFTStatus = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst NFTStatusTitle = styled(NFTTextStyle)`\r\n  background: #35c4f3;\r\n`\r\n\r\nconst NFTClaim = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n`\r\n\r\nconst NFTClaimTitle = styled(NFTTextStyle)`\r\n  background: #e20880;\r\n`\r\n\r\nconst ChannelLogo = styled.div`\r\n  background: ${props => props.theme || '#fff'};\r\n  max-width: 25%;\r\n  min-width: 200px;\r\n  flex: 1;\r\n  margin: 5px;\r\n  padding: 10px;\r\n  border: 2px solid #fafafa;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: center;\r\n`\r\n\r\nconst ChannelLogoOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst ChannelLogoInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n`\r\n\r\nconst ChannelActions = styled.div`\r\n  margin: 5px;\r\n  flex-grow: 1;\r\n  max-width: 120px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${props => props.disabled && css`\r\n    background: #e20880;\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  font-size: 12px;\r\n  ${props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst ActionLoader = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst SkeletonButton = styled.div`\r\n  border: 0;\r\n  outline: 0;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  flex: 1;\r\n`\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #000;\r\n`\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewNFTItem;\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\nimport { Oval } from 'react-loader-spinner'\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from 'helpers/NFTHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport DisplayNotice from \"../primaries/DisplayNotice\";\r\nimport ViewNFTItem from \"components/ViewNFTItem\";\r\n\r\n// Create Header\r\nfunction MyNFTs({ controlAt, setControlAt, setTokenId }) {\r\n  const { account, library, chainId } = useWeb3React();\r\n\r\n  const [nftReadProvider, setNftReadProvider] = React.useState(null);\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [NFTRewardsContract, setNFTRewardsContract] = React.useState(null);\r\n  const [NFTObjects, setNFTObjects] = React.useState([]);\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const onMainnetCore = chainId === envConfig.mainnetCoreContractChain;\r\n\r\n  const mainnetCoreProvider = onMainnetCore\r\n    ? library\r\n    : new ethers.providers.JsonRpcProvider(envConfig.mainnetCoreRPC);\r\n\r\n  React.useEffect(() => {\r\n    if (!!(mainnetCoreProvider && account)) {\r\n      const contractInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, mainnetCoreProvider);\r\n      setNftReadProvider(contractInstance);\r\n      let signer = mainnetCoreProvider.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer);\r\n      setNftWriteProvider(signerInstance);\r\n      const NFTRewardsInstance = new ethers.Contract(addresses.NFTRewards, abis.NFTRewards, signer);\r\n      setNFTRewardsContract(NFTRewardsInstance);\r\n    }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if (nftReadProvider && NFTRewardsContract) {\r\n      fetchNFTDetails();\r\n    }\r\n  }, [account, nftReadProvider, nftWriteProvider, NFTRewardsContract]);\r\n\r\n  // to fetch NFT Details\r\n  const fetchNFTDetails = async () => {\r\n    let balance = await NFTHelper.getNFTBalance(account, nftReadProvider);\r\n    setLoading(false);\r\n    for (let i = 0; i < balance; i++) {\r\n      let tokenId = await NFTHelper.getTokenOfOwnerByIndex(account, i, nftReadProvider)\r\n      let NFTObject = await NFTHelper.getTokenData(tokenId, nftReadProvider, NFTRewardsContract)\r\n      await setNFTObjects(prev => [...prev, NFTObject])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Oval\r\n            color=\"#35c5f3\"\r\n            height={40}\r\n            width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && NFTObjects.length == 0 &&\r\n        <ContainerInfo>\r\n          <DisplayNotice\r\n            title=\"No ROCKSTAR tokens are available in your account\"\r\n            theme=\"primary\"\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n\r\n      {!loading && NFTObjects.length != 0 &&\r\n        <Items id=\"scrollstyle-secondary\">\r\n\r\n          {Object.keys(NFTObjects).map(index => {\r\n            if (NFTObjects[index].id) {\r\n              return (\r\n                <ViewNFTItem\r\n                  key={NFTObjects[index].id}\r\n                  NFTObject={NFTObjects[index]}\r\n                  nftReadProvider={nftReadProvider}\r\n                  nftWriteProvider={nftWriteProvider}\r\n                  controlAt={controlAt}\r\n                  setControlAt={setControlAt}\r\n                  setTokenId={setTokenId}\r\n                />\r\n              );\r\n            }\r\n\r\n          })}\r\n        </Items>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\n// Export Default\r\nexport default MyNFTs;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from \"styled-components\";\r\nimport { Item, ItemH } from '../primaries/SharedStyling';\r\n\r\nimport { Device } from 'assets/Device';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { Oval } from 'react-loader-spinner';\r\n\r\nimport Skeleton from '@yisheng90/react-loading';\r\nimport { IoIosGift } from 'react-icons/io';\r\n\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nimport ReactPlayer from 'react-player';\r\n\r\n// Create Header\r\nfunction ViewNFTV2Item({ NFTObject, setControlAt, setTokenId }) {\r\n  const { account, library, chainId } = useWeb3React();\r\n\r\n  const [NFTRewardsV2Contract, setNFTRewardsV2Contract] = React.useState(null);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n\r\n\r\n  const onMainnetCore = chainId === envConfig.mainnetCoreContractChain;\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n\r\n      const NFTRewardsV2Instance = new ethers.Contract(addresses.NFTRewardsV2, abis.NFTRewardsV2, signer);\r\n      setNFTRewardsV2Contract(NFTRewardsV2Instance);\r\n    }\r\n  }, [account, library]);\r\n\r\n  React.useEffect(() => {\r\n    if (NFTObject) {\r\n      setLoading(false);\r\n    }\r\n  }, [account, NFTObject]);\r\n\r\n  // to claim\r\n  const handleClaim = async (tokenId) => {\r\n    if (NFTRewardsV2Contract) {\r\n      setTxInProgress(true)\r\n      let sendWithTxPromise\r\n      sendWithTxPromise = await NFTRewardsV2Contract.claimReward(tokenId)\r\n      const tx = await sendWithTxPromise;\r\n\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />, {\r\n        position: \"bottom-right\",\r\n        autoClose: false,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Oval\r\n        color={color}\r\n        height={30}\r\n        width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  let newIp = (NFTObject.nftInfo.animation_url).replace('https://epns.mypinata.cloud/ipfs/', 'https://ipfs.io/ipfs/')\r\n\r\n  // render\r\n  return (\r\n    <Item\r\n      key={NFTObject.id}\r\n    >\r\n      <ChannelLogo\r\n        theme={\r\n          !!account && !!library && account == NFTObject.owner ?\r\n            \"#e20880\" :\r\n            !!account && !!library && NFTObject.owner != 0xce5febfD9Eb155dd7d996FC04F1d763A3a9E0020 ?\r\n              \"#eee\" :\r\n              \"#fff\"\r\n        }\r\n      >\r\n        <ChannelLogoOuter>\r\n          <ChannelLogoInner>\r\n            {loading &&\r\n              <Skeleton color=\"#eee\" width=\"100%\" height=\"100%\" />\r\n            }\r\n            {!loading &&\r\n              <ReactPlayer url={`${newIp}`} controls={true} playing={false} loop={true} />\r\n            }\r\n            {!!account && !!library && NFTObject.owner != 0xce5febfD9Eb155dd7d996FC04F1d763A3a9E0020 &&\r\n              <NFTStatus>\r\n                <IoIosGift size={20} color=\"#fff\" />\r\n                <NFTStatusTitle>\r\n                  Gifted\r\n                </NFTStatusTitle>\r\n              </NFTStatus>\r\n            }\r\n\r\n            {!!account && !!library && NFTObject.claimable &&\r\n              <NFTClaim>\r\n                <NFTClaimTitle>\r\n                  900 $PUSH\r\n                </NFTClaimTitle>\r\n              </NFTClaim>\r\n            }\r\n          </ChannelLogoInner>\r\n        </ChannelLogoOuter>\r\n\r\n        {!!account && !!library &&\r\n          <ItemH>\r\n\r\n            <ChannelActions>\r\n              {loading &&\r\n                <SkeletonButton>\r\n                  <Skeleton />\r\n                </SkeletonButton>\r\n              }\r\n              {!!account && !!library && onMainnetCore && account == NFTObject.owner && !loading &&\r\n                <UnsubscribeButton >\r\n                  <ActionTitle onClick={() => {\r\n                    setTokenId(NFTObject.id)\r\n                    setControlAt(3)\r\n                  }}\r\n                  >Transfer</ActionTitle>\r\n                </UnsubscribeButton>\r\n              }\r\n              {!!account && !!library && onMainnetCore && account == NFTObject.owner && !loading &&\r\n                <UnsubscribeButton disabled={!NFTObject.claimable}>\r\n                  {txInProgress &&\r\n                    <ActionLoader>\r\n                      <Oval\r\n                        color=\"#FFF\"\r\n                        height={16}\r\n                        width={16}\r\n                      />\r\n                    </ActionLoader>\r\n                  }\r\n                  {NFTObject.claimable &&\r\n                    <ActionTitle hideit={txInProgress} onClick={() => { handleClaim(NFTObject.id) }}>Claim $PUSH</ActionTitle>\r\n                  }\r\n                  {!NFTObject.claimable &&\r\n                    <ActionTitle hideit={txInProgress} >Rewards Claimed</ActionTitle>\r\n                  }\r\n                </UnsubscribeButton>\r\n              }\r\n            </ChannelActions>\r\n          </ItemH>\r\n        }\r\n      </ChannelLogo>\r\n    </Item>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst NFTTextStyle = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n`\r\n\r\nconst NFTStatus = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst NFTStatusTitle = styled(NFTTextStyle)`\r\n  background: #35c4f3;\r\n`\r\n\r\nconst NFTClaim = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n`\r\n\r\nconst NFTClaimTitle = styled(NFTTextStyle)`\r\n  background: #e20880;\r\n`\r\n\r\nconst ChannelLogo = styled.div`\r\n  background: ${props => props.theme || '#fff'};\r\n  max-width: 25%;\r\n  min-width: 200px;\r\n  flex: 1;\r\n  margin: 5px;\r\n  padding: 10px;\r\n  border: 2px solid #fafafa;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: center;\r\n`\r\n\r\nconst ChannelLogoOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst ChannelLogoInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelActions = styled.div`\r\n  margin: 5px;\r\n  flex-grow: 1;\r\n  max-width: 120px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${props => props.disabled && css`\r\n    background: #e20880;\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  font-size: 12px;\r\n  ${props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst ActionLoader = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst SkeletonButton = styled.div`\r\n  border: 0;\r\n  outline: 0;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  flex: 1;\r\n`\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #000;\r\n`\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewNFTV2Item;\r\n","import React, { useState } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { Oval } from 'react-loader-spinner'\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from 'helpers/NFTHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nimport DisplayNotice from \"../primaries/DisplayNotice\";\r\nimport ViewNFTV2Item from \"components/ViewNFTsV2Item\";\r\nimport { ItemH } from \"../primaries/SharedStyling\";\r\n\r\n// Create Header\r\nfunction MyNFTs({ controlAt, setControlAt, setTokenId }) {\r\n  const { account, library, chainId } = useWeb3React();\r\n\r\n  const [nftReadProvider, setNftReadProvider] = React.useState(null);\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [NFTRewardsV2Contract, setNFTRewardsV2Contract] = React.useState(null);\r\n  const [NFTObjects, setNFTObjects] = useState([]);\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const onMainnetCore = chainId === envConfig.mainnetCoreContractChain;\r\n\r\n  const mainnetCoreProvider = onMainnetCore\r\n    ? library\r\n    : new ethers.providers.JsonRpcProvider(envConfig.mainnetCoreRPC);\r\n\r\n  React.useEffect(() => {\r\n    if (!!(mainnetCoreProvider && account)) {\r\n      const contractInstance = new ethers.Contract(\r\n        addresses.rockstarV2,\r\n        abis.rockstarV2,\r\n        mainnetCoreProvider\r\n      );\r\n      setNftReadProvider(contractInstance);\r\n      let signer = mainnetCoreProvider.getSigner(account);\r\n      const signerInstance = new ethers.Contract(\r\n        addresses.rockstarV2,\r\n        abis.rockstarV2,\r\n        signer\r\n      );\r\n      setNftWriteProvider(signerInstance);\r\n      const NFTRewardsV2Instance = new ethers.Contract(\r\n        addresses.NFTRewardsV2,\r\n        abis.NFTRewardsV2,\r\n        signer\r\n      );\r\n      setNFTRewardsV2Contract(NFTRewardsV2Instance);\r\n    }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if (nftReadProvider) {\r\n      fetchNFTDetails();\r\n    }\r\n  }, [account, nftReadProvider]);\r\n\r\n\r\n  // to fetch NFT Details\r\n  const fetchNFTDetails = async () => {\r\n    let balance = await NFTHelper.getNFTBalance(account, nftReadProvider);\r\n    setLoading(false);\r\n    for (let i = 0; i < balance; i++) {\r\n      let tokenId = await NFTHelper.getTokenOfOwnerByIndex(account, i, nftReadProvider)\r\n      // let tokenURI = await NFTHelper.getTokenURIByIndex(tokenId, nftReadProvider);\r\n      let NFTObject = await NFTHelper.getTokenData(tokenId, nftReadProvider, NFTRewardsV2Contract)\r\n      let url = await callFunction(NFTObject.metadata)\r\n      NFTObject['nftInfo'] = url\r\n      setNFTObjects((prev) => [...prev, NFTObject]);\r\n    }\r\n  }\r\n\r\n  const callFunction = async (tokenURI) => {\r\n    let tokenUrl = tokenURI.replace('ipfs://', 'https://ipfs.io/ipfs/')\r\n    let response = await fetch(`${tokenUrl}`);\r\n    let data = await response.json()\r\n    return data\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Oval\r\n            color=\"#35c5f3\"\r\n            height={40}\r\n            width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && NFTObjects.length == 0 &&\r\n        <ContainerInfo>\r\n          <DisplayNotice\r\n            title=\"No ROCKSTAR NFTs are available in your account\"\r\n            theme=\"primary\"\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n\r\n      {!loading && NFTObjects.length != 0 &&\r\n        <ItemH id=\"scrollstyle-secondary\">\r\n\r\n          {Object.keys(NFTObjects).map(index => {\r\n            if (NFTObjects) {\r\n              return (\r\n                <ViewNFTV2Item\r\n                  key={NFTObjects[index].id}\r\n                  NFTObject={NFTObjects[index]}\r\n                  nftReadProvider={nftReadProvider}\r\n                  nftWriteProvider={nftWriteProvider}\r\n                  controlAt={controlAt}\r\n                  setControlAt={setControlAt}\r\n                  setTokenId={setTokenId}\r\n                />\r\n              );\r\n            }\r\n\r\n          })}\r\n        </ItemH>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\n// Export Default\r\nexport default MyNFTs;\r\n","import React from \"react\";\r\n\r\nimport styled from 'styled-components';\r\nimport { Section, ItemH } from 'primaries/SharedStyling';\r\n\r\nimport { Oval } from 'react-loader-spinner'\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from 'helpers/NFTHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport ViewNFTItem from \"components/ViewNFTItem\";\r\n\r\n// Create Header\r\nfunction AllNFTs({ controlAt, setControlAt, setTokenId }) {\r\n  const { account, chainId, library } = useWeb3React();\r\n\r\n  const [nftReadProvider, setNftReadProvider] = React.useState(null);\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [NFTRewardsContract, setNFTRewardsContract] = React.useState(null);\r\n  const [NFTObjects, setNFTObjects] = React.useState([]);\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const onMainnetCore = chainId === envConfig.mainnetCoreContractChain;\r\n\r\n  const mainnetCoreProvider = onMainnetCore\r\n    ? library\r\n    : new ethers.providers.JsonRpcProvider(envConfig.mainnetCoreRPC)\r\n\r\n  React.useEffect(() => {\r\n    if (!!(mainnetCoreProvider && account)) {\r\n      const contractInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, mainnetCoreProvider);\r\n      setNftReadProvider(contractInstance);\r\n      let signer = mainnetCoreProvider.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer);\r\n      setNftWriteProvider(signerInstance);\r\n      const NFTRewardsInstance = new ethers.Contract(addresses.NFTRewards, abis.NFTRewards, signer);\r\n      setNFTRewardsContract(NFTRewardsInstance);\r\n    }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if (nftReadProvider && NFTRewardsContract) {\r\n      fetchNFTDetails();\r\n    }\r\n  }, [account, nftReadProvider, nftWriteProvider, NFTRewardsContract]);\r\n\r\n  // to fetch all minted NFT Details\r\n  const fetchNFTDetails = async () => {\r\n    let totalSupply = await NFTHelper.getTotalSupply(nftReadProvider);\r\n    setLoading(false);\r\n    for (let i = 0; i < totalSupply; i++) {\r\n      let tokenId = await NFTHelper.getTokenByIndex(i, nftReadProvider)\r\n      let NFTObject = await NFTHelper.getTokenData(tokenId, nftReadProvider, NFTRewardsContract)\r\n      await setNFTObjects(prev => [...prev, NFTObject])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Section align=\"center\">\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Oval\r\n            color=\"#674c9f\"\r\n            height={40}\r\n            width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {/* {!loading && NFTObjects.length == 0 &&\r\n        <ContainerInfo>\r\n          <Oval\r\n           color=\"#674c9f\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      } */}\r\n\r\n      {!loading && NFTObjects.length != 0 &&\r\n        <ItemH id=\"scrollstyle-secondary\">\r\n          {Object.keys(NFTObjects).map(index => {\r\n            if (NFTObjects) {\r\n              return (\r\n                <>\r\n                  <ViewNFTItem\r\n                    key={NFTObjects[index].id}\r\n                    NFTObject={NFTObjects[index]}\r\n                    nftReadProvider={nftReadProvider}\r\n                    nftWriteProvider={nftWriteProvider}\r\n                    controlAt={controlAt}\r\n                    setControlAt={setControlAt}\r\n                    setTokenId={setTokenId}\r\n                  />\r\n                </>\r\n              );\r\n            }\r\n          })}\r\n        </ItemH>\r\n      }\r\n    </Section>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\n// Export Default\r\nexport default AllNFTs;\r\n","import React from \"react\";\r\n\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Section,\r\n  ItemH,\r\n} from \"../primaries/SharedStyling\";\r\n\r\nimport { Oval } from \"react-loader-spinner\";\r\n\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport NFTHelper from \"helpers/NFTHelper\";\r\nimport { ethers } from \"ethers\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport ViewNFTV2Item from \"components/ViewNFTsV2Item\";\r\n\r\n// Create Header\r\nfunction AllNFTsV2({ controlAt, setControlAt, setTokenId }) {\r\n  const { account, chainId, library } = useWeb3React();\r\n\r\n  const [nftReadProvider, setNftReadProvider] = React.useState(null);\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [NFTRewardsV2Contract, setNFTRewardsV2Contract] = React.useState(null);\r\n  const [NFTObjects, setNFTObjects] = React.useState([]);\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const onMainnetCore = chainId === envConfig.mainnetCoreContractChain;\r\n\r\n  const mainnetCoreProvider = onMainnetCore\r\n    ? library\r\n    : new ethers.providers.JsonRpcProvider(envConfig.mainnetCoreRPC)\r\n\r\n  React.useEffect(() => {\r\n    if (!!(mainnetCoreProvider && account)) {\r\n      const contractInstance = new ethers.Contract(\r\n        addresses.rockstarV2,\r\n        abis.rockstarV2,\r\n        mainnetCoreProvider\r\n      );\r\n      setNftReadProvider(contractInstance);\r\n      let signer = mainnetCoreProvider.getSigner(account);\r\n      const signerInstance = new ethers.Contract(\r\n        addresses.rockstarV2,\r\n        abis.rockstarV2,\r\n        signer\r\n      );\r\n      setNftWriteProvider(signerInstance);\r\n      const NFTRewardsV2Instance = new ethers.Contract(\r\n        addresses.NFTRewardsV2,\r\n        abis.NFTRewardsV2,\r\n        signer\r\n      );\r\n      setNFTRewardsV2Contract(NFTRewardsV2Instance);\r\n    }\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    if (nftReadProvider) {\r\n      fetchNFTDetails();\r\n    }\r\n  }, [account, nftReadProvider]);\r\n\r\n  // to fetch all minted NFT Details\r\n  const fetchNFTDetails = async () => {\r\n    let totalSupply = await NFTHelper.getTotalSupply(nftReadProvider);\r\n    setLoading(false);\r\n    for (let i = 0; i < totalSupply; i++) {\r\n      let tokenId = await NFTHelper.getTokenByIndex(i, nftReadProvider)\r\n      // let tokenURI = await NFTHelper.getTokenURIByIndex(tokenId, nftReadProvider);\r\n      let NFTObject = await NFTHelper.getTokenData(\r\n        tokenId,\r\n        nftReadProvider,\r\n        NFTRewardsV2Contract\r\n      );\r\n      let tokenUrl = NFTObject.metadata.replace('ipfs://', 'https://ipfs.io/ipfs/')\r\n      let response = await fetch(`${tokenUrl}`);\r\n      let data = await response.json()\r\n      NFTObject['nftInfo'] = data\r\n      await setNFTObjects((prev) => [...prev, NFTObject]);\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Section align=\"center\">\r\n      {loading && (\r\n        <ContainerInfo>\r\n          <Oval color=\"#674c9f\" height={40} width={40} />\r\n        </ContainerInfo>\r\n      )}\r\n\r\n      {/* {!loading && NFTObjects.length == 0 &&\r\n        <ContainerInfo>\r\n          <Oval\r\n           color=\"#674c9f\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      } */}\r\n\r\n      {!loading && NFTObjects.length != 0 && (\r\n        <ItemH id=\"scrollstyle-secondary\">\r\n          {Object.keys(NFTObjects).map((index) => {\r\n            if (NFTObjects) {\r\n              return (\r\n                <>\r\n                  <ViewNFTV2Item\r\n                    key={NFTObjects[index]}\r\n                    NFTObject={NFTObjects[index]}\r\n                    nftReadProvider={nftReadProvider}\r\n                    nftWriteProvider={nftWriteProvider}\r\n                    controlAt={controlAt}\r\n                    setControlAt={setControlAt}\r\n                    setTokenId={setTokenId}\r\n                  />\r\n                </>\r\n              );\r\n            }\r\n          })}\r\n        </ItemH>\r\n      )}\r\n    </Section>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`;\r\n\r\n// Export Default\r\nexport default AllNFTsV2;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport { Section, Content, Item, H2, Span, Button, FormSubmision, Input } from '../primaries/SharedStyling';\r\n\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport { Oval } from 'react-loader-spinner';\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nconst ethers = require('ethers');\r\n\r\n// Create Header\r\nfunction TransferNFT({ tokenId }) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [toAddress, setToAddress] = React.useState('');\r\n\r\n  const [processing, setProcessing] = React.useState(0);\r\n  const [processingInfo, setProcessingInfo] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer);\r\n      setNftWriteProvider(signerInstance);\r\n    }\r\n  }, [account]);\r\n\r\n  const handleTransferNFT = async (e) => {\r\n    if (nftWriteProvider) {\r\n      console.log(\"🚀 ~ file: TransferNFT.js ~ line 64 ~ handleTransferNFT ~ nftWriteProvider\", nftWriteProvider)\r\n      e.preventDefault();\r\n\r\n      if (isEmpty(toAddress)) {\r\n        setProcessing(3);\r\n        setProcessingInfo(\"Recipient address field is empty! Please retry!\");\r\n\r\n        return false;\r\n      }\r\n      setProcessing(1);\r\n      setProcessingInfo(\"Transferring NFT...\")\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstar, abis.rockstar, signer)\r\n      var txPromise = nftWriteProvider['safeTransferFrom(address,address,uint256)'](account, toAddress, tokenId);\r\n      const tx = await txPromise;\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      setProcessingInfo(\"Waiting for Transfer tx to finish...\");\r\n      await library.waitForTransaction(tx.hash);\r\n      setProcessingInfo(\"Transfer successfull! \");\r\n      setProcessing(3);\r\n    }\r\n  }\r\n\r\n  const isEmpty = (field) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"10px 20px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span weight=\"200\">Transfer Your NFT!</Span>\r\n            </H2>\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Token #{tokenId}</Span>\r\n            </H2>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n      <Section>\r\n        <Content padding=\"50px 0px 0px 0px\">\r\n          <FormSubmision\r\n            flex=\"1\"\r\n            direction=\"column\"\r\n            margin=\"0px\"\r\n            justify=\"center\"\r\n            size=\"1.1rem\"\r\n            onSubmit={handleTransferNFT}\r\n          >\r\n\r\n            <Item margin=\"-10px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n              <Input\r\n                required\r\n                placeholder=\"Recipient Address\"\r\n                maxlength=\"40\"\r\n                padding=\"12px\"\r\n                borderBottom=\"1px solid #000\"\r\n                weight=\"400\"\r\n                size=\"1.2em\"\r\n                bg=\"#fff\"\r\n                value={toAddress}\r\n                onChange={(e) => { setToAddress(e.target.value) }}\r\n              />\r\n              {toAddress.trim().length == 0 &&\r\n                <Span\r\n                  padding=\"4px 10px\"\r\n                  right=\"0px\"\r\n                  top=\"0px\"\r\n                  pos=\"absolute\"\r\n                  color=\"#fff\"\r\n                  bg=\"#000\"\r\n                  size=\"0.7rem\"\r\n                  z=\"1\"\r\n                >\r\n                  Recipient Address\r\n                </Span>\r\n              }\r\n            </Item>\r\n            <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n              <Button\r\n                bg='#674c9f'\r\n                color='#fff'\r\n                flex=\"1\"\r\n                radius=\"0px\"\r\n                padding=\"20px 10px\"\r\n                disabled={processing == 1 ? true : false}\r\n              >\r\n                {processing == 1 &&\r\n                  <Oval\r\n                    color=\"#fff\"\r\n                    height={24}\r\n                    width={24}\r\n                  />\r\n                }\r\n                {processing != 1 &&\r\n                  <Input cursor=\"hand\" textTransform=\"uppercase\" color=\"#fff\" weight=\"400\" size=\"0.8em\" spacing=\"0.2em\" type=\"submit\" value=\"Transfer\" />\r\n                }\r\n              </Button>\r\n            </Item>\r\n          </FormSubmision>\r\n        </Content>\r\n      </Section>\r\n\r\n      {(processing == 1 || processing == 3) &&\r\n        <Section>\r\n          <Content padding=\"0px 0px 0px 0px\">\r\n            <Item\r\n              color=\"#fff\"\r\n              bg={processing == 1 ? \"#e1087f\" : \"#000\"}\r\n              padding=\"10px 15px\"\r\n              margin=\"15px 0px\"\r\n            >\r\n              <Span\r\n                color=\"#fff\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.1em\"\r\n                weight=\"400\"\r\n                size=\"1em\"\r\n              >\r\n                {processingInfo}\r\n              </Span>\r\n            </Item>\r\n\r\n          </Content>\r\n        </Section>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// Export Default\r\nexport default TransferNFT;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport { Section, Content, Item, H2, Span, Button, FormSubmision, Input } from '../primaries/SharedStyling';\r\n\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport { Oval } from 'react-loader-spinner';\r\n// import { bigNumberify, parseUnits } from 'ethers/utils'\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nconst ethers = require('ethers');\r\n// Create Header\r\nfunction TransferNFTv2({ tokenId }) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [nftWriteProvider, setNftWriteProvider] = React.useState(null);\r\n  const [toAddress, setToAddress] = React.useState('');\r\n\r\n  const [processing, setProcessing] = React.useState(0);\r\n  const [processingInfo, setProcessingInfo] = React.useState('');\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstarV2, abis.rockstarV2, signer);\r\n      setNftWriteProvider(signerInstance);\r\n    }\r\n  }, [account]);\r\n\r\n  const handleTransferNFT = async (e) => {\r\n    if (nftWriteProvider) {\r\n      e.preventDefault();\r\n\r\n      if (isEmpty(toAddress)) {\r\n        setProcessing(3);\r\n        setProcessingInfo(\"Recipient address field is empty! Please retry!\");\r\n\r\n        return false;\r\n      }\r\n      setProcessing(1);\r\n      setProcessingInfo(\"Transferring NFT...\")\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.rockstarV2, abis.rockstarV2, signer)\r\n      var txPromise = nftWriteProvider['safeTransferFrom(address,address,uint256)'](account, toAddress, tokenId);\r\n      const tx = await txPromise;\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      setProcessingInfo(\"Waiting for Transfer tx to finish...\");\r\n      await library.waitForTransaction(tx.hash);\r\n      setProcessingInfo(\"Transfer successfull! \");\r\n      setProcessing(3);\r\n    }\r\n  }\r\n\r\n  const isEmpty = (field) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"10px 20px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span weight=\"200\">Transfer Your NFT!</Span>\r\n            </H2>\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Token #{tokenId}</Span>\r\n            </H2>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n      <Section>\r\n        <Content padding=\"50px 0px 0px 0px\">\r\n          <FormSubmision\r\n            flex=\"1\"\r\n            direction=\"column\"\r\n            margin=\"0px\"\r\n            justify=\"center\"\r\n            size=\"1.1rem\"\r\n            onSubmit={handleTransferNFT}\r\n          >\r\n\r\n            <Item margin=\"-10px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n              <Input\r\n                required\r\n                placeholder=\"Recipient Address\"\r\n                maxlength=\"40\"\r\n                padding=\"12px\"\r\n                borderBottom=\"1px solid #000\"\r\n                weight=\"400\"\r\n                size=\"1.2em\"\r\n                bg=\"#fff\"\r\n                value={toAddress}\r\n                onChange={(e) => { setToAddress(e.target.value) }}\r\n              />\r\n              {toAddress.trim().length == 0 &&\r\n                <Span\r\n                  padding=\"4px 10px\"\r\n                  right=\"0px\"\r\n                  top=\"0px\"\r\n                  pos=\"absolute\"\r\n                  color=\"#fff\"\r\n                  bg=\"#000\"\r\n                  size=\"0.7rem\"\r\n                  z=\"1\"\r\n                >\r\n                  Recipient Address\r\n                </Span>\r\n              }\r\n            </Item>\r\n            <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n              <Button\r\n                bg='#674c9f'\r\n                color='#fff'\r\n                flex=\"1\"\r\n                radius=\"0px\"\r\n                padding=\"20px 10px\"\r\n                disabled={processing == 1 ? true : false}\r\n              >\r\n                {processing == 1 &&\r\n                  <Oval\r\n                    color=\"#fff\"\r\n                    height={24}\r\n                    width={24}\r\n                  />\r\n                }\r\n                {processing != 1 &&\r\n                  <Input cursor=\"hand\" textTransform=\"uppercase\" color=\"#fff\" weight=\"400\" size=\"0.8em\" spacing=\"0.2em\" type=\"submit\" value=\"Transfer\" />\r\n                }\r\n              </Button>\r\n            </Item>\r\n          </FormSubmision>\r\n        </Content>\r\n      </Section>\r\n\r\n      {(processing == 1 || processing == 3) &&\r\n        <Section>\r\n          <Content padding=\"0px 0px 0px 0px\">\r\n            <Item\r\n              color=\"#fff\"\r\n              bg={processing == 1 ? \"#e1087f\" : \"#000\"}\r\n              padding=\"10px 15px\"\r\n              margin=\"15px 0px\"\r\n            >\r\n              <Span\r\n                color=\"#fff\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.1em\"\r\n                weight=\"400\"\r\n                size=\"1em\"\r\n              >\r\n                {processingInfo}\r\n              </Span>\r\n            </Item>\r\n\r\n          </Content>\r\n        </Section>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\n// Export Default\r\nexport default TransferNFTv2;\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport styled, { css, useTheme } from 'styled-components';\r\nimport {Section, Content, Item, A, B, H2, H3, Span, Button} from '../primaries/SharedStyling';\r\n\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport MyNFTs from \"components/MyNFTs\";\r\nimport MyNFTsV2 from \"components/MyNFTsV2\";\r\nimport AllNFTs from \"components/AllNFTs\";\r\nimport AllNFTsV2 from \"components/AllNFTsV2\";\r\nimport TransferNFT from \"components/TransferNFT\";\r\nimport TransferNFTv2 from \"components/TransferNFTv2\";\r\n\r\nimport {ThemeProvider} from \"styled-components\";\r\n\r\n// Create Header\r\nfunction NFTPage() {\r\n  // React GA Analytics\r\n  ReactGA.pageview(\"/rockstars\");\r\n\r\n  const { account } = useWeb3React();\r\n\r\n  const themes = useTheme();\r\n\r\n  const [tokenId, setTokenId] = React.useState(null);\r\n  const [controlAt, setControlAt] = React.useState(1);\r\n  const [version, setVersion] = React.useState(2);\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    userClickedAt(2);\r\n  }, [account]);\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setVersion(controlIndex);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.checked) {\r\n      setControlAt(0);\r\n    } else {\r\n      setControlAt(1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section>\r\n          <Content padding=\"20px 20px 0px\">\r\n          <Item align=\"flex-start\" margin=\"0px 20px 0px 20px\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">$ROCKSTAR</Span><Span weight=\"200\" color={themes.color}> of </Span><Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">EPNS</Span>\r\n            </H2>\r\n            <H3 color={themes.greyText}>Thank you <B color={themes.color}>community</B> for all your support. Over the next year, we are excited to continue returning our gratitude!</H3>\r\n          </Item>\r\n\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 20px 0px 20px\">\r\n\r\n            {/* Question */}\r\n            <Item align=\"stretch\" margin=\"0px 0px 20px 0px\">\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(1)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    Does $ROCKSTAR of EPNS NFTs carry something along with NFTs?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[1] &&\r\n                  <Answer>\r\n                    <Span>\r\n                      Yes, Each <B>$ROCKSTAR</B> contains <B>2400 $PUSH</B> tokens that can be claimed instantly!!! <AMod href=\"https://medium.com/ethereum-push-notification-service/push-token-economics-d7f566c29b1a\" target=\"_blank\" title=\"Read more about $PUSH tokeneconomics\">Learn about $PUSH Token Economics.</AMod>\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => {toggleShowAnswer(2)}}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    How to get $ROCKSTAR of EPNS?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"}/>\r\n                </Question>\r\n\r\n                {showAnswers[2] &&\r\n                  <Answer>\r\n                    <Span>\r\n                      We’ll be distributing one NFT a week (every Monday) to one community member who does something to help us push the envelope forward. <AMod href=\"https://medium.com/ethereum-push-notification-service/kicking-off-the-epns-nft-community-drops-6a5c49808cf\" target=\"_blank\" title=\"Read how to get $ROCKSTAR of EPNS\">Here are some ways by which you can get one!</AMod>\r\n                    </Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n            </Item>\r\n          </Item>\r\n        </Content>\r\n\r\n        <Content padding=\"0px 20px 20px\" bg=\"#eee\">\r\n          <Item align=\"flex-start\" margin=\"0px 20px 0px 20px\">\r\n            \r\n          <Controls>\r\n              <SubscribeButton\r\n                className={version === 2 ? \"v2\" : \"v1\"}\r\n                // index={2}\r\n                // active={version == 0 ? 1 : 0}\r\n                onClick={() => {\r\n                  userClickedAt(2);\r\n                }}\r\n              >\r\n                <ActionTitle>ROCKSTAR V2</ActionTitle>\r\n              </SubscribeButton>\r\n\r\n              <SubscribeButton\r\n                className={version === 1 ? \"v2\" : \"v1\"}\r\n                // index={1}\r\n                // active={version == 1 ? 1 : 0}\r\n                onClick={() => {\r\n                  userClickedAt(1);\r\n                }}\r\n              >\r\n                <ActionTitle>ROCKSTAR V1</ActionTitle>\r\n              </SubscribeButton> \r\n\r\n              <CheckSpace>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkbox\"\r\n                  onChange={handleChange}\r\n                />\r\n                {/* <span className=\"\"></span> */}\r\n                Show mine\r\n              </CheckSpace>\r\n            </Controls>\r\n           \r\n\r\n            {controlAt === 0 && version === 1 && (\r\n              <MyNFTs\r\n                controlAt={controlAt}\r\n                setControlAt={setControlAt}\r\n                setTokenId={setTokenId}\r\n              />\r\n            )}\r\n\r\n            {controlAt === 0 && version === 2 && (\r\n              <MyNFTsV2\r\n                controlAt={controlAt}\r\n                setControlAt={setControlAt}\r\n                setTokenId={setTokenId}\r\n              />\r\n            )}\r\n            \r\n            {/* NFTs version 1 */}\r\n            {controlAt === 1 && version === 1 && (\r\n              <AllNFTs\r\n                controlAt={controlAt}\r\n                setControlAt={setControlAt}\r\n                setTokenId={setTokenId}\r\n              />\r\n            )}\r\n\r\n            {/* NFTs version 2 */}\r\n             {controlAt === 1 && version === 2 && (\r\n              <AllNFTsV2\r\n                controlAt={controlAt}\r\n                setControlAt={setControlAt}\r\n                setTokenId={setTokenId}\r\n              />\r\n            )}\r\n            {controlAt === 2 && tokenId && <TransferNFT tokenId={tokenId} />}\r\n            {controlAt === 3 && tokenId && <TransferNFTv2 tokenId={tokenId} />}\r\n          </Item>\r\n          </Content>\r\n      </Section>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst Controls = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst CheckSpace = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-left: auto;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  font-size: 12px;\r\n  background-color: #adb5bd;\r\n  height: 20px;\r\n  padding: 0px 5px;\r\n  color: white;\r\n  input.checkbox {\r\n    width: 11px;\r\n    height: 11px;\r\n    margin-right: 5px;\r\n    border: 1px solid transparent;\r\n    // -webkit-appearance: none;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    -o-appearance: none;\r\n    appearance: none;\r\n    background-color: white;\r\n    &:checked {\r\n      background-color: #E10780;\r\n      border: 1px solid transparent;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: left;\r\n  // align-items: center;\r\n  justify-content: flex-end;\r\n  // justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${ props => props.disabled && css`\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ChannelRockstarButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: left;\r\n  // align-items: center;\r\n  justify-content: flex-end;\r\n  // justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  // border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst SubscribeButton = styled(ChannelActionButton)`\r\n  &.v1 {\r\n    background-color: #adb5bd;\r\n  }\r\n  &.v2 {\r\n    background-color: #35c5f3;\r\n  }\r\n  border-radius: 0px;\r\n  font-size: 1rem;\r\n  letter-spacing: 0.1rem;\r\n`;\r\n\r\nconst ActionTitle = styled.span`\r\n  ${ props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid ${props => props.theme.qnaBgBorder};\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n\r\n  & ${Question} {\r\n    background: ${props => props.theme.qnaBg};\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\nconst AMod = styled(A)`\r\n  color: #e20880;\r\n  font-weight: 500;\r\n`\r\n\r\n// Export Default\r\nexport default NFTPage;\r\n","import React, { useState } from \"react\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport styled, { useTheme } from 'styled-components';\r\nimport { Section, Content, Item, Para, A, B, H2, H3, Span, Button } from '../primaries/SharedStyling';\r\n\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\n\r\nimport { Oval } from 'react-loader-spinner'\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\n\r\nimport AirdropHelper from 'helpers/AirdropHelper';\r\n\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\n// Other Information section\r\nfunction AirdropPage() {\r\n  // React GA Analytics\r\n  ReactGA.pageview(\"/airdrop\");\r\n\r\n  const themes = useTheme();\r\n\r\n  const { account, library, chainId } = useWeb3React();\r\n  const onCoreNetwork = chainId === envConfig.coreContractChain;\r\n\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n  const [distributorContract, setDistributorContract] = React.useState(null);\r\n  const [user, setUser] = React.useState(null);\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!onCoreNetwork) {\r\n      const url = window.location.origin;\r\n      window.location.replace(`${url}/#/notavailable`);\r\n    }\r\n  })\r\n\r\n  React.useEffect(() => {\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      console.log(abis.distributor)\r\n      const signerInstance = new ethers.Contract(addresses.distributor, abis.distributor, signer);\r\n      setDistributorContract(signerInstance);\r\n    }\r\n  }, [account, library]);\r\n\r\n  React.useEffect(() => {\r\n    if (distributorContract) {\r\n      checkClaim();\r\n    }\r\n  }, [account, distributorContract]);\r\n\r\n  // to check wh\r\n  const checkClaim = async () => {\r\n    let user = await AirdropHelper.verifyAddress(account, distributorContract);\r\n    setUser(user)\r\n    if (user)\r\n      setLoading(false)\r\n  }\r\n\r\n  // to claim\r\n  const handleClaim = async (user) => {\r\n    if (distributorContract) {\r\n      setTxInProgress(true)\r\n      let sendWithTxPromise\r\n      sendWithTxPromise = await distributorContract.claim(user.index, user.account, user.amount, user.proof)\r\n      const tx = await sendWithTxPromise;\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />, {\r\n        position: \"bottom-right\",\r\n        autoClose: false,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      try {\r\n        await library.waitForTransaction(tx.hash);\r\n\r\n        toast.update(txToast, {\r\n          render: \"Transaction Completed!\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      catch (e) {\r\n        toast.update(txToast, {\r\n          render: \"Transaction Failed! (\" + e.name + \")\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Oval\r\n        color={color}\r\n        height={30}\r\n        width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section margin=\"20px\">\r\n        <Content padding=\"0px 20px 0px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Gratitude</Span><Span weight=\"200\" color={themes.color}> Drop!</Span>\r\n            </H2>\r\n            <H3 color={themes.color}>We would never be here without you! Thanks for the <b color={themes.color}>#PUSH</b>!!!</H3>\r\n          </Item>\r\n        </Content>\r\n\r\n        <Content padding=\"0px 20px 0px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <Para margin=\"10px 0px 0px 0px\" color={themes.color}>Thanks for the ton of support, feedback, encouragement and helping us out in every step! As a small token of our gratitude, we are dropping <B color={themes.color}>1200 $PUSH</B> to anyone who:</Para>\r\n\r\n            <Para margin=\"20px 0px 0px 20px\" color={themes.color}>- Donated to us on <B color={themes.color}>Gitcoin grants round 6 or 7</B></Para>\r\n            <Para margin=\"10px 0px 0px 20px\" color={themes.color}>- Used our dApp on or before <B color={themes.color}>20th March, 2021</B>: <AMod href=\"https://app.epns.io\" target=\"_blank\" title=\"Visit our dApp\">EPNS dApp</AMod></Para>\r\n          </Item>\r\n\r\n          <Item padding=\"40px 0px 20px 0px\">\r\n            {loading &&\r\n              <Oval\r\n                color=\"#35c5f3\"\r\n                height={40}\r\n                width={40}\r\n              />\r\n            }\r\n\r\n            {!loading && controlAt == 0 &&\r\n              <>\r\n                {user.verified && user.claimable &&\r\n                  <EpicButton\r\n                    onClick={() => { handleClaim(user) }}\r\n                  >\r\n                    Claim $PUSH Tokens\r\n                  </EpicButton>\r\n                }\r\n                {user.verified && !user.claimable &&\r\n\r\n                  <EpicButton\r\n                    theme=\"claimed\"\r\n                    disabled={true}\r\n                  >\r\n                    $PUSH Tokens Claimed\r\n                  </EpicButton>\r\n                }\r\n                {!user.verified &&\r\n                  <EpicButton\r\n                    theme=\"noteligible\"\r\n                    disabled={true}\r\n                  >\r\n                    Not eligible for Gratitude Drop\r\n                  </EpicButton>\r\n                }\r\n              </>\r\n            }\r\n          </Item>\r\n\r\n        </Content>\r\n      </Section>\r\n\r\n      {/* FAQs */}\r\n      <Section themes={themes.mainBg} padding=\"0px 0px 0px 0px\">\r\n        <Content className=\"contentBox\">\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"-10px 20px 0px 20px\">\r\n\r\n            {/* Question */}\r\n            <Item align=\"stretch\" margin=\"0px 0px 0px 0px\">\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(1) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    What is $PUSH contract address?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[1] &&\r\n                  <Answer>\r\n                    <Span>$PUSH token contract address is <B>0xf418588522d5dd018b425E472991E52EBBeEEEEE</B></Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(2) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    What is EPNS?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[2] &&\r\n                  <Answer>\r\n                    <Span>Ethereum Push Notification Service (EPNS) is a decentralized protocol allowing Ethereum users to receive notifications for on-chain or off-chain activity.</Span>\r\n\r\n                    <Span>EPNS allows Web3 actors (users, dapps, service providers) to create notifications that are triggered if and when a smart contract reaches certain conditions. Other Web3 participants can search, browse, and subscribe to specific notifications and more confidently interact with dapps.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(3) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    Why are push notifications important for Web3?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[3] &&\r\n                  <Answer>\r\n                    <Span>Push notifications have transformed the Web2 ecosystem. They have enabled applications to have more direct relationships with users and have yielded fundamental strategies about marketing, product fit, user behavior, and more. </Span>\r\n\r\n                    <Span>The problem with Web2 notifications, however, is that they are entirely created and prescribed by the applications themselves, and are not always net-useful to the end user. Users rarely have a choice about what kinds of notifications they wish to receive, and more often than not, notifications are purely marketing vehicles to drive revenue for the applications.</Span>\r\n\r\n                    <Span><i><B>Decentralized notifications</B></i>, on the other hand, provide the emerging Web3 ecosystem with the benefits of a robust notification ecosystem without the exploitative or centralized drawbacks of Web2 notifications.</Span>\r\n\r\n                    <Span>Applications need ways to communicate with users in more immediate and event-initiated ways than through Twitter, Discord, or email. Users deserve to control what notifications they receive, and should benefit from the open source nature of Web3 by requesting notifications about protocol behavior.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n              <QnAItem>\r\n                <Question\r\n                  onClick={() => { toggleShowAnswer(4) }}\r\n                  hover=\"#e20880\"\r\n                >\r\n                  <Span color={themes.color}>\r\n                    How can I keep up with EPNS?\r\n                  </Span>\r\n                  <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                </Question>\r\n\r\n                {showAnswers[4] &&\r\n                  <Answer>\r\n                    <Span>Join our <AMod href=\"https://t.me/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Telegram channel\">Telegram</AMod>, follow us on <AMod href=\"https://twitter.com/epnsproject\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">Twitter</AMod>, and sign up for our 5 minute <AMod href=\"https://epns.substack.com/\" target=\"_blank\" title=\"Join our EPNS's Twitter channel\">weekly product updates</AMod>.</Span>\r\n                  </Answer>\r\n                }\r\n              </QnAItem>\r\n\r\n\r\n            </Item>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid ${props => props.theme.qnaBgBorder};\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n\r\n  & ${Question} {\r\n    background: ${props => props.theme.qnaBg};\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\nconst AMod = styled(A)`\r\n  color: #e20880;\r\n  font-weight: 500;\r\n`\r\n\r\nconst EpicButton = styled(A)`\r\n  padding: 15px 15px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  border-radius: 8px;\r\n  background: ${prop => prop.theme === ('claimed' || 'noteligible') ? '#000' : 'linear-gradient(273deg, #674c9f 0%, rgba(226,8,128,1) 100%)'};\r\n`\r\n\r\n// Export Default\r\nexport default AirdropPage;\r\n","import React from \"react\";\r\n\r\nimport styled, { useTheme } from 'styled-components';\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { Section, Content, Item } from '../primaries/SharedStyling';\r\n\r\nfunction ComingSoonPage(props) {\r\n  const themes = useTheme();\r\n\r\n  // Render\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section style={{ minHeight: '60vh' }}>\r\n        <Content padding=\"0px 20px 0px\">\r\n          <Item align=\"center\">\r\n            {console.log(props.theme)}\r\n            <Heading color=\"#333\" spacing=\"0.05em\" size=\"4rem\" weight={700}>\r\n              Coming soon.\r\n            </Heading>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nconst Heading = styled.h2`\r\n  color: ${props => props.theme.scheme === \"dark\" ? props.theme.color : props.color || \"#000\"};\r\n  text-shadow: 2px 0 ${props => props.theme.scheme === \"dark\" ? props.theme.color : props.color || \"#000\"};\r\n  font-weight: ${props => props.weight || 600};\r\n  font-size: ${props => props.size || \"2rem\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n\r\n  @media (max-width: 768px) {\r\n\t\tfont-size: 2.8rem;\r\n\t}\r\n`\r\n\r\n// Export Default\r\nexport default ComingSoonPage;","import React from \"react\";\r\n\r\nimport styled, { useTheme } from 'styled-components';\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { Section, Content, Item } from '../primaries/SharedStyling';\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nconst networkName = {\r\n  42: \"Ethereum Kovan\",\r\n  1: \"Ethereum Mainnet\"\r\n}\r\n\r\nfunction NotAvailablePage(props) {\r\n  const themes = useTheme();\r\n  const { chainId } = useWeb3React();\r\n  const onCoreNetwork = chainId === envConfig.coreContractChain;\r\n\r\n  React.useEffect(() => {\r\n    if (onCoreNetwork) {\r\n      const url = window.location.origin;\r\n      window.location.replace(`${url}/#/channels`);\r\n    }\r\n  })\r\n\r\n  // Render\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section style={{ minHeight: '60vh' }}>\r\n        <Content padding=\"0px 20px 0px\">\r\n          <Item align=\"center\">\r\n            <Heading color=\"#333\" spacing=\"0.05em\" size=\"2rem\" weight={700}>\r\n              Kindly switch to {networkName[envConfig.coreContractChain]} Network to view this page.\r\n            </Heading>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nconst Heading = styled.h2`\r\n  color: ${props => props.theme.scheme === \"dark\" ? props.theme.color : props.color || \"#000\"};\r\n  text-shadow: 2px 0 ${props => props.theme.scheme === \"dark\" ? props.theme.color : props.color || \"#000\"};\r\n  font-weight: ${props => props.weight || 600};\r\n  font-size: ${props => props.size || \"2rem\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n\r\n  @media (max-width: 768px) {\r\n\t\tfont-size: 1.5rem;\r\n\t}\r\n`\r\n\r\n// Export Default\r\nexport default NotAvailablePage;","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport styled, { useTheme } from 'styled-components';\r\n\r\nimport { Section, Content, Item, B, H2, H3, Span, Button} from '../primaries/SharedStyling';\r\nimport { setRun } from \"redux/slices/userJourneySlice\";\r\n\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\n\r\nimport GLOBALS from \"config/Globals\";\r\n\r\nfunction TutorialPage() {\r\n  const dispatch = useDispatch();\r\n  const themes = useTheme();\r\n\r\n  const { run } = useSelector((state: any) => state.userJourney);\r\n\r\n  const onStart = () => {\r\n    if (run === false) {\r\n      dispatch(setRun(true));\r\n      // dispatch(incrementStepIndex());\r\n    }\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Content className=\"contentBox\" padding=\"20px 0px 0px 0px\">\r\n        <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 30px\">\r\n\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 0px 0px 0px\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\" margin=\"10px 0px 20px 0px\">\r\n              <Span weight=\"200\" color={themes.fontColor}>Live </Span><Span bg=\"#35c5f3\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Walkthrough</Span>\r\n            </H2>\r\n            <H3 maxWidth=\"768px\" color={themes.fontColorSecondary}>Let's walk you through the core functions of EPNS, the <B>native web3 communication protocol!</B></H3>\r\n          </Item>\r\n\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 0px 20px 0px\">\r\n            <QnAItem>\r\n              <Question\r\n                onClick={() => { onStart() }}\r\n                hover=\"#e20880\"\r\n              >\r\n                <Span color={themes.color}>\r\n                  Show me everything!\r\n                </Span>\r\n                <BsChevronExpand size={20} color={\"#ddd\"} />\r\n              </Question>\r\n            </QnAItem>\r\n          </Item>\r\n\r\n        </Item>\r\n      </Content>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css style\r\nconst Container = styled(Section)`\r\n  flex: 1;\r\n  flex-direction: column;\r\n  height: calc(100vh - ${GLOBALS.CONSTANTS.HEADER_HEIGHT}px - 52px - ${props => props.theme.interfaceTopPadding});\r\n  background: ${props => props.theme.mainBg};\r\n  align-self: stretch;\r\n`;\r\n\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid ${props => props.theme.qnaBgBorder};\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n\r\n  & ${Question} {\r\n    background: ${props => props.theme.qnaBg};\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default TutorialPage;","import React from \"react\";\r\n\r\nimport styled, { useTheme } from 'styled-components';\r\nimport { Section, Content, Item, A, H2, Span, Button } from '../primaries/SharedStyling';\r\n\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { BsChevronExpand } from 'react-icons/bs';\r\n\r\nfunction FaqPage() {\r\n  const themes = useTheme();\r\n\r\n  const [showAnswers, setShowAnswers] = React.useState([]);\r\n\r\n  const toggleShowAnswer = (id) => {\r\n    let newShowAnswers = [...showAnswers];\r\n    newShowAnswers[id] = !newShowAnswers[id];\r\n\r\n    setShowAnswers(newShowAnswers);\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Container>\r\n        <Content className=\"contentBox\" padding=\"20px 0px 0px 0px\">\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 30px\">\r\n\r\n            <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 0px 0px 0px\">\r\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\" margin=\"10px 0px 20px 0px\">\r\n                <Span weight=\"200\" color={themes.fontColor}>Frequently Asked </Span><Span bg={themes.fontColor} color={themes.mainBg} weight=\"600\" padding=\"0px 8px\">Questions</Span>\r\n              </H2>\r\n            </Item>\r\n\r\n            <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 0px 0px 0px\">\r\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\" margin=\"20px 0px 20px 0px\" size=\"1.6rem\">\r\n                <Span weight=\"600\" padding=\"0px 8px\" bg=\"#E20880\" color=\"#fff\">For Users</Span>\r\n              </H2>\r\n            </Item>\r\n\r\n            <Item align=\"stretch\" justify=\"flex-start\">\r\n              {/* Question */}\r\n              <Item align=\"stretch\" margin=\"0px 0px 20px 0px\">\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(1) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      What are Channels?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[1] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        Any user or protocol that activates itself as a service to send notifications is a Channel.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(2) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      Is Channel Creation a compulsory process?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[2] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        Not at all\r\n                      </Span>\r\n                      <Span>\r\n                        Channel creation is only important for any protocol or service that wants to trigger notifications for its users. If you are a user who is only interested in receiving notifications and being up to the minute with the Web3 world, channel creation is not at all required for you.\r\n                      </Span>\r\n\r\n                      {/* <Span>\r\n                        Channel creation is only important for any protocol or service that wants to trigger notifications for its users. If you are a user who is only interested in receiving notifications and being up to the minute with the Web3 world, channel creation is not at all required for you.\r\n                      </Span> */}\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(3) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      How do I opt into a Channel?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[3] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        Every Channel in the View Channels section comes with an opt-in button. Once you click on it and sign the transaction, you will be subscribed to that channel & receive its notifications.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(4) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      Does Opting-in to a Channel require gas fees?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[4] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        NOPE. Subscribing to a channel is a Gasless action. All you need to do is sign the transaction and that’s it.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(5) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      Do I need ETHER to interact with the DAPP?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[5] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        Nope. We have gasless mechanisms for most of the things in the Dapp. Therefore, an average joe doesn’t need any ether to use our dapp.\r\n                      </Span>\r\n\r\n                      <Span>\r\n                        ETH or Funds are only required when a Channel is to be created.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(6) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      How do I receive notifications?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[6] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        In order to receive notifications seamlessly, EPNS provides 3 different crypto front-ends\r\n                      </Span>\r\n                      <Span2>\r\n                        <AMod href=\"https://app.epns.io/\" target=\"_blank\">EPNS Dapp</AMod>\r\n                      </Span2>\r\n                      <Span2 mtop=\"0.2rem\">\r\n                        <AMod href=\"https://chrome.google.com/webstore/detail/epns-protocol-alpha/lbdcbpaldalgiieffakjhiccoeebchmg\" target=\"_blank\">Browser Extension</AMod>\r\n                      </Span2>\r\n                      <Span2 mtop=\"0.2rem\">\r\n                        <AMod href=\"https://play.google.com/store/apps/details?id=io.epns.epns\" target=\"_blank\"><span style={{ marginRight: \"0.3rem\" }}>Android</span></AMod> <span style={{ marginRight: \"0.3rem\" }}>and</span> <AMod href=\"https://apps.apple.com/app/ethereum-push-service-epns/id1528614910\" target=\"_blank\">IOS Apps</AMod>\r\n                      </Span2>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n              </Item>\r\n            </Item>\r\n\r\n            <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 0px 0px 0px\">\r\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\" margin=\"30px 0px 20px 0px\" size=\"1.6rem\">\r\n                <Span weight=\"600\" padding=\"0px 8px\" bg=\"#E20880\" color=\"#fff\">For Developers</Span>\r\n              </H2>\r\n            </Item>\r\n\r\n            <Item align=\"stretch\" justify=\"flex-start\">\r\n              {/* Question */}\r\n              <Item align=\"stretch\" margin=\"0px 0px 20px 0px\">\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(7) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      How do I create a Channel?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[7] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        Easiest way to create a channel is from our <AMod target=\"_blank\" href=\"https://app.epns.io/#/dashboard\">EPNS Dapp</AMod> itself. Find the entire channel creation process <AMod target=\"_blank\" href=\"https://docs.epns.io/developer-zone/developer-guides/create-your-first-channel\">here</AMod>.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(8) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      What are the different types of Notifications?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[8] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        The 3 main types of notifications right now:\r\n                      </Span>\r\n                      <Span>\r\n                        <b>Broadcast Notification</b>: <i>Sent out to all Subscribers of a Channel</i>\r\n                      </Span>\r\n                      <Span>\r\n                        <b>Subset Notification</b>: <i>Sent out to a group of all the subscribers</i>\r\n                      </Span>\r\n                      <Span>\r\n                        <b>Targeted Notification</b>: <i>Sent out to a specific subscriber of your channel</i>\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(9) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      How do I send notifications?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[9] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        Sending a notification is possible from the DAPP, Back-end as well as Smart Contracts.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(10) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      How do I use Backend-Sdk and Showrunners?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[10] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        EPNS Documentation hub contains in-depth details on how to use our <AMod target=\"_blank\" href=\"https://docs.epns.io/developer-zone/developer-guides/sending-notifications/server-workflow/backend-sdk-quick-set-up\">Backend SDKs</AMod> and <AMod target=\"_blank\" href=\"https://docs.epns.io/developer-zone/developer-guides/working-with-showrunners\">Showrunners</AMod>. Check them out.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(11) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      DHow do I use the Front-SDK?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[11] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        EPNS Documentation hub contains in-depth details on how to use our <AMod target=\"_blank\" href=\"https://docs.epns.io/developer-zone/developer-guides/integrating-with-front-end-sdk\">Front-end SDK</AMod>.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n\r\n\r\n                <QnAItem>\r\n                  <Question\r\n                    onClick={() => { toggleShowAnswer(12) }}\r\n                    hover=\"#e20880\"\r\n                  >\r\n                    <Span color={themes.color}>\r\n                      Where can I find Developer Documentations?\r\n                    </Span>\r\n                    <BsChevronExpand size={20} color={\"#ddd\"} />\r\n                  </Question>\r\n\r\n                  {showAnswers[12] &&\r\n                    <Answer>\r\n                      <Span>\r\n                        All of our documentation can be found in our <AMod target=\"_blank\" href=\"https://docs.epns.io/\">EPNS Documentation HUB</AMod>.\r\n                      </Span>\r\n                    </Answer>\r\n                  }\r\n                </QnAItem>\r\n              </Item>\r\n            </Item>\r\n\r\n          </Item>\r\n        </Content>\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nconst Container = styled(Section)`\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background: ${props => props.theme.mainBg};\r\n  align-self: stretch;\r\n`;\r\nconst Span2 = styled.span`\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-left: 2rem;\r\n  color:black;\r\n  font-weight:300;\r\n  margin-top:${props => props.mtop || \"0px\"}\r\n`\r\n\r\nconst Heading = styled.h2`\r\n  color: ${props => props.theme.scheme === \"dark\" ? props.theme.color : props.color || \"#000\"};\r\n  text-shadow: 2px 0 ${props => props.theme.scheme === \"dark\" ? props.theme.color : props.color || \"#000\"};\r\n  font-weight: ${props => props.weight || 600};\r\n  font-size: ${props => props.size || \"2rem\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n  margin-left:20px;\r\n  @media (max-width: 768px) {\r\n\t\tfont-size: 2.8rem;\r\n\t}\r\n`\r\n\r\nconst Question = styled(Button)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst Answer = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n`\r\n\r\nconst QnAItem = styled(Item)`\r\n  align-items: stretch;\r\n  align-self: stretch;\r\n  flex: auto;\r\n  margin: 15px 0px;\r\n  border: 1px solid ${props => props.theme.qnaBgBorder};\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 20px -10px rgb(0 0 0 / 0.20);\r\n  overflow: hidden;\r\n  & ${Question} {\r\n    background: ${props => props.theme.qnaBg};\r\n    justify-content: flex-start;\r\n    text-transform: uppercase;\r\n    & ${Span} {\r\n      font-weight: 400;\r\n      letter-spacing: 0.2em;\r\n      margin-left: 10px;\r\n      flex: 1;\r\n    }\r\n    &:hover {\r\n      & ${Span} {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  & ${Answer} {\r\n    border: 1px solid #e6e6e6;\r\n    border-top: 1px solid #e6e6e6;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    padding: 10px 15px;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n    & ${Span} {\r\n      line-height: 1.5em;\r\n      margin: 10px;\r\n      color: #000 ;\r\n      font-size: 1.05em;\r\n    }\r\n  }\r\n`\r\n\r\nconst AMod = styled(A)`\r\n  color: #e20880;\r\n  font-weight: 500;\r\n`\r\n\r\n\r\n// Export Default\r\nexport default FaqPage;\r\n","import React, { useState } from \"react\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  ItemH,\r\n  H2,\r\n  H3,\r\n  Span,\r\n  Button,\r\n  FormSubmision,\r\n  Input,\r\n  TextField,\r\n} from \"../primaries/SharedStyling\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { FaCheckCircle } from \"react-icons/fa\";\r\nimport { Oval } from \"react-loader-spinner\";\r\n\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\n// HELPER METHODS\r\nconst validateEmail = (email) => {\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n};\r\n\r\nconst isEmpty = (field) => {\r\n  if (field.trim().length === 0) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst SupportPage = () => {\r\n  // React GA Analytics\r\n  ReactGA.pageview(\"/support\");\r\n\r\n  const contactFormTopics = [\"Support\", \"Integrate\", \"Others\"];\r\n\r\n  const [contactFormProcessing, setContactFormProcessing] = React.useState(0);\r\n  const [contactFormName, setContactFormName] = React.useState(\"\");\r\n  const [contactFormEmail, setContactFormEmail] = React.useState(\"\");\r\n  const [contactFormTopic, setContactFormTopic] = React.useState(\r\n    contactFormTopics[0]\r\n  );\r\n  const [contactFormSub, setContactFormSub] = React.useState(\"\");\r\n  const [contactFormMsg, setContactFormMsg] = React.useState(\"\");\r\n  const [contactFormError, setContactFormError] = React.useState(\"\");\r\n\r\n  const themes = useTheme();\r\n\r\n  const handleContactFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Check everything in order\r\n    if (validateEmail(contactFormEmail)) {\r\n      if (isEmpty(contactFormName)) {\r\n        setContactFormError(\"Name can't be empty\");\r\n        setContactFormProcessing(0);\r\n      } else if (isEmpty(contactFormSub)) {\r\n        setContactFormError(\"Subject can't be empty\");\r\n        setContactFormProcessing(0);\r\n      } else if (isEmpty(contactFormMsg)) {\r\n        setContactFormError(\"Message can't be empty\");\r\n        setContactFormProcessing(0);\r\n      } else {\r\n        setContactFormProcessing(1);\r\n\r\n        const requestOptions = {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            from: contactFormEmail,\r\n            name: contactFormName,\r\n            topic: contactFormTopic,\r\n            sub: contactFormSub,\r\n            msg: contactFormMsg,\r\n          }),\r\n        };\r\n\r\n        fetch(\r\n          \"https://backend-kovan.epns.io/apis/mailing/sendMail\",\r\n          requestOptions\r\n        )\r\n          .then((response) => response.json())\r\n          .then((jsondata) => {\r\n            // console.log(jsondata);\r\n            setContactFormProcessing(2);\r\n          })\r\n          .catch((err) => {\r\n            // console.log(err);\r\n            setContactFormError(\r\n              \"Mayday! Mayday! something went wrong. Please retry...\"\r\n            );\r\n            setContactFormProcessing(0);\r\n          });\r\n      }\r\n    } else {\r\n      setContactFormError(\"Incorrect e-mail, please check and retry!\");\r\n      setContactFormProcessing(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section id=\"contact\" theme={themes.mainBg}>\r\n        <Content className=\"contentBox\" padding=\"10px 0\">\r\n          <Item align=\"stretch\" justify=\"flex-start\" margin=\"0px 20px\">\r\n            <Item align=\"stretch\" align=\"flex-end\" tabletAlign=\"flex-start\" margin=\"0px 16px 0px 0px\" textAlign=\"right\" tabletTextAlign=\"left\">\r\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\" bg=\"#fff\">\r\n                <Span color={themes.color} weight=\"600\" padding=\"0px\">Contact US!</Span>\r\n                {/* <Span weight=\"200\" color=\"#000\"> Us!</Span> */}\r\n              </H2>\r\n              <H3 bg=\"#fff\" color={themes.color}>Get in Touch</H3>\r\n            </Item>\r\n            <Item self=\"stretch\">\r\n              <FormSubmision\r\n                flex=\"1\"\r\n                direction=\"row\"\r\n                justify=\"stretch\"\r\n                margin=\"10px\"\r\n                size=\"1.1rem\"\r\n                onSubmit={handleContactFormSubmit}\r\n              >\r\n                <Item align=\"stretch\" justify=\"stretch\" margin=\"10px -15px\">\r\n                  {contactFormProcessing === 0 && (\r\n                    <>\r\n                      <ItemH align=\"stretch\">\r\n                        <Item\r\n                          flex=\"1\"\r\n                          margin=\"15px\"\r\n                          justify=\"flex-start\"\r\n                          align=\"stretch\"\r\n                          minWidth=\"280px\"\r\n                        >\r\n                          <ContactInput\r\n                            required\r\n                            radius=\"4px\"\r\n                            padding=\"12px\"\r\n                            bg=\"#fff\"\r\n                            border=\"12px\"\r\n                            placeholder=\"John Wick\"\r\n                            value={contactFormName}\r\n                            onChange={(e) => {\r\n                              setContactFormName(e.target.value);\r\n                            }}\r\n                            autocomplete=\"name\"\r\n                            style={{\r\n                            }}\r\n                          />\r\n                          {contactFormName.trim().length === 0 && (\r\n                            <Span\r\n                              padding=\"4px 10px\"\r\n                              right=\"0px\"\r\n                              top=\"0px\"\r\n                              pos=\"absolute\"\r\n                              color=\"#fff\"\r\n                              bg=\"#000\"\r\n                              size=\"0.7rem\"\r\n                              z=\"1\"\r\n                            >\r\n                              Name\r\n                            </Span>\r\n                          )}\r\n                        </Item>\r\n\r\n                        <Item\r\n                          flex=\"5\"\r\n                          margin=\"15px\"\r\n                          justify=\"flex-start\"\r\n                          align=\"stretch\"\r\n                          minWidth=\"280px\"\r\n                        >\r\n                          <ContactInput\r\n                            required\r\n                            placeholder=\"john@wick.com\"\r\n                            radius=\"4px\"\r\n                            padding=\"12px\"\r\n                            bg=\"#fff\"\r\n                            value={contactFormEmail}\r\n                            onChange={(e) => {\r\n                              setContactFormEmail(e.target.value);\r\n                            }}\r\n                            autocomplete=\"email\"\r\n                          />\r\n                          {contactFormEmail.trim().length === 0 && (\r\n                            <Span\r\n                              padding=\"4px 10px\"\r\n                              right=\"0px\"\r\n                              top=\"0px\"\r\n                              pos=\"absolute\"\r\n                              color=\"#fff\"\r\n                              bg=\"#000\"\r\n                              size=\"0.7rem\"\r\n                              z=\"1\"\r\n                            >\r\n                              E-mail\r\n                            </Span>\r\n                          )}\r\n                        </Item>\r\n                      </ItemH>\r\n\r\n                      <Item\r\n                        flex=\"5\"\r\n                        justify=\"flex-start\"\r\n                        align=\"stretch\"\r\n                        minWidth=\"280px\"\r\n                        margin=\"15px\"\r\n                      >\r\n                        <DropdownStyled\r\n                          options={contactFormTopics}\r\n                          onChange={(option) => setContactFormTopic(option.value)}\r\n                          value={contactFormTopic}\r\n                          placeholder=\"Select an option\"\r\n                        />\r\n                      </Item>\r\n\r\n                      <Item\r\n                        justify=\"center\"\r\n                        align=\"stretch\"\r\n                        minWidth=\"280px\"\r\n                        margin=\"15px\"\r\n                      >\r\n                        <ContactInput\r\n                          required\r\n                          placeholder=\"I want to tell you guys a secret!\"\r\n                          radius=\"4px\"\r\n                          padding=\"12px\"\r\n                          bg=\"#fff\"\r\n                          value={contactFormSub}\r\n                          onChange={(e) => {\r\n                            setContactFormSub(e.target.value);\r\n                          }}\r\n                          autocomplete=\"on\"\r\n                        />\r\n                        {contactFormSub.trim().length === 0 && (\r\n                          <Span\r\n                            padding=\"4px 10px\"\r\n                            right=\"0px\"\r\n                            top=\"0px\"\r\n                            pos=\"absolute\"\r\n                            color=\"#fff\"\r\n                            bg=\"#000\"\r\n                            size=\"0.7rem\"\r\n                            z=\"1\"\r\n                          >\r\n                            Subject\r\n                          </Span>\r\n                        )}\r\n                      </Item>\r\n\r\n                      <Item\r\n                        justify=\"center\"\r\n                        align=\"stretch\"\r\n                        minWidth=\"280px\"\r\n                        margin=\"15px\"\r\n                      >\r\n                        <ContactTextArea\r\n                          required\r\n                          placeholder=\"This is where you will tell us that secret, or a bug or whatever is on your mind.\"\r\n                          rows=\"6\"\r\n                          radius=\"4px\"\r\n                          padding=\"12px\"\r\n                          bg=\"#fff\"\r\n                          value={contactFormMsg}\r\n                          onChange={(e) => {\r\n                            setContactFormMsg(e.target.value);\r\n                          }}\r\n                          autocomplete=\"off\"\r\n                        />\r\n                      </Item>\r\n                    </>\r\n                  )}\r\n\r\n                  {contactFormProcessing === 2 && (\r\n                    <Item align=\"center\" margin=\"0px 10px\">\r\n                      <ItemH\r\n                        color=\"#e20880\"\r\n                        bg=\"#000\"\r\n                        padding=\"10px 15px\"\r\n                        columnGap=\"0px\"\r\n                        rowGap=\"0px\"\r\n                      >\r\n                        <FaCheckCircle size={24} color=\"#fff\" />\r\n                        <Span\r\n                          padding=\"0px 0px 0px 8px\"\r\n                          color=\"#fff\"\r\n                          textTransform=\"uppercase\"\r\n                          spacing=\"0.1em\"\r\n                        >\r\n                          Message Sent! We will be in Touch :)\r\n                        </Span>\r\n                      </ItemH>\r\n                    </Item>\r\n                  )}\r\n\r\n                  {contactFormError && contactFormProcessing === 0 && (\r\n                    <Item align=\"center\" margin=\"0px 10px\">\r\n                      <Item\r\n                        color=\"#e20880\"\r\n                        bg=\"#000\"\r\n                        padding=\"10px 15px\"\r\n                        margin=\"15px\"\r\n                      >\r\n                        <Span\r\n                          color=\"#fff\"\r\n                          textTransform=\"uppercase\"\r\n                          spacing=\"0.1em\"\r\n                        >\r\n                          {contactFormError}\r\n                        </Span>\r\n                      </Item>\r\n                    </Item>\r\n                  )}\r\n\r\n                  <Item\r\n                    justify=\"stretch\"\r\n                    self=\"stretch\"\r\n                    align=\"stretch\"\r\n                    minWidth=\"280px\"\r\n                  >\r\n                    {contactFormProcessing !== 2 && (\r\n                      <Button\r\n                        bg=\"#000\"\r\n                        color=\"#fff\"\r\n                        border={themes.buttonBd}\r\n                        flex=\"1\"\r\n                        radius=\"4px\"\r\n                        disabled={contactFormProcessing}\r\n                        margin=\"15px\"\r\n                        padding=\"12px 15px\"\r\n                      >\r\n                        {contactFormProcessing === 1 && (\r\n                          <Oval\r\n                            color=\"#fff\"\r\n                            height={24}\r\n                            width={24}\r\n                          />\r\n                        )}\r\n                        {contactFormProcessing === 0 && (\r\n                          <Input\r\n                            cursor=\"hand\"\r\n                            color=\"#fff\"\r\n                            weight=\"400\"\r\n                            size=\".9em\"\r\n                            spacing=\"0.2em\"\r\n                            type=\"submit\"\r\n                            value=\"Submit\"\r\n                          />\r\n                        )}\r\n                      </Button>\r\n                    )}\r\n                  </Item>\r\n                </Item>\r\n              </FormSubmision>\r\n            </Item>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\n// CSS Styles\r\nconst DropdownStyled = styled(Dropdown)`\r\n  .Dropdown-control {\r\n    background-color: #000;\r\n    color: #fff;\r\n    padding: 12px 52px 12px 10px;\r\n    border: 1px solid ${props => props.theme.buttonBd};\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .Dropdown-placeholder {\r\n    text-transform: uppercase;\r\n    font-weight: 400;\r\n    letter-spacing: 0.2em;\r\n    font-size: 0.8em;\r\n\t\tpadding-left: 6px\r\n  }\r\n\r\n  .Dropdown-arrow {\r\n    top: 18px;\r\n    bottom: 0;\r\n    border-color: #fff transparent transparent;\r\n  }\r\n\r\n  .Dropdown-menu {\r\n    border: 1px solid #000;\r\n    box-shadow: none;\r\n    background-color: #000;\r\n    border-radius: 0px;\r\n    margin-top: -3px;\r\n    border-bottom-right-radius: 4px;\r\n    border-bottom-left-radius: 4px;\r\n  }\r\n\r\n  .Dropdown-option {\r\n    background-color: rgb(35 35 35);\r\n    color: #ffffff99;\r\n\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.2em;\r\n    font-size: 0.7em;\r\n    padding: 15px 20px;\r\n  }\r\n\r\n  .Dropdown-option:hover {\r\n    background-color: #000000;\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst ContactInput = styled(Input)`\r\n\tbackground: #FFFFFF;\r\n\tborder: 1px solid #D4D4D4;\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 4px;\r\n`\r\n\r\nconst ContactTextArea = styled(TextField)`\r\n\tbackground: #FFFFFF;\r\n\tborder: 1px solid #D4D4D4;\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 4px;\r\n`\r\n\r\nexport { SupportPage };","import React from \"react\";\r\nimport { Navigate, Routes, Route,useLocation } from \"react-router-dom\";\r\n\r\nimport styled from \"styled-components\";\r\nimport { Item, Anchor } from \"../primaries/SharedStyling\";\r\n\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nimport { VscClose } from 'react-icons/vsc';\r\n\r\nimport InboxPage from \"pages/InboxPage\";\r\nimport SpamPage from \"pages/SpamPage\";\r\nimport ViewChannelsPage from \"pages/ViewChannelsPage\";\r\nimport ChannelDashboardPage from \"pages/ChannelDashboardPage\";\r\nimport SendNotifs from \"pages/SendNotifs\";\r\nimport ReceiveNotifsPage from \"pages/ReceiveNotifsPage\";\r\n\r\nimport GovernancePage from \"pages/GovernancePage\";\r\n\r\nimport YieldFarmingPage from \"pages/YieldFarmingPage\";\r\nimport NFTPage from \"pages/NFTPage\";\r\nimport AirdropPage from \"pages/AirdropPage\";\r\nimport ComingSoonPage from \"pages/ComingSoonPage\";\r\nimport NotAvailablePage from \"./NotAvailablePage\";\r\nimport TutorialPage from \"pages/TutorialPage\";\r\nimport FAQPage from \"pages/FAQPage\";\r\n\r\nimport { SupportPage } from \"pages/SupportPage\";\r\n\r\nimport GLOBALS from \"config/Globals\";\r\n\r\n// Create Header\r\nfunction MasterInterfacePage() {\r\n  // Master Interface controls settings\r\n  const [playTeaserVideo, setPlayTeaserVideo] = React.useState(false);\r\n  const [loadTeaserVideo, setLoadTeaserVideo] = React.useState(null);\r\n  const location = useLocation()\r\n\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Interface location={location.pathname}>\r\n        <Routes>\r\n          <Route path=\"channels\" element={\r\n            <ViewChannelsPage\r\n              loadTeaser={setLoadTeaserVideo}\r\n              playTeaser={setPlayTeaserVideo}\r\n            />\r\n          }\r\n          />\r\n          <Route path=\"inbox\" element={<InboxPage />} />\r\n          <Route path=\"dashboard\" element={<ChannelDashboardPage />} />\r\n          <Route path=\"send\" element={<SendNotifs />} />\r\n          <Route path=\"spam\" element={<SpamPage />} />\r\n          <Route path=\"receive\" element={<ReceiveNotifsPage />} />\r\n\r\n          <Route path=\"govern\" element={<GovernancePage />} />\r\n\r\n          <Route path=\"yield\" element={<YieldFarmingPage />} />\r\n          <Route path=\"rockstar\" element={<NFTPage />} />\r\n          <Route path=\"gratitude\" element={<AirdropPage />} />\r\n          <Route path=\"live_walkthrough\" element={<TutorialPage />} />\r\n          <Route path=\"comingsoon\" element={<ComingSoonPage />} />\r\n          <Route path=\"notavailable\" element={<NotAvailablePage />} />\r\n          <Route path=\"faq\" element={<FAQPage />} />\r\n          <Route\r\n            path=\"/\"\r\n            element={<Navigate to=\"/channels\" />}\r\n          />\r\n          <Route path=\"support\" element={<SupportPage />} />\r\n        </Routes>\r\n      </Interface>\r\n\r\n      {/* For Channels Opt-in / Opt-out */}\r\n      <StyledToastContainer\r\n        position=\"top-right\"\r\n        autoClose={false}\r\n        newestOnTop\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n      />\r\n\r\n      {/* To play youtube video from anywhere */}\r\n      {playTeaserVideo &&\r\n        <PreviewOuter>\r\n          <PreviewBG\r\n            href=\"#\"\r\n            bg=\"transparent\"\r\n            onClick={(e) => { e.preventDefault(); setPlayTeaserVideo(!playTeaserVideo) }}\r\n          >\r\n            <PreviewContent className=\"contentBox\">\r\n              <PreviewClose\r\n                href=\"#\"\r\n                bg=\"transparent\"\r\n                hover=\"transparent\"\r\n                hoverBG=\"transparent\"\r\n                onClick={(e) => { e.preventDefault(); setPlayTeaserVideo(!playTeaserVideo) }}\r\n              >\r\n                <VscClose size={40} color=\"#fff\" />\r\n              </PreviewClose>\r\n              <Preview>\r\n                <div className='videoWrapper'><iframe src={loadTeaserVideo} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>\r\n              </Preview>\r\n            </PreviewContent>\r\n          </PreviewBG>\r\n        </PreviewOuter>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css style\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - ${GLOBALS.CONSTANTS.HEADER_HEIGHT}px - 20px - ${props => props.theme.interfaceTopPadding});\r\n  padding: ${props => props.theme.interfaceTopPadding} 20px 20px 20px;\r\n  align-items: stretch;\r\n\r\n`;\r\n\r\nconst Interface = styled(Item)`\r\n  // flex: 1;\r\n  // width:50%;\r\n  width: ${props => props.location === '/send' ? '70%' : '100%'};\r\n  display: flex;\r\n  align-items: stretch;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 20px;\r\n  border: 1px solid ${props => props.theme.interfaceBorder};\r\n\r\n  // margin: 15px 15px 15px 0px;\r\n  margin: ${props => props.location === '/send' ? '15px auto' : '15px 15px 15px 0px'};\r\n  overflow: hidden;\r\n\r\n\r\n  @media (max-width: 992px) {\r\n    // margin: 15px 0px;\r\n    width:100%;\r\n    margin: ${props => props.location === '/send' ? '15px auto' : '15px 0px'};\r\n  }\r\n`\r\n\r\nconst PreviewOuter = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgb(0 0 0 / 0.75);\r\n  z-index: 999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst PreviewBG = styled(Anchor)`\r\n  position: initial;\r\n  flex: 1;\r\n`\r\n\r\nconst PreviewContent = styled.div`\r\n  width: 100%;\r\n  align-self: center;\r\n  max-width: 1140px;\r\n  flex: 1 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Preview = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  margin: 40px 20px;\r\n  border-left: 10px solid #35c4f3;\r\n  border-radius: 10px;\r\n`\r\n\r\nconst PreviewClose = styled(Anchor)`\r\n  align-self: flex-end;\r\n  margin-bottom: -40px;\r\n`\r\n\r\nconst StyledToastContainer = styled(ToastContainer)`\r\n  &&&.Toastify__toast-container {\r\n    top: 7vh;\r\n    right: 2vw;\r\n  }\r\n  // .Toastify__toast {}\r\n  // .Toastify__toast-body {}\r\n  // .Toastify__progress-bar {}\r\n  // .Toastify__toast-container--top-right {}\r\n`;\r\n\r\n// Export Default\r\nexport default MasterInterfacePage;\r\n","import React from \"react\";\r\n\r\nimport styled from \"styled-components\";\r\nimport { themeLight, themeDark } from \"config/Themization\";\r\nimport { Item, ItemH, Span, H3, B, A, Button } from \"primaries/SharedStyling\";\r\n\r\nimport {incrementStepIndex, setRun, setIndex, setWelcomeNotifsEmpty , setTutorialContinous} from \"../redux/slices/userJourneySlice\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nconst UserJourneySteps = ({darkMode}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n      isCommunicateOpen,\r\n      isDeveloperOpen,\r\n    } = useSelector((state) => state['userJourney']);\r\n\r\n  const steps = [\r\n    {\r\n      //0\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Let's begin our journey!\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              <B>EPNS</B>, the native web3 communication layer enables open communication tied to wallet address from any supported dApps, protocol or web3 projects.\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              To get started, follow the icon <BeaconExample><BeaconExamplePulse /></BeaconExample>, click next to continue!\r\n            </Span>\r\n          </Item>\r\n          \r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                if (isCommunicateOpen) dispatch(incrementStepIndex());\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      locale: { next: <strong aria-label=\"next\">NEXT</strong> },\r\n      placement: 'center' as const,\r\n      target: \"body\",\r\n      hideFooter: true,\r\n      // defaultProps: false,\r\n      \r\n      // spotlightClicks: true,\r\n      // disableOverlayClose: false,\r\n    },\r\n    {\r\n      //1\r\n      content: (\r\n        <Item\r\n          color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          size=\"normal\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span color=\"inherit\">\r\n            Communicate tab holds all your communication including notifications! Click to expand it.\r\n          </Span>\r\n        </Item>\r\n      ),\r\n      placement: 'right-start' as const,\r\n      target: \".communicate\",\r\n      spotlightClicks: true,\r\n      disableAnimation: false,\r\n      disablefloating: false,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n      styles: {\r\n        buttonNext: {\r\n          display: 'none',\r\n        },\r\n        buttonSkip: {\r\n          display: 'none',\r\n        },\r\n        buttonClose: {\r\n          display: 'none',\r\n        }\r\n      }\r\n    },\r\n    {\r\n      //2\r\n      content: (\r\n        <Item\r\n          color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          size=\"normal\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span color=\"inherit\">\r\n            Channels are services that want to send notifications to your wallet address. Let's check them out!\r\n          </Span>\r\n        </Item>\r\n      ),\r\n      placement: \"right-start\" as const,\r\n      target: \".channels\",\r\n      spotlightClicks: true,\r\n      disableAnimation: false,\r\n      disablefloating: false,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n      styles: {\r\n        buttonNext: {\r\n          display: 'none',\r\n        },\r\n        buttonSkip: {\r\n          display: 'none',\r\n        },\r\n        buttonClose: {\r\n          display: 'none',\r\n        }\r\n      },\r\n    },\r\n    {\r\n      //3\r\n      content: (\r\n        <Item\r\n          color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          size=\"normal\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span color=\"inherit\">\r\n            This is the Channels Page. Please wait while we load channels from EPNS protocol.\r\n          </Span>\r\n        </Item>\r\n      ),\r\n      placement: \"center\" as const,\r\n      target: \"body\",\r\n      hideFooter: true,\r\n      styles: {\r\n        buttonNext: {\r\n          display: 'none',\r\n        },\r\n        buttonSkip: {\r\n          display: 'none',\r\n        },\r\n        buttonClose: {\r\n          display: 'none',\r\n        }\r\n      },\r\n    },\r\n    {\r\n      //4\r\n      content: (<></>),\r\n      target: \"body\",\r\n    },\r\n    {\r\n      //5\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Let's opt-in!\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              <B>EPNS</B> is a user centric protocol which means that you need to gaslessly (for free) opt-in to a channel to enable them to send notifs to your wallet!\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              You can opt-in in any number of channels as you want. Opt-in in at least one of the channels to proceed to the next step.\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              Opt-in will open Metamask popup, in which you have to sign the transaction (which is free), and voila, you've all set to receive notifs!\r\n            </Span>\r\n          </Item>\r\n          \r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                // dispatch(setTutorialContinous(false));\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      // placement: \"top-center\",\r\n      // position: \"top-center\",\r\n      // target: `#addr-0x0000000000000000000000000000000000000000`, //production\r\n      // target: `#addr-0x2177cFc66474bBEce7Cbf114d780A5cfE78485De`, //development\r\n      placement: \"center\" as const,\r\n      target: \"body\",\r\n      disableOverlayClose: false,\r\n      // spotlightClicks: true,\r\n      offsetTop: \"-100px\",\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //6\r\n      content: (\r\n        <Item\r\n          color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          size=\"normal\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span color=\"inherit\">\r\n            Click on inbox tab from sidebar to proceed forward!\r\n          </Span>\r\n        </Item>\r\n      ),\r\n      placement: \"right-start\" as const,\r\n      target: \".inbox\",\r\n      spotlightClicks: true,\r\n      disablefloating: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n      styles: {\r\n        buttonNext: {\r\n          display: 'none',\r\n        },\r\n        buttonSkip: {\r\n          display: 'none',\r\n        },\r\n        buttonClose: {\r\n          display: 'none',\r\n        }\r\n      },\r\n    },\r\n    {\r\n      //7\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Inbox tab!\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              All notifications coming from an opted in channel lands in your inbox. It might be empty right now but if you have opted in to a channel, it will blossom soon!\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              But wait, that's not all, notifications are tied to your user wallet which means any crypto frontend or wallet can display it! More on this later!!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      // placement: \"top\",\r\n      // position: \"top-center\",\r\n      // target: `.hdvjVo`,\r\n      placement: \"center\" as const,\r\n      target: \"body\",\r\n      // disableOverlayClose: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //8\r\n      content: (\r\n        <Item\r\n          color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          size=\"normal\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span color=\"inherit\">\r\n            Click on spam tab from sidebar to see how spam works!\r\n          </Span>\r\n        </Item>\r\n      ),\r\n      placement: \"right-start\" as const,\r\n      target: `.spam`,\r\n      spotlightClicks: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n      styles: {\r\n        buttonNext: {\r\n          display: 'none',\r\n        },\r\n        buttonSkip: {\r\n          display: 'none',\r\n        },\r\n        buttonClose: {\r\n          display: 'none',\r\n        }\r\n      },\r\n    },\r\n    { //9\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Spam tab!\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Spam notifications are notifs sent from a channel to your wallet address which you haven't opted in for yet, they might be spammy or a channel might have something important to communicate!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      placement: \"center\" as const,\r\n      target: `body`,\r\n      spotlightClicks: true,\r\n      defaultProps: false,\r\n      hideFooter: true\r\n    },\r\n    {\r\n      //10\r\n      content: (\r\n        <Item\r\n          color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          size=\"normal\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span color=\"inherit\">\r\n            Receive Notifs tab contains all crypto frontends that have adopted EPNS protocol for communication! click on it to check the options out!\r\n          </Span>\r\n        </Item>\r\n      ),\r\n      placement: \"right-start\" as const,\r\n      target: `.receive`,\r\n      // target: `.sc-AxheI`,\r\n      spotlightClicks: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n      styles: {\r\n        buttonNext: {\r\n          display: 'none',\r\n        },\r\n        buttonSkip: {\r\n          display: 'none',\r\n        },\r\n        buttonClose: {\r\n          display: 'none',\r\n        }\r\n      },\r\n    },\r\n    {\r\n      //11\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Receive Notifs tab!\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              EPNS is an open communication network which means any crypto wallet can push notifs to your wallet address!\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              Let's check out few options that are available currently! Keep an eye out for here for your favorite wallet to debut here soon!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n                dispatch(setTutorialContinous(true));\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      placement: \"center\" as const,\r\n      target: `body`,\r\n      // target: `.sc-AxheI`,\r\n      spotlightClicks: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //12\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            EPNS Browser Extension\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Install the EPNS chrome extension to enable your browser to send notifications about your web3 activities!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                window.open(`${process.env.REACT_APP_BROWSER_EXTENSION_URL}`, '_blank');\r\n              }}\r\n            >\r\n              Download\r\n            </Button>\r\n\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      placement: \"bottom\" as const,\r\n      target: `#epns-browser`,\r\n      // target: `.sc-AxheI`,\r\n      spotlightClicks: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //13\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            EPNS iOS App\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Install the EPNS iOS app to enable push notifications directly to your iOS (Apple) devices!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                window.open(`${process.env.REACT_APP_IOS_STAGING_DAPP_URL}`, '_blank');\r\n              }}\r\n            >\r\n              iOS App\r\n            </Button>\r\n\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      placement: \"bottom\" as const,\r\n      target: `#epns-app-ios`,\r\n      // target: `.sc-AxheI`,\r\n      spotlightClicks: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //14\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            EPNS Android App\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Install the EPNS Android app to enable push notifications directly to your android devices!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                window.open(`${process.env.REACT_APP_ANDROID_STAGING_DAPP_URL}`, '_blank');\r\n              }}\r\n            >\r\n              Android App\r\n            </Button>\r\n\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      placement: \"bottom\" as const,\r\n      target: `#epns-app`,\r\n      // target: `.sc-AxheI`,\r\n      spotlightClicks: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //15\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Tutorial Completed 🎉🎉\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Hurray! You finished the tutorial!\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              Congratulations, Now that you are a pro! Go ahead and spread the web3 gospel and notifs saga out to the world!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n\r\n                dispatch(setTutorialContinous(false));\r\n\r\n                if (isDeveloperOpen) dispatch(incrementStepIndex());\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next (For Devs)\r\n            </Button>\r\n\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(setTutorialContinous(false));\r\n                dispatch(setIndex(0));\r\n                dispatch(setWelcomeNotifsEmpty());\r\n                dispatch(setRun(false));\r\n              }}\r\n            >\r\n              Finish\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      locale: { next: <strong aria-label=\"next\">NEXT</strong> },\r\n      placement: \"center\" as const,\r\n      target: \"body\",\r\n      defaultProps: false,\r\n      // spotlightClicks: true,\r\n      // disableOverlayClose: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //16\r\n      content: (\r\n        <Item\r\n          color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          size=\"normal\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span color=\"inherit\">\r\n            Hello Web3 Devs! All resources for developers are hidden inside this tab! let's expand it to continue!\r\n          </Span>\r\n        </Item>\r\n      ),\r\n      placement: \"right-start\" as const,\r\n      target: \".developer\",\r\n      spotlightClicks: true,\r\n      disableAnimation: false,\r\n      disablefloating: false,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n      styles: {\r\n        buttonNext: {\r\n          display: 'none',\r\n        },\r\n        buttonSkip: {\r\n          display: 'none',\r\n        },\r\n        buttonClose: {\r\n          display: 'none',\r\n        }\r\n      }\r\n    },\r\n    {\r\n      //17\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Developer Tab\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Hello Web3 Devs! This tab contains everything you need to get started with creating your own channel!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      locale: { next: <strong aria-label=\"next\">NEXT</strong> },\r\n      placement: \"center\" as const,\r\n      target: \".developer\",\r\n      spotlightClicks: true,\r\n      disableAnimation: false,\r\n      disablefloating: false,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //18\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Create Channel Tab\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Creating the channel is the first step to sending notifications via your dApp, smart contract or backend! Just fill in the required details to get started.\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              Creating a channel on mainnet does have it's activation fee (one time fee) though it is recommended to start on testnet first to get the hang of it.\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                dispatch(incrementStepIndex());\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      placement: \"right-start\" as const,\r\n      target: \".create\",\r\n      spotlightClicks: true,\r\n      disablefloating: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n    {\r\n      //19\r\n      content: (\r\n        <Item>\r\n          <H3\r\n            size=\"x-large\"\r\n            margin=\"5px 0px 15px 0px\"\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n          >\r\n            Developer Documentation\r\n          </H3>\r\n          \r\n          <Item\r\n            color={darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor}\r\n            size=\"normal\"\r\n            align=\"stretch\"\r\n          >\r\n            <Span color=\"inherit\">\r\n              Of course, even before creating the channel, maybe the best place to start developing on EPNS protocol is to follow the developer docs.\r\n            </Span>\r\n\r\n            <Span color=\"inherit\" margin=\"20px 0px 0px 0px\">\r\n              Please find the link to developer docs below (or you can just click the Developer's guide tab). As always, feel free to reach out to us either on <A href=\"https://discord.gg/YVPB99F9W5\" target=\"_blank\">discord</A> or a channel of your choice!\r\n            </Span>\r\n          </Item>\r\n\r\n          <ItemH\r\n            self=\"stretch\"\r\n            items=\"stretch\"\r\n            margin=\"10px -10px -10px -10px\"\r\n          >\r\n            <Button\r\n              flex=\"1\"\r\n              margin=\"10px 10px\"\r\n              bg={darkMode ? themeDark.dynamicTutsButtonBg : themeLight.dynamicTutsButtonBg}\r\n              color={darkMode ? themeDark.dynamicTutsButtonColor : themeLight.dynamicTutsButtonColor}\r\n              onClick={() => {\r\n                window.open(\"https://docs.epns.io/\", \"_blank\");\r\n                // dispatch(incrementStepIndex());\r\n                dispatch(setRun(false))\r\n                dispatch(setIndex(0))\r\n                dispatch(setWelcomeNotifsEmpty());\r\n              }}\r\n            >\r\n              Developer Docs\r\n            </Button>\r\n          </ItemH>\r\n        </Item>\r\n      ),\r\n      placement: \"top-start\" as const,\r\n      target: \".guide\",\r\n      spotlightClicks: true,\r\n      disablefloating: true,\r\n      defaultProps: false,\r\n      hideFooter: true,\r\n    },\r\n  ];\r\n\r\n  return steps;\r\n}\r\n  \r\nconst BeaconExample = styled.span`\r\n  height: 10px;\r\n  width: 10px;\r\n  background: ${props => props.theme.dynamicTutsPrimaryColor};\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 100%;\r\n  position: relative;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst BeaconExamplePulse = styled.span`\r\n  animation: 1.2s ease-in-out 0s infinite normal none running joyride-beacon-outer;\r\n  background-color: transparent;\r\n  border: 2px solid ${props => props.theme.dynamicTutsPrimaryColor};\r\n  border-radius: 50%;\r\n  box-sizing: border-box;\r\n  display: block;\r\n  height: 26px;\r\n  width: 26px;\r\n  left: -8px;\r\n  top: -8px;\r\n  opacity: 0.9;\r\n  position: absolute;\r\n  transform-origin: center center;\r\n`;\r\n\r\nexport default UserJourneySteps;","import React, { useEffect } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addresses, abis , envConfig } from \"@project/contracts\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore from \"singletons/UsersDataStore\";\r\n\r\nimport {\r\n  setCoreReadProvider,\r\n  setCoreWriteProvider,\r\n  setCommunicatorReadProvider,\r\n  setCommunicatorWriteProvider,\r\n} from \"redux/slices/contractSlice\";\r\n\r\nimport {\r\n  setPushAdmin,\r\n} from \"redux/slices/contractSlice\";\r\nimport { convertAddressToAddrCaip } from \"helpers/CaipHelper\";\r\nimport { getReq } from \"api\";\r\nimport { setAliasAddress, setAliasEthAddress, setAliasVerified, setCanVerify, setCoreChannelAdmin, setDelegatees, setUserChannelDetails } from \"redux/slices/adminSlice\";\r\nimport { setProcessingState } from \"redux/slices/channelCreationSlice\";\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\n\r\nconst CORE_CHAIN_ID = envConfig.coreContractChain;\r\n\r\nconst InitState = () => {\r\n  const dispatch = useDispatch();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const {\r\n    epnsReadProvider,\r\n    epnsWriteProvider,\r\n    epnsCommReadProvider,\r\n  } = useSelector((state: any) => state.contracts);\r\n  const { channelDetails, delegatees, aliasDetails: { aliasAddr, aliasEthAddr, isAliasVerified } } = useSelector((state: any) => state.admin);\r\n  const { processingState } = useSelector((state: any) => state.channelCreation);\r\n\r\n  const onCoreNetwork: boolean = CORE_CHAIN_ID === chainId;\r\n\r\n  useEffect(() => {\r\n    if (!library) return;\r\n    \r\n    (async function init() {\r\n      console.log(library);\r\n      const coreProvider = onCoreNetwork\r\n        ? library\r\n        : new ethers.providers.JsonRpcProvider(envConfig.coreRPC)\r\n      \r\n      // inititalise the read contract for the core network\r\n      const coreContractInstance = new ethers.Contract(\r\n        addresses.epnscore,\r\n        abis.epnscore,\r\n        coreProvider\r\n      );\r\n      \r\n      // initialise the read contract for the communicator function\r\n      const commAddress = onCoreNetwork\r\n        ? addresses.epnsEthComm\r\n        : addresses.epnsPolyComm;\r\n      const commContractInstance = new ethers.Contract(\r\n        commAddress,\r\n        abis.epnsComm,\r\n        library\r\n      );\r\n      dispatch(setCommunicatorReadProvider(commContractInstance));\r\n      dispatch(setCoreReadProvider(coreContractInstance));\r\n\r\n      // initialise the read contract for the communicator function\r\n      if (!!(library && account)) {\r\n        let signer = library.getSigner(account);\r\n        let coreSigner = coreProvider.getSigner(account);\r\n\r\n        const coreSignerInstance = new ethers.Contract(\r\n          addresses.epnscore,\r\n          abis.epnscore,\r\n          coreSigner\r\n        );\r\n        const communicatorSignerInstance = new ethers.Contract(\r\n          commAddress,\r\n          abis.epnsComm,\r\n          signer\r\n        );\r\n        dispatch(setCoreWriteProvider(coreSignerInstance));\r\n        dispatch(setCommunicatorWriteProvider(communicatorSignerInstance));\r\n      }\r\n    })();\r\n  }, [account, chainId]);\r\n\r\n  useEffect(() => {\r\n    if (!epnsReadProvider || !epnsCommReadProvider || !epnsWriteProvider) return;\r\n    // save push admin to global state\r\n    epnsReadProvider.pushChannelAdmin()\r\n      .then((response) => {\r\n        dispatch(setPushAdmin(response));\r\n      })\r\n      .catch(err => {\r\n        console.log({ err })\r\n      });\r\n\r\n    // EPNS Read Provider Set\r\n    if (epnsReadProvider != null && epnsCommReadProvider != null) {\r\n      // Instantiate Data Stores\r\n      UsersDataStore.instance.init(\r\n        account,\r\n        epnsReadProvider,\r\n        epnsCommReadProvider\r\n      );\r\n      ChannelsDataStore.instance.init(\r\n        account,\r\n        epnsReadProvider,\r\n        epnsCommReadProvider,\r\n        chainId\r\n      );\r\n    }\r\n  }, [epnsReadProvider, epnsCommReadProvider, epnsWriteProvider]);\r\n\r\n  // Check if a user is a channel or not\r\n  const checkUserForChannelOwnership = async (channelAddress: string) => {\r\n    if (!channelAddress) return;\r\n    // Check if account is admin or not and handle accordingly\r\n    const ownerAccount = channelAddress;\r\n    EPNSCoreHelper.getChannelJsonFromUserAddress(ownerAccount, epnsReadProvider)\r\n      .then(async (response) => {\r\n        // if channel admin, then get if the channel is verified or not, then also fetch more details about the channel\r\n        const verificationStatus = await epnsWriteProvider.getChannelVerfication(\r\n          ownerAccount\r\n        );\r\n        const channelJson = await epnsWriteProvider.channels(ownerAccount);\r\n        const channelSubscribers = await ChannelsDataStore.instance.getChannelSubscribers(\r\n          account\r\n        );\r\n        dispatch(\r\n          setUserChannelDetails({\r\n            ...response,\r\n            ...channelJson,\r\n            subscribers: channelSubscribers,\r\n          })\r\n        );\r\n        dispatch(setCoreChannelAdmin(ownerAccount));\r\n        dispatch(setCanVerify(Boolean(verificationStatus)));\r\n      })\r\n      .catch((err) => {\r\n        console.log(\r\n          \"There was an error [checkUserForChannelOwnership]:\",\r\n          err.message\r\n        );\r\n        dispatch(setUserChannelDetails(null));\r\n        dispatch(setProcessingState(0));\r\n      })\r\n  };\r\n\r\n  // fetch all the channels who have delegated to this account\r\n  const fetchDelegators = (aliasAddress: string, aliasEthAddress: string, aliasVerified: string) => {\r\n    if (!epnsReadProvider || !epnsCommReadProvider || !epnsWriteProvider) return;\r\n\r\n    const channelAddressInCaip = convertAddressToAddrCaip(account, chainId);\r\n    getReq(`/channels/_getUserDelegations/${channelAddressInCaip}`)\r\n      .then(async ({ data: delegators }) => {\r\n        // if there are actual delegators\r\n        // fetch basic information abouot the channels and store it to state\r\n        const isChannelDetails = channelDetails && channelDetails !== 'unfetched';\r\n        let delegateeList: Array<string> = [];\r\n        if (((aliasAddress || aliasEthAddress) && aliasVerified && isChannelDetails) || (processingState === 0 && isChannelDetails)) {\r\n          if(onCoreNetwork)\r\n            delegateeList.push(account);\r\n          else {\r\n            if (aliasEthAddr) {\r\n              delegateeList.push(aliasEthAddr);\r\n            }\r\n          }\r\n        }\r\n        if (delegators && delegators.channelOwners) {\r\n          console.log(delegators.channelOwners, delegators);\r\n          delegateeList.push(...delegators.channelOwners);\r\n          console.log(delegateeList);\r\n        }\r\n        console.log(delegateeList);\r\n        if (delegateeList.length > 0) {\r\n          const channelInformationPromise = [...delegateeList].map((channelAddress) => {\r\n            return ChannelsDataStore.instance\r\n              .getChannelJsonAsync(channelAddress)\r\n              .then((res) => ({ ...res, address: channelAddress }))\r\n              .catch(() => false);\r\n          });\r\n          const channelInformation = await Promise.all(\r\n            channelInformationPromise\r\n          );\r\n          dispatch(setDelegatees(channelInformation));\r\n        } else {\r\n          dispatch(setDelegatees([]));\r\n        }})\r\n      .catch(async (err) => {\r\n        console.log({ err });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!account) return;\r\n    (async function () {\r\n      await fetchDelegators(aliasAddr, aliasEthAddr, isAliasVerified);\r\n    })()\r\n  }, [aliasAddr, aliasEthAddr, isAliasVerified, account, processingState, channelDetails]);\r\n\r\n  // get core address of alias\r\n  const checkUserForEthAlias = async () => {\r\n    const userAddressInCaip = convertAddressToAddrCaip(account, chainId);\r\n    const { aliasEth, aliasVerified} = await getReq(`/v1/alias/${userAddressInCaip}/channel`).then(({ data }) => {\r\n      if (data) {\r\n        dispatch(setAliasEthAddress(data.channel));\r\n        dispatch(setCoreChannelAdmin(data.channel));\r\n        dispatch(setAliasVerified(data.is_alias_verified));\r\n        return {aliasEth: data['channel'], aliasVerified: data['is_alias_verified']};\r\n      }\r\n      return { aliasEth: null, aliasVerified: null };\r\n    });\r\n    return {aliasEth, aliasVerified};\r\n  };\r\n\r\n  const checkUserForAlias = async () => {\r\n    let { aliasAddress = null, isAliasVerified = null } = await ChannelsDataStore.instance.getChannelDetailsFromAddress(account);\r\n    if (aliasAddress == \"NULL\") aliasAddress = null;\r\n    \r\n    if (aliasAddress) {\r\n      dispatch(setAliasAddress(aliasAddress));\r\n      dispatch(setAliasVerified(isAliasVerified));\r\n      if (isAliasVerified) {\r\n        dispatch(setAliasVerified(true));\r\n        dispatch(setProcessingState(0));\r\n      } else {\r\n        dispatch(setProcessingState(2));\r\n        dispatch(setAliasVerified(false));\r\n      }\r\n    }\r\n    return;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!epnsReadProvider || !epnsCommReadProvider || channelDetails !== 'unfetched' || !account)\r\n      return;\r\n    \r\n    (async function () {\r\n      if (onCoreNetwork) {\r\n        await checkUserForChannelOwnership(account);\r\n        await checkUserForAlias();\r\n      } else {\r\n        const { aliasEth, aliasVerified } = await checkUserForEthAlias();\r\n        if (aliasEth) {\r\n          await checkUserForChannelOwnership(aliasEth);\r\n          if (!aliasVerified) {\r\n            dispatch(setProcessingState(3));\r\n          } else {\r\n            dispatch(setProcessingState(0));\r\n          }\r\n        } else {\r\n          dispatch(setUserChannelDetails(null));\r\n          dispatch(setProcessingState(0));\r\n        }\r\n      }\r\n    })();\r\n  }, [epnsReadProvider, epnsCommReadProvider, channelDetails, account]);\r\n\r\n  return <></>;\r\n};\r\n\r\nexport default InitState;\r\n","import React, { useState } from \"react\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport { Web3Provider } from \"ethers/providers\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { AbstractConnector } from \"@web3-react/abstract-connector\";\r\nimport { useEagerConnect, useInactiveListener, useBrowserNotification } from \"hooks\";\r\nimport { injected, walletconnect, portis, ledger } from \"connectors\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport Joyride, { CallBackProps } from \"react-joyride\";\r\n\r\nimport styled from \"styled-components\";\r\nimport { Item, ItemH, Span, H2, B, A, C } from \"./primaries/SharedStyling\";\r\nimport Header from \"sections/Header\";\r\nimport Navigation from \"sections/Navigation\";\r\n\r\nimport NavigationContextProvider from \"contexts/NavigationContext\";\r\nimport MasterInterfacePage from \"pages/MasterInterfacePage\";\r\n\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nimport { themeLight, themeDark } from \"config/Themization\";\r\nimport GLOBALS from \"config/Globals\";\r\n\r\nimport { setRun, setIndex, setWelcomeNotifsEmpty } from \"./redux/slices/userJourneySlice\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport UserJourneySteps from \"segments/userJourneySteps\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\nimport InitState from \"components/InitState\";\r\n\r\n\r\ndotenv.config();\r\n\r\n// define the different type of connectors which we use\r\nconst web3Connectors = {\r\n  Injected: {\r\n    obj: injected,\r\n    logo: \"./svg/login/metamask.svg\",\r\n    title: \"MetaMask\",\r\n  },\r\n  WalletConnect: {\r\n    obj: walletconnect,\r\n    logo: \"./svg/login/walletconnect.svg\",\r\n    title: \"Wallet Connect\",\r\n  },\r\n  // Trezor: {obj: trezor, logo: './svg/login/trezor.svg', title: 'Trezor'},\r\n  Ledger: { obj: ledger, logo: \"./svg/login/ledger.svg\", title: \"Ledger\" },\r\n  Portis: { obj: portis, logo: \"./svg/login/portis.svg\", title: \"Portis\" },\r\n};\r\n\r\nexport default function App() {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { connector, activate, active, error, account } = useWeb3React<Web3Provider>();\r\n  const [activatingConnector, setActivatingConnector] = React.useState<\r\n    AbstractConnector\r\n  >();\r\n  const [currentTime, setcurrentTime] = React.useState(0);\r\n\r\n  const {\r\n    run,\r\n    stepIndex,\r\n    tutorialContinous,\r\n  } = useSelector((state: any) => state.userJourney);\r\n\r\n  \r\n\r\n  React.useEffect(() => {\r\n    const now = Date.now() / 1000;\r\n    setcurrentTime(now)\r\n  }, [])\r\n  React.useEffect(() => {\r\n    if (activatingConnector && activatingConnector === connector) {\r\n      setActivatingConnector(undefined);\r\n    }\r\n  }, [activatingConnector, connector]);\r\n\r\n  // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\r\n  const triedEager = useEagerConnect();\r\n  // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\r\n  useInactiveListener(!triedEager || !!activatingConnector);\r\n\r\n  // Initialize GA\r\n  ReactGA.initialize(envConfig.googleAnalyticsId);\r\n  ReactGA.pageview(\"/login\");\r\n  // Initialize GA\r\n\r\n  // Initialize Theme\r\n  const [darkMode, setDarkMode] = useState(false);\r\n\r\n  // Enable browser notification\r\n  useBrowserNotification(account)\r\n\r\n  const toggleDarkMode = () => {\r\n    setDarkMode(!darkMode);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const data = localStorage.getItem('theme')\r\n    if (data) {\r\n      setDarkMode(JSON.parse(data))\r\n    }\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    localStorage.setItem('theme', JSON.stringify(darkMode))\r\n  })\r\n\r\n  React.useEffect(() => {\r\n    document.body.style.backgroundColor = darkMode ? \"#000\" : \"#fff\";\r\n  }, [darkMode])\r\n\r\n\r\n  React.useEffect(() => {\r\n    window?.Olvy?.init({\r\n      organisation: \"epns\",\r\n      target: \"#olvy-target\",\r\n      type: \"sidebar\",\r\n      view: {\r\n        showSearch: false,\r\n        compact: false,\r\n        showHeader: true, // only applies when widget type is embed. you cannot hide header for modal and sidebar widgets\r\n        showUnreadIndicator: true,\r\n        unreadIndicatorColor: \"#cc1919\",\r\n        unreadIndicatorPosition: \"top-right\"\r\n      }\r\n    });\r\n    return function cleanup() {\r\n      window?.Olvy?.teardown();\r\n    };\r\n  });\r\n\r\n  const steps = UserJourneySteps({ darkMode });\r\n\r\n  const handleJoyrideCallback = (data: CallBackProps) => {\r\n    // console.log(data)\r\n    // console.log(STATUS);\r\n    const { action, lifecycle, status, index } = data\r\n    if (lifecycle === \"ready\") {\r\n      setTimeout(() => {\r\n        document.querySelector(\"div > section > div\").scrollTop = 0\r\n      }, 100)\r\n    }\r\n\r\n\r\n    if (action === \"close\" || index === 20) { //action === \"close\" ||\r\n      dispatch(setRun(false))\r\n      dispatch(setIndex(0))\r\n      dispatch(setWelcomeNotifsEmpty());\r\n    }\r\n    // else if (action === 'next' && status === 'running') {\r\n    //   dispatch(incrementStepIndex());\r\n    // }\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={darkMode ? themeDark : themeLight}>\r\n      <InitState />\r\n      <NavigationContextProvider>\r\n        <Joyride\r\n          run={run}\r\n          steps={steps}\r\n          continuous={tutorialContinous}\r\n          stepIndex={stepIndex}\r\n          // hideFooter={true}\r\n          // primaryProps={false}\r\n          hideBackButton={true}\r\n          hideCloseButton={false}\r\n          disableScrolling={true}\r\n          disableScrollParentFix={true}\r\n          // disableFlip={true}\r\n          // showNextButton={false}\r\n          showSkipButton={false}\r\n          disableOverlayClose={true}\r\n          callback={handleJoyrideCallback}\r\n          styles={{\r\n            options: {\r\n              arrowColor: darkMode ? themeDark.dynamicTutsBg : themeLight.dynamicTutsBg,\r\n              backgroundColor: darkMode ? themeDark.dynamicTutsBg : themeLight.dynamicTutsBg,\r\n              overlayColor: darkMode ? themeDark.dynamicTutsBgOverlay : themeLight.dynamicTutsBgOverlay,\r\n              primaryColor: darkMode ? themeDark.dynamicTutsPrimaryColor : themeLight.dynamicTutsPrimaryColor,\r\n              textColor: darkMode ? themeDark.dynamicTutsFontColor : themeLight.dynamicTutsFontColor,\r\n              zIndex: 1000,\r\n            },\r\n          }}\r\n        />\r\n        <HeaderContainer>\r\n          <Header\r\n            isDarkMode={darkMode}\r\n            darkModeToggle={toggleDarkMode}\r\n          />\r\n        </HeaderContainer>\r\n\r\n        <ParentContainer\r\n          headerHeight={GLOBALS.CONSTANTS.HEADER_HEIGHT}\r\n        >\r\n\r\n          {(active) && !error && (\r\n            <>\r\n              <LeftBarContainer\r\n                leftBarWidth={GLOBALS.CONSTANTS.LEFT_BAR_WIDTH}\r\n              >\r\n                <Navigation />\r\n              </LeftBarContainer>\r\n\r\n              <ContentContainer\r\n                leftBarWidth={GLOBALS.CONSTANTS.LEFT_BAR_WIDTH}\r\n              >\r\n                {/* Shared among all pages, load universal things here */}\r\n                <MasterInterfacePage />\r\n              </ContentContainer>\r\n            </>\r\n          )}\r\n\r\n          {(!active) && (\r\n            <Item\r\n              justify=\"flex-start\"\r\n              padding=\"15px\"\r\n            >\r\n              <ProviderLogo\r\n                src=\"./epnshomelogo.png\"\r\n                srcSet={\"./epnshomelogo@2x.png 2x, ./epnshomelogo@2x.png 3x\"}\r\n              />\r\n\r\n              <Item\r\n                bg={darkMode ? themeDark : themeLight}\r\n                border=\"1px solid #ddd\"\r\n                padding=\"15px\"\r\n                radius=\"12px\"\r\n                flex=\"initial\"\r\n              >\r\n                <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                  <Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\r\n                    Connect\r\n                  </Span>\r\n                  <Span weight=\"200\" color={darkMode ? themeDark : themeLight}> Your Wallet</Span>\r\n                </H2>\r\n\r\n                <ItemH maxWidth=\"700px\" align=\"stretch\">\r\n                  {Object.keys(web3Connectors).map((name) => {\r\n                    const currentConnector = web3Connectors[name].obj;\r\n                    const connected = currentConnector === connector;\r\n                    const disabled =\r\n                      !triedEager ||\r\n                      !!activatingConnector ||\r\n                      connected ||\r\n                      !!error;\r\n                    const image = web3Connectors[name].logo;\r\n                    const title = web3Connectors[name].title;\r\n\r\n                    return (\r\n                      <ProviderButton\r\n                        disabled={disabled}\r\n                        key={name}\r\n                        onClick={() => {\r\n                          setActivatingConnector(currentConnector);\r\n                          activate(currentConnector);\r\n                        }}\r\n                        border=\"#35c5f3\"\r\n                      >\r\n                        <ProviderImage src={image} />\r\n\r\n                        <Span\r\n                          spacing=\"0.1em\"\r\n                          textTransform=\"uppercase\"\r\n                          size=\"12px\"\r\n                          weight=\"600\"\r\n                          padding=\"20px\"\r\n                          background={darkMode ? themeDark.backgroundBG : themeLight.backgroundBG}\r\n                          color={darkMode ? themeDark.fontColor : themeLight.fontColor}\r\n\r\n                        >\r\n                          {title}\r\n                        </Span>\r\n                      </ProviderButton>\r\n                    );\r\n                  })}\r\n                </ItemH>\r\n              </Item>\r\n\r\n              <Span margin=\"30px 0px 0px 0px\" size=\"14px\" color={darkMode ? themeDark.fontColor : themeLight.fontColor}>\r\n                By unlocking your wallet, <B>You agree</B> to our{\" \"}\r\n                <A href=\"https://epns.io/tos\" target=\"_blank\">\r\n                  Terms of Service\r\n                </A>{\" \"}\r\n                and our{\" \"}\r\n                <A href=\"https://epns.io/privacy\" target=\"_blank\">\r\n                  Privacy Policy\r\n                </A>\r\n                .\r\n              </Span>\r\n              <Item\r\n                flex=\"initial\"\r\n                padding=\"30px 15px\"\r\n                radius=\"12px\"\r\n              >\r\n                <StyledItem>\r\n                  <span> Note: </span> The EPNS protocol has been under development for 1+ year,  and completed a <C href=\"https://epns.io/EPNS-Protocol-Audit2021.pdf\" target=\"_blank\"> ChainSafe audit </C> in October 2021. However, the mainnet is still a new product milestone.  Always DYOR, and anticipate bugs and UI improvements.  Learn how to report any bugs in our  <C href=\"https://discord.com/invite/YVPB99F9W5\" target=\"_blank\">Discord.</C>\r\n                </StyledItem>\r\n              </Item>\r\n\r\n            </Item>\r\n          )}\r\n        </ParentContainer>\r\n      </NavigationContextProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\n// CSS STYLES\r\nconst StyledItem = styled(Item)`\r\n  font-size: 14px;\r\n  letter-spacing: 0.4px;\r\n  display: block;\r\n  background: ${props => props.theme.backgroundBG};\r\n  color: ${props => props.theme.color};\r\n  border:1px solid #ddd;\r\n  padding:30px 15px;\r\n  border-radius:12px;\r\n  line-height: 18px;\r\n  align-items: center;\r\n  width:44rem;\r\n\r\n  span{\r\n    color: #e20880;\r\n  }\r\n\r\n  @media(max-width:400px){\r\n    width: auto;\r\n  }\r\n`;\r\n\r\n\r\nconst HeaderContainer = styled.header`\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 999;\r\n`;\r\n\r\nconst ParentContainer = styled.div`\r\n  flex-wrap: wrap;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  flex: 1;\r\n  background: ${props => props.theme.backgroundBG};\r\n  margin: ${props => props.headerHeight}px 0px 0px 0px;\r\n  min-height: calc(100vh - ${GLOBALS.CONSTANTS.HEADER_HEIGHT}px);\r\n`;\r\n\r\nconst LeftBarContainer = styled.div`\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: ${props => props.leftBarWidth}px;\r\n  position: fixed;\r\n\r\n  @media (max-width: 992px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst ContentContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  align-self: center;\r\n  width: 100%;\r\n\r\n\r\n\r\n  margin: 0px 0px 0px ${props => props.leftBarWidth}px;\r\n\r\n  @media (max-width: 992px) {\r\n    margin: 0px;\r\n  }\r\n`;\r\n\r\nconst ProviderLogo = styled.img`\r\n  width: 15vw;\r\n  align-self: center;\r\n  display: flex;\r\n  margin: 10px 20px 20px 20px;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst ProviderButton = styled.button`\r\n  flex: 1 1 0;\r\n  min-width: 280px;\r\n  background: ${props => props.theme.mainBg};\r\n  outline: 0;ProviderButton\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  margin: 20px;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 10px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    border: 1px solid ${(props) => props.border};\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    border: 1px solid ${(props) => props.border};\r\n  }\r\n`;\r\n\r\nconst ProviderImage = styled.img`\r\n  width: 32px;\r\n  max-height: 32px;\r\n  padding: 10px;\r\n`;\r\n","import { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { isLedgerDappBrowserProvider } from '@epnsproject/sdk-ledgerlive';\r\nimport { injected, ledgerLiveConnector } from 'connectors'\r\n\r\nexport function useEagerConnect() {\r\n  const { activate, active } = useWeb3React()\r\n\r\n  const [tried, setTried] = useState(false)\r\n\r\n  useEffect(() => {\r\n    // If running on a ledger live app, use ledger connector. Else use injected connector\r\n    if (isLedgerDappBrowserProvider()) {\r\n      activate(ledgerLiveConnector, undefined, true).catch(() => {\r\n        setTried(true);\r\n      });\r\n    } else {\r\n      injected.isAuthorized().then((isAuthorized: boolean) => {\r\n        if (isAuthorized) {\r\n          activate(injected, undefined, true).catch(() => {\r\n            setTried(true);\r\n          });\r\n        } else {\r\n          setTried(true);\r\n        }\r\n      });\r\n    }\r\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (!tried && active) {\r\n      setTried(true)\r\n    }\r\n  }, [tried, active])\r\n\r\n  return tried\r\n}","import { useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { injected } from 'connectors'\r\n\r\nexport function useInactiveListener(suppress: boolean = false) {\r\n    const { active, error, activate } = useWeb3React()\r\n  \r\n    useEffect((): any => {\r\n      const { ethereum } = window as any\r\n      if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n        const handleConnect = () => {\r\n          console.log(\"Handling 'connect' event\")\r\n          activate(injected)\r\n        }\r\n        const handleChainChanged = (chainId: string | number) => {\r\n          console.log(\"Handling 'chainChanged' event with payload\", chainId)\r\n          activate(injected)\r\n        }\r\n        const handleAccountsChanged = (accounts: string[]) => {\r\n          console.log(\"Handling 'accountsChanged' event with payload\", accounts)\r\n          if (accounts.length > 0) {\r\n            activate(injected)\r\n          }\r\n        }\r\n        const handleNetworkChanged = (networkId: string | number) => {\r\n          console.log(\"Handling 'networkChanged' event with payload\", networkId)\r\n          activate(injected)\r\n        }\r\n  \r\n        ethereum.on('connect', handleConnect)\r\n        ethereum.on('chainChanged', handleChainChanged)\r\n        ethereum.on('accountsChanged', handleAccountsChanged)\r\n        ethereum.on('networkChanged', handleNetworkChanged)\r\n  \r\n        return () => {\r\n          if (ethereum.removeListener) {\r\n            ethereum.removeListener('connect', handleConnect)\r\n            ethereum.removeListener('chainChanged', handleChainChanged)\r\n            ethereum.removeListener('accountsChanged', handleAccountsChanged)\r\n            ethereum.removeListener('networkChanged', handleNetworkChanged)\r\n          }\r\n        }\r\n      }\r\n    }, [active, error, suppress, activate])\r\n  }","import { useState, useEffect } from 'react'\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport function useBrowserNotification(account){\r\n    const [triggerNotification, setTriggerNotification] = useState(false);\r\n     \r\n    useEffect(() => {\r\n      if (!(\"serviceWorker\" in navigator)) return\r\n      if (!account) return;\r\n      (async function () {\r\n        const {browserFunction} = require('firebase')\r\n        await browserFunction(account);\r\n      })();\r\n    }, [account]);\r\n  \r\n    useEffect(() => {\r\n      if (!(\"serviceWorker\" in navigator)) return\r\n      const {onMessageListener} = require(\"firebase\")\r\n      onMessageListener().then(payload => {\r\n        if (!(\"Notification\" in window)) {\r\n          toast.dark(`${payload.notification.body} from: ${payload.notification.title}`, {\r\n            type: toast.TYPE.DARK,\r\n            autoClose: 5000,\r\n            position: \"top-right\"\r\n          });\r\n        } else {\r\n          console.log('\\n\\n\\n\\n\\n')\r\n          console.log(\"revieced push notification\")\r\n          console.log('\\n\\n\\n\\n\\n')\r\n          const notificationTitle = payload.notification.title;\r\n          const notificationOptions = {\r\n            title: payload.data.app,\r\n            body: payload.notification.body,\r\n            image: payload.data.aimg,\r\n            icon: payload?.data?.icon,\r\n            data: {\r\n              url: payload?.data?.acta || payload?.data?.url,\r\n            },\r\n          };\r\n          var notification = new Notification(notificationTitle, notificationOptions);\r\n        }\r\n      }).catch(err => console.log('failed: ', err))\r\n        .finally(() => setTriggerNotification(!triggerNotification)); //retrigger the listener after it has been used once\r\n    }, [triggerNotification]);\r\n  }","import {configureStore, combineReducers, getDefaultMiddleware} from '@reduxjs/toolkit';\r\nimport contractReducer from './slices/contractSlice';\r\nimport channelReducer from './slices/channelSlice';\r\nimport channelCreationReducer from './slices/channelCreationSlice';\r\nimport adminReducer from './slices/adminSlice';\r\nimport notificationReducer from './slices/notificationSlice';\r\nimport spamReducer from './slices/spamSlice';\r\nimport userJourneyReducer from './slices/userJourneySlice';\r\nimport canSendNotification  from \"./slices/sendNotificationSlice\"\r\n\r\nconst rootReducer = combineReducers({\r\n\tcontracts: contractReducer,\r\n\tchannels: channelReducer,\r\n\tchannelCreation: channelCreationReducer,\r\n\tadmin: adminReducer,\r\n\tnotifications: notificationReducer,\r\n\tspam: spamReducer,\r\n\tuserJourney: userJourneyReducer,\r\n\tcanSend:canSendNotification,\r\n});\r\n\r\nconst store = configureStore({\r\n\treducer: rootReducer,\r\n\tmiddleware: getDefaultMiddleware({\r\n\t\tserializableCheck: false,\r\n\t\timmutableCheck: false\r\n\t})\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport { ethers } from \"ethers\";\r\nimport { Provider } from \"react-redux\";\r\nimport { Web3ReactProvider } from \"@web3-react/core\";\r\nimport { ApolloClient, ApolloProvider, InMemoryCache } from \"@apollo/client\";\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport * as dotenv from \"dotenv\";\r\n\r\nimport App from \"./App\";\r\nimport store from \"./redux/store\";\r\nimport \"./index.css\";\r\n\r\n// enable environmental variables across the entire application\r\ndotenv.config();\r\n// You should replace this uri with your own and put it into a .env file\r\nconst client = new ApolloClient({\r\n  uri: \"https://api.thegraph.com/subgraphs/name/epnsproject/epnsstaging\",\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\n/**\r\n * A utility function used to get the provider\r\n */\r\nfunction getLibrary(provider) {\r\n  const gottenProvider = new ethers.providers.Web3Provider(provider, \"any\");\r\n  // adding this is important to deal with changing networks\r\n  gottenProvider.on(\"network\", (_, oldNetwork) => {\r\n    if (oldNetwork) {\r\n      // when network has been changed, refresh the page\r\n      window.location.reload();\r\n    }\r\n  });\r\n  return gottenProvider;\r\n}\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Provider store={store}>\r\n      <ApolloProvider client={client}>\r\n        <Web3ReactProvider getLibrary={getLibrary}>\r\n          <App />\r\n        </Web3ReactProvider>\r\n      </ApolloProvider>\r\n    </Provider>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport FadeLoader from \"react-spinners/FadeLoader\";\r\nimport styled, { ThemeProvider,useTheme } from \"styled-components\";\r\nimport { MdOutlineClose } from \"react-icons/md\";\r\n\r\ntype LoaderToastType = { msg: string, loaderColor: string, textColor:string }\r\n\r\nconst override: React.CSSProperties = {\r\n  // width: \"fit-content\",\r\n  height: \"45px\",\r\n};\r\n\r\nconst LoaderToast = ({ msg, loaderColor, textColor }: LoaderToastType) => (\r\n  <LoaderNotification>\r\n    <FadeLoader\r\n      color={loaderColor}\r\n      height={9}\r\n      width={2.5}\r\n      margin={0}\r\n      css={override}\r\n    />\r\n    <LoaderMessage style={{\r\n      color: textColor\r\n    }}>{msg}</LoaderMessage>\r\n  </LoaderNotification>\r\n);\r\n\r\nconst CloseButton = ({ closeToast }) => (<Button onClick={closeToast}>\r\n  <MdOutlineClose color=\"#657795\" size=\"100%\" />\r\n</Button>)\r\n\r\nconst useToast = () => {\r\n  const toastId = React.useRef(null);\r\n  const themes = useTheme();\r\n\r\n  const showToast = (loaderMessage: string) =>\r\n    toastId.current = toast(\r\n      <ThemeProvider theme={themes}>\r\n        <LoaderToast msg={loaderMessage} loaderColor=\"#CF1C84\" textColor={themes.toastTextColor} />\r\n      </ThemeProvider>,\r\n      {\r\n        position: \"top-right\",\r\n        autoClose: false,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        closeButton: false,\r\n        style: {\r\n          background: themes.mainBg,\r\n          border: `1px solid ${themes.toastBorderColor}`,\r\n          // boxShadow: \"0px 0px 10px 0px #00000005\",\r\n          boxShadow: \"10px 10px 10px #ccc\",\r\n          borderRadius: \"20px\",\r\n        }\r\n      }\r\n    );\r\n\r\n  const updateToast = (toastTitle: string, toastMessage: string, toastType: \"SUCCESS\" | \"ERROR\", getToastIcon: (size: number) => JSX.Element = null) => {\r\n    const successBgGradient = themes.scheme===\"dark\"\r\n    ? \"linear-gradient(90.15deg, #30CC8B -125.65%, #30CC8B -125.63%, #2F3137 42.81%)\"\r\n    : \"linear-gradient(90.15deg, #30CC8B -125.65%, #30CC8B -125.63%, #F3FFF9 42.81%)\";\r\n\r\n    const errorBgGradient = themes.scheme===\"dark\"\r\n    ? \"linear-gradient(89.96deg, #FF2070 -101.85%, #2F3137 51.33%)\"\r\n    : \"linear-gradient(90.15deg, #FF2070 -125.65%, #FF2D79 -125.63%, #FFF9FB 42.81%)\";\r\n\r\n\r\n    toast.update(toastId.current, {\r\n      render:\r\n        <Toast>\r\n          <ToastIcon>\r\n            {getToastIcon ? getToastIcon(30) : \"\"}\r\n          </ToastIcon>\r\n          <ToastContent>\r\n            <ToastTitle style={{\r\n              color: themes.fontColor\r\n            }}>\r\n              {toastTitle}\r\n            </ToastTitle>\r\n            <ToastMessage style={{\r\n              color: themes.toastTextColor\r\n            }}>\r\n              {toastMessage}\r\n            </ToastMessage>\r\n          </ToastContent>\r\n        </Toast>\r\n      ,\r\n      type: toast.TYPE.DEFAULT,\r\n      closeButton: CloseButton,\r\n      autoClose: 3000,\r\n      style: {\r\n        background: toastType === \"SUCCESS\" ? successBgGradient : errorBgGradient,\r\n        // boxShadow: \"0px 0px 10px 0px #00000005\",\r\n  boxShadow: \"10px 10px 10px #ccc\",\r\n        borderRadius: \"20px\",\r\n      },\r\n    });\r\n  }\r\n\r\n  return {\r\n    showToast, updateToast\r\n  }\r\n}\r\n\r\nconst LoaderNotification = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 1% 3%;\r\n`;\r\nconst LoaderMessage = styled.div`\r\n  margin-left: 3%;\r\n  font-family: Manrope;\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  line-height: 1.3rem;\r\n  letter-spacing: 0em;\r\n  text-align: left;\r\n`;\r\n\r\nconst Toast = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  margin: 1.5% 1%;\r\n`;\r\nconst ToastIcon = styled.div`\r\n  width:15%;\r\n  margin-right: 4%;\r\n`;\r\nconst ToastContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\nconst ToastTitle = styled.div`\r\n  font-family: Manrope;\r\n  font-size: 1.1rem;\r\n  font-weight: 700;\r\n  line-height: 1.4rem;\r\n  letter-spacing: 0em;\r\n  text-align: left;\r\n  margin-bottom: 1%;\r\n`;\r\nconst ToastMessage = styled.div`\r\n  font-family: Manrope;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  line-height: 1.3rem;\r\n  letter-spacing: 0em;\r\n  text-align: left;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  cursor:pointer;\r\n  background:none;\r\n  margin:0;\r\n  padding:0;\r\n  width: 1.3rem;\r\n  height: 1.3rem;\r\n`\r\n\r\nexport default useToast;","import { EnvHelper } from \"./UtilityHelper\";\r\nimport ipfsClient from 'ipfs-http-client';\r\n\r\nexport const productionIpfsGateway: string = 'https://epns-gateway.infura-ipfs.io/ipfs/';\r\nexport const developmentIpfsGateway: string = 'https://epns-testing.infura-ipfs.io/ipfs/';\r\n\r\nexport const IPFSGateway = EnvHelper.isProduction() ? productionIpfsGateway : developmentIpfsGateway;\r\n\r\nexport const IPFSupload = async (input: string) => {\r\n  const bufferInput = Buffer.from(input);\r\n  const projectId = process.env.REACT_APP_IPFS_PROJECT_ID;\r\n  const projectSecret = process.env.REACT_APP_IPFS_PROJECT_SECRET;\r\n  const auth = 'Basic ' + Buffer.from(projectId + ':' + projectSecret).toString('base64');\r\n\r\n  const client = ipfsClient({\r\n    host: 'ipfs.infura.io',\r\n    port: 5001,\r\n    protocol: 'https',\r\n    apiPath: '/api/v0/add',\r\n    headers: {\r\n      authorization: auth\r\n    }\r\n  });\r\n\r\n  try {\r\n    const storagePointer = await client.add(bufferInput, {pin: true});\r\n    return storagePointer[0]['hash'];\r\n  } catch (err) {\r\n    throw Error(err);\r\n  }\r\n}","import axios from \"axios\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\nconst BASE_URL = envConfig.apiUrl\r\nconst TOOLING_BASE_URL = envConfig.toolingApiUrl\r\n\r\n/**\r\n * A function used to make get requests throughout the entire application\r\n * @param {String} path e.g /feeds/getFeeds, this represents the route of the enpoint to call\r\n * @returns {Promise}\r\n */\r\nexport const getReq = async (path) => {\r\n    try {\r\n      const response = await axios.get(BASE_URL + path);\r\n      return response;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n/**\r\n * A function used to make post requests to the backend\r\n * @param {String} path e.g /feeds/getFeeds, this represents the route of the enpoint to call\r\n * @param {Object} obj\r\n * @returns {Promise}\r\n */\r\nexport const postReq = async (path, obj) => {\r\n  try {\r\n    const response = await axios.post(BASE_URL + path, obj, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const toolingPostReq = async (path, obj) => {\r\n  try {\r\n    const response = await axios.post(TOOLING_BASE_URL + path, obj, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error.response.data);\r\n    throw error.response.data;\r\n  }\r\n};","import { envConfig } from \"@project/contracts\";\r\n\r\nexport const Eip155EnabledIds: Array<Number> = [137, 80001];\r\n\r\ntype CAIPProps = {\r\n  chainId: number;\r\n  address: string;\r\n}\r\n\r\n// return caip obj from chainId and address\r\nexport const getCAIPObj = ({ chainId, address }: CAIPProps) => {\r\n  if (chainId === envConfig.coreContractChain) return {};\r\n\r\n  if (Eip155EnabledIds.includes(chainId)) {\r\n    const caip = 'eip155:' + chainId;\r\n\r\n    return {\r\n      [caip]: address\r\n    }\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n\r\nexport const getCAIP = (chainId: number) => {\r\n  if (Eip155EnabledIds.includes(chainId)) {\r\n    return 'eip155';\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport const convertAddressToAddrCaip = (userAddress: string, chainId: number) => {\r\n  return `eip155:${chainId}:${userAddress}`;\r\n}\r\n\r\nexport const convertAddrCaipToAddress = (addressInCaip: string) => {\r\n  const caipArr = addressInCaip.split(':');\r\n  if (caipArr.length == 3 && caipArr[0] == 'eip155') {\r\n    return caipArr[2];\r\n  } else {\r\n    throw new Error('Invalid CAIP Format');\r\n  }\r\n}\r\n\r\nexport const convertChainIdToChainCaip = (chainId: number) => {\r\n  if (Eip155EnabledIds.includes(chainId))\r\n    return `eip155:${chainId}`;\r\n  else\r\n    return null;\r\n}\r\n\r\nexport const convertChainCaipToChainId = (chainInCaip: string) => {\r\n  const caipArr = chainInCaip.split(':');\r\n  if (caipArr.length == 2 && caipArr[0] == 'eip155') {\r\n    return caipArr[2];\r\n  } else {\r\n    throw new Error('Invalid CAIP Format');\r\n  }\r\n}","import { initializeApp } from \"@firebase/app\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { getMessaging, getToken, onMessage } from \"@firebase/messaging\";\r\nimport { postReq } from \"api\";\r\n\r\n// Initialize the Firebase app in the service worker by passing the generated config\r\nvar firebaseConfig = { ...envConfig.firebaseConfig };\r\nconst TOKEN_KEY = \"EPNS_BASE_PUSH_TOKEN\";\r\nconst CACHEPREFIX = \"PUSH_TOKEN_\";\r\n\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\nconst messaging = getMessaging(firebaseApp);\r\n\r\nconst getLocalToken = () => localStorage.getItem(TOKEN_KEY);\r\nconst setLocalToken = (token) => localStorage.setItem(TOKEN_KEY, token);\r\n\r\nexport const getPushToken = async () => {\r\n  try {\r\n    let token = getLocalToken(TOKEN_KEY);\r\n    if(!token){\r\n      token = await getToken(messaging, {\r\n        vapidKey: envConfig.vapidKey,\r\n      });\r\n      setLocalToken(token);\r\n    }\r\n    return token;\r\n  } catch (err) {\r\n    console.log('\\n\\n\\n\\n')\r\n    console.log(\"An error occurred while retrieving token. \", err);\r\n    console.log('\\n\\n\\n\\n')\r\n  }\r\n};\r\n\r\nexport const onMessageListener = () =>\r\n  new Promise((resolve) => {\r\n    onMessage(messaging, (payload) => {\r\n      resolve(payload);\r\n    });\r\n});\r\n\r\nexport const browserFunction = async(account)=>{\r\n  try{\r\n    const tokenKey = `${CACHEPREFIX}${account}`;\r\n    const tokenExists = localStorage.getItem(tokenKey) || localStorage.getItem(CACHEPREFIX); //temp to prevent more than 1 account to register\r\n    if (!tokenExists) {\r\n      const response = await getPushToken();\r\n      const object = {\r\n        op: 'register',\r\n        wallet: account.toLowerCase(),\r\n        device_token: response,\r\n        platform: 'dapp',\r\n      };\r\n      await postReq('/pushtokens/register', object);\r\n      localStorage.setItem(tokenKey, response);\r\n      localStorage.setItem(CACHEPREFIX, 'response'); //temp to prevent more than 1 account to register\r\n    }\r\n  }catch(e){\r\n    console.log(\"Error setting up the browser notification\",e);\r\n  }\r\n}","import { envConfig } from \"@project/contracts\";\r\nimport { convertChainIdToChainCaip } from \"./CaipHelper\";\r\nimport { utils } from \"ethers\";\r\n\r\n// Utility Helper Functions\r\nconst UtilityHelper = {\r\n  isMainnet : (chainId: number) => {\r\n    if (chainId === 1 || chainId === 137) {\r\n      return true;\r\n    }\r\n  },\r\n}\r\n\r\n// Disable the browser notification on Metamask iphone mobile\r\nexport const isUserAgentIphone = (userAgent) =>{\r\n  return userAgent.indexOf(\"iPhone\") !== -1\r\n}\r\n\r\nexport const envUtil = {\r\n  prod: \"app.epns.io\",\r\n  staging: \"staging.epns.io\",\r\n  dev: \"dev.epns.io\",\r\n  localhost: \"localhost\"\r\n}\r\n\r\nexport const EnvHelper = {\r\n  isProd: window.location.hostname === envUtil['prod'],\r\n  isStaging: window.location.hostname === envUtil['staging'],\r\n  isDev: window.location.hostname === envUtil['dev'],\r\n  isLocalHost: window.location.hostname === envUtil['localhost'],\r\n  isProduction() {\r\n    return (this.isProd || this.isStaging || this.isDev);\r\n  }\r\n};\r\n\r\nexport const networkName = {\r\n  42: \"Ethereum Kovan\",\r\n  1: \"Ethereum Mainnet\",\r\n  137: \"Polygon Mainnet\",\r\n  80001: \"Polygon Mumbai\"\r\n}\r\n\r\nexport const aliasChainIdsMapping = {\r\n  1: 137,\r\n  42: 80001\r\n};\r\n\r\nexport const PolygonNetworks = {\r\n  MUMBAI_TESTNET: {\r\n    chainId: utils.hexValue(80001),\r\n    chainName: 'Polygon Mumbai Testnet',\r\n    nativeCurrency: { name: 'tMATIC', symbol: 'tMATIC', decimals: 18 },\r\n    rpcUrls: ['https://matic-mumbai.chainstacklabs.com', 'https://rpc-mumbai.maticvigil.com'],\r\n    blockExplorerUrls: [\"https://mumbai.polygonscan.com/\"],\r\n  },\r\n  POLYGON_MAINNET: {\r\n    chainId: utils.hexValue(137), \r\n    chainName: \"Polygon Mainnet\", \r\n    nativeCurrency: { name: \"MATIC\", symbol: \"MATIC\", decimals: 18 },\r\n    rpcUrls: [\"https://polygon-rpc.com\"],\r\n    blockExplorerUrls: [\"https://www.polygonscan.com/\"],\r\n  },\r\n}\r\n\r\nexport const CORE_CHAIN_ID: number = envConfig.coreContractChain;\r\n\r\nexport const getAliasFromChannelDetails = (channelDetails: Object | null | string): (string | null) => {\r\n  if (!channelDetails || channelDetails === 'unfetched')\r\n    return null;\r\n  \r\n  if (channelDetails['aliasDetails']) {\r\n    const aliasDetails = channelDetails['aliasDetails'];\r\n    const aliasChainId = aliasChainIdsMapping[CORE_CHAIN_ID];\r\n    const caipChainId = convertChainIdToChainCaip(aliasChainId);\r\n    if (aliasDetails[caipChainId]) {\r\n      return aliasDetails[caipChainId];\r\n    }\r\n  } else if (channelDetails['address'] != null && channelDetails['address'] != \"\") {\r\n    if (channelDetails['chain_id'] === aliasChainIdsMapping[CORE_CHAIN_ID].toString()) {\r\n      return channelDetails['address'];\r\n    }\r\n  } \r\n\r\n  return null;\r\n}\r\n\r\nexport default UtilityHelper;\r\n","(function() {\r\n\t// The random number is a js implementation of the Xorshift PRNG\r\n\tvar randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\r\n\r\n\tfunction seedrand(seed) {\r\n\t\tfor (var i = 0; i < randseed.length; i++) {\r\n\t\t\trandseed[i] = 0;\r\n\t\t}\r\n\t\tfor (var i = 0; i < seed.length; i++) {\r\n\t\t\trandseed[i%4] = ((randseed[i%4] << 5) - randseed[i%4]) + seed.charCodeAt(i);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction rand() {\r\n\t\t// based on Java's String.hashCode(), expanded to 4 32bit values\r\n\t\tvar t = randseed[0] ^ (randseed[0] << 11);\r\n\r\n\t\trandseed[0] = randseed[1];\r\n\t\trandseed[1] = randseed[2];\r\n\t\trandseed[2] = randseed[3];\r\n\t\trandseed[3] = (randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8));\r\n\r\n\t\treturn (randseed[3]>>>0) / ((1 << 31)>>>0);\r\n\t}\r\n\r\n\tfunction createColor() {\r\n\t\t//saturation is the whole color spectrum\r\n\t\tvar h = Math.floor(rand() * 360);\r\n\t\t//saturation goes from 40 to 100, it avoids greyish colors\r\n\t\tvar s = ((rand() * 60) + 40) + '%';\r\n\t\t//lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\r\n\t\tvar l = ((rand()+rand()+rand()+rand()) * 25) + '%';\r\n\r\n\t\tvar color = 'hsl(' + h + ',' + s + ',' + l + ')';\r\n\t\treturn color;\r\n\t}\r\n\r\n\tfunction createImageData(size) {\r\n\t\tvar width = size; // Only support square icons for now\r\n\t\tvar height = size;\r\n\r\n\t\tvar dataWidth = Math.ceil(width / 2);\r\n\t\tvar mirrorWidth = width - dataWidth;\r\n\r\n\t\tvar data = [];\r\n\t\tfor(var y = 0; y < height; y++) {\r\n\t\t\tvar row = [];\r\n\t\t\tfor(var x = 0; x < dataWidth; x++) {\r\n\t\t\t\t// this makes foreground and background color to have a 43% (1/2.3) probability\r\n\t\t\t\t// spot color has 13% chance\r\n\t\t\t\trow[x] = Math.floor(rand()*2.3);\r\n\t\t\t}\r\n\t\t\tvar r = row.slice(0, mirrorWidth);\r\n\t\t\tr.reverse();\r\n\t\t\trow = row.concat(r);\r\n\r\n\t\t\tfor(var i = 0; i < row.length; i++) {\r\n\t\t\t\tdata.push(row[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfunction buildOpts(opts) {\r\n\t\tvar newOpts = {};\r\n\r\n\t\tnewOpts.seed = opts.seed || Math.floor((Math.random()*Math.pow(10,16))).toString(16);\r\n\r\n\t\tseedrand(newOpts.seed);\r\n\r\n\t\tnewOpts.size = opts.size || 8;\r\n\t\tnewOpts.scale = opts.scale || 4;\r\n\t\tnewOpts.color = opts.color || createColor();\r\n\t\tnewOpts.bgcolor = opts.bgcolor || createColor();\r\n\t\tnewOpts.spotcolor = opts.spotcolor || createColor();\r\n\r\n\t\treturn newOpts;\r\n\t}\r\n\r\n\tfunction renderIcon(opts, canvas) {\r\n\t\topts = buildOpts(opts || {});\r\n\t\tvar imageData = createImageData(opts.size);\r\n\t\tvar width = Math.sqrt(imageData.length);\r\n\r\n\t\tcanvas.width = canvas.height = opts.size * opts.scale;\r\n\r\n\t\tvar cc = canvas.getContext('2d');\r\n\t\tcc.fillStyle = opts.bgcolor;\r\n\t\tcc.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\tcc.fillStyle = opts.color;\r\n\r\n\t\tfor(var i = 0; i < imageData.length; i++) {\r\n\r\n\t\t\t// if data is 0, leave the background\r\n\t\t\tif(imageData[i]) {\r\n\t\t\t\tvar row = Math.floor(i / width);\r\n\t\t\t\tvar col = i % width;\r\n\r\n\t\t\t\t// if data is 2, choose spot color, if 1 choose foreground\r\n\t\t\t\tcc.fillStyle = (imageData[i] == 1) ? opts.color : opts.spotcolor;\r\n\r\n\t\t\t\tcc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tfunction createIcon(opts) {\r\n\t\tvar canvas = document.createElement('canvas');\r\n\r\n\t\trenderIcon(opts, canvas);\r\n\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tvar api = {\r\n\t\tcreate: createIcon,\r\n\t\trender: renderIcon\r\n\t};\r\n\r\n\tif (typeof module !== \"undefined\") {\r\n\t\tmodule.exports = api;\r\n\t}\r\n\tif (typeof window !== \"undefined\") {\r\n\t\t window.blockies = api;\r\n\t}\r\n\r\n})();\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled, { css, useTheme } from \"styled-components\";\r\nimport \"react-dropdown/style.css\";\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  H2,\r\n  Span,\r\n  H3,\r\n} from \"../primaries/SharedStyling\";\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport UploadLogo from \"./UploadLogo\";\r\nimport StakingInfo from \"./StakingInfo\";\r\nimport ChannelInfo from \"./ChannelInfo\";\r\nimport ProcessingInfo from \"./ProcessingInfo\";\r\nimport { MdCallMade, MdError } from \"react-icons/md\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { addresses, abis, envConfig } from \"@project/contracts\";\r\nimport \"./createChannel.css\";\r\nimport { getCAIPObj } from \"helpers/CaipHelper\";\r\nimport { IPFSupload } from \"helpers/IpfsHelper\";\r\nimport useToast from \"hooks/useToast\";\r\n\r\nconst ethers = require(\"ethers\");\r\nconst minStakeFees = 50;\r\nconst networkName = {\r\n  42: \"Ethereum Kovan\",\r\n  1: \"Ethereum Mainnet\",\r\n};\r\n\r\nconst coreChain = \"Ethereum Kovan\";\r\nconst CORE_CHAIN_ID = envConfig.coreContractChain;\r\n\r\n// Create Header\r\nfunction CreateChannel() {\r\n  const { account, library, chainId } = useWeb3React();\r\n  const themes = useTheme();\r\n  const onCoreNetwork = CORE_CHAIN_ID === chainId;\r\n  const [processing, setProcessing] = React.useState(0);\r\n  const [processingInfo, setProcessingInfo] = React.useState(\"\");\r\n\r\n  const [uploadDone, setUploadDone] = React.useState(false);\r\n  const [stakeFeesChoosen, setStakeFeesChoosen] = React.useState(false);\r\n  const [channelInfoDone, setChannelInfoDone] = React.useState(false);\r\n  const [chainDetails, setChainDetails] = React.useState(CORE_CHAIN_ID);\r\n  const [channelName, setChannelName] = React.useState(\"\");\r\n  const [channelAlias, setChannelAlias] = React.useState(\"\");\r\n  const [channelInfo, setChannelInfo] = React.useState(\"\");\r\n  const [channelURL, setChannelURL] = React.useState(\"\");\r\n  const [channelFile, setChannelFile] = React.useState(undefined);\r\n  const [channelStakeFees, setChannelStakeFees] = React.useState(minStakeFees);\r\n  const [daiAmountVal, setDaiAmountVal] = useState(\"\");\r\n  const [txStatus, setTxStatus] = useState(2);\r\n  const [progress, setProgress] = React.useState(0);\r\n  const [progressInfo, setProgressInfo] = React.useState(\"\");\r\n  const [logoInfo, setLogoInfo] = React.useState(\"\");\r\n\r\n  //image upload states\r\n  const [view, setView] = useState(false);\r\n  const [imageSrc, setImageSrc] = useState(undefined);\r\n  const [croppedImage, setCroppedImage] = useState(undefined);\r\n\r\n  const [stepFlow, setStepFlow] = React.useState(1);\r\n  const channelToast = useToast();\r\n  const channelToastNotif = useToast();\r\n\r\n  //checking DAI for user\r\n  React.useEffect(() => {\r\n    if (!onCoreNetwork) return;\r\n    const checkDaiFunc = async () => {\r\n      let checkDaiAmount = new ethers.Contract(\r\n        addresses.dai,\r\n        abis.dai,\r\n        library\r\n      );\r\n\r\n      let value = await checkDaiAmount.allowance(account, addresses.epnscore);\r\n      value = value?.toString();\r\n      const convertedVal = ethers.utils.formatEther(value);\r\n      setDaiAmountVal(convertedVal);\r\n      if (convertedVal >= minStakeFees) {\r\n        setChannelStakeFees(convertedVal);\r\n      }\r\n    };\r\n    checkDaiFunc();\r\n  }, []);\r\n\r\n  // timer\r\n  // React.useEffect(() => {\r\n  //   const timer = setInterval(() => {\r\n  //     setProgress((oldProgress) => {\r\n  //       if (oldProgress === 100) {\r\n  //         return 0;\r\n  //       }\r\n  //       const diff = Math.random() * 10;\r\n  //       return Math.min(oldProgress + diff, 100);\r\n  //     });\r\n  //   }, 500);\r\n\r\n  //   return () => {\r\n  //     clearInterval(timer);\r\n  //   };\r\n  // }, []);\r\n\r\n  const proceed = () => {\r\n    setStepFlow(3);\r\n    setProcessing(0);\r\n    setUploadDone(true);\r\n  };\r\n\r\n  const handleLogoSizeLimitation = (base64) => {\r\n    // Setup Error on higher size of 128px\r\n    var sizeOf = require(\"image-size\");\r\n    var base64Data = base64.split(\";base64,\").pop();\r\n    var img = Buffer.from(base64Data, \"base64\");\r\n    var dimensions = sizeOf(img);\r\n\r\n    // Only proceed if image is equal to or less than 128\r\n    if (dimensions.width > 128 || dimensions.height > 128) {\r\n      console.log(\"Image size check failed... returning\");\r\n      return {\r\n        success: 0,\r\n        info: \"Image size check failed, Image should be 128X128PX\",\r\n      };\r\n    }\r\n\r\n    console.log(base64Data.charAt(0));\r\n    if (base64Data.charAt(0) === \"/\") {\r\n      return {\r\n        success: 1,\r\n        info: \"Image checks passed\",\r\n      };\r\n    } else if (base64Data.charAt(0) === \"i\") {\r\n      return {\r\n        success: 1,\r\n        info: \"Image checks passed\",\r\n      };\r\n    } else {\r\n      return {\r\n        success: 0,\r\n        info: \"Image extension should be jpg or png\",\r\n      };\r\n    }\r\n  };\r\n\r\n  const handleCreateChannel = async (e) => {\r\n    // Check everything in order\r\n    // skip this for now\r\n\r\n    e.preventDefault();\r\n\r\n    if (!channelFile) {\r\n      setLogoInfo(\"Please upload logo of the channel\");\r\n\r\n      return false;\r\n    }\r\n\r\n    // Check complete, start logic\r\n    // setChannelInfoDone(true);\r\n    proceed();\r\n    setProcessing(1);\r\n\r\n    const aliaschainId = chainDetails;\r\n    const aliasAddress = channelAlias;\r\n\r\n    let input = {\r\n      name: channelName,\r\n      info: channelInfo,\r\n      url: channelURL,\r\n      icon: channelFile,\r\n      aliasDetails: getCAIPObj({\r\n        chainId: aliaschainId,\r\n        address: aliasAddress,\r\n      }),\r\n    };\r\n\r\n    console.log(input);\r\n\r\n    input = JSON.stringify(input);\r\n    setProgress(0);\r\n    console.log(`input is ${input}`);\r\n    // const ipfs = require(\"nano-ipfs-store\").at(\"https://ipfs.infura.io:5001\");\r\n    channelToast.showToast(\"Waiting for Confirmation...\");\r\n\r\n    setProcessingInfo(\"Payload Uploaded\");\r\n    setProgressInfo(\r\n      \"Please complete the transaction in your wallet to continue.\"\r\n    );\r\n    setProgress(10);\r\n    // var storagePointer = (storagePointer = await ipfs.add(input));\r\n    let storagePointer = await IPFSupload(input);\r\n    console.log(\"IPFS storagePointer:\", storagePointer);\r\n    // setProcessingInfo(\"Payload Uploaded, Approval to transfer DAI...\");\r\n    //console.log(await ipfs.cat(storagePointer));\r\n\r\n    // Send Transaction\r\n    // First Approve DAI\r\n    var signer = library.getSigner(account);\r\n    console.log(signer);\r\n\r\n    let daiContract = new ethers.Contract(addresses.dai, abis.erc20, signer);\r\n\r\n    // Pick between 50 DAI AND 25K DAI\r\n    const fees = ethers.utils.parseUnits(channelStakeFees.toString(), 18);\r\n\r\n    try {\r\n      if (daiAmountVal < 50.0) {\r\n        var sendTransactionPromise = daiContract.approve(\r\n          addresses.epnscore,\r\n          fees\r\n        );\r\n        const tx = await sendTransactionPromise;\r\n\r\n        console.log(tx);\r\n        console.log(\"waiting for tx to finish\");\r\n        setProgress(30);\r\n\r\n        await library.waitForTransaction(tx.hash);\r\n      }\r\n\r\n      let contract = new ethers.Contract(\r\n        addresses.epnscore,\r\n        abis.epnscore,\r\n        signer\r\n      );\r\n\r\n      const channelType = 2; // Open Channel\r\n      const identity = \"1+\" + storagePointer; // IPFS Storage Type and HASH\r\n      const identityBytes = ethers.utils.toUtf8Bytes(identity);\r\n\r\n      setProgress(50);\r\n    \r\n      const tx = await contract.createChannelWithFees(\r\n        channelType,\r\n        identityBytes,\r\n        fees,\r\n        {\r\n          gasLimit: 1000000,\r\n        }\r\n      );\r\n\r\n      console.log(tx);\r\n      console.log(\"Check: \" + account);\r\n      let txCheck = await library.waitForTransaction(tx.hash);\r\n\r\n      if (txCheck.status === 0) {\r\n        channelToast.updateToast(\r\n          \"Error\",\r\n          `There was an error creating the channel`,\r\n          \"ERROR\",\r\n          (size) => <MdError size={size} color=\"red\" />\r\n        );\r\n\r\n        setProcessing(3);\r\n        setTxStatus(0);\r\n        setStepFlow(2);\r\n        setChannelInfoDone(false);\r\n        setUploadDone(false);\r\n        setTimeout(() => {\r\n          setProcessing(0);\r\n        }, 500);\r\n      } else {\r\n        setProcessing(3);\r\n        setProgress(60);\r\n        setProgressInfo(\"Please wait while we confirm the transaction.\");\r\n        setProcessingInfo(\"Transaction Confirmed\");\r\n        setTimeout(() => {\r\n          setProgress(80);\r\n          setProgressInfo(\r\n            \"Creating your channel, Aligning pixels, adjusting padding... This may take some time.\"\r\n          );\r\n          setProcessingInfo(\"Redirecting... Please do not refresh\");\r\n          setProgress(90);\r\n        }, 2000);\r\n        setTimeout(() => {\r\n          setProgress(100);\r\n          window.location.reload();\r\n        }, 2000);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"hello\", err);\r\n        if (err.code === 4001) {\r\n          // EIP-1193 userRejectedRequest error\r\n          channelToast.updateToast(\r\n            \"Error\",\r\n            `User denied message signature.`,\r\n            \"ERROR\",\r\n            (size) => <MdError size={size} color=\"red\" />\r\n          );\r\n          setStepFlow(3);\r\n          setProcessing(0);\r\n          setUploadDone(false);\r\n        } else {\r\n          channelToast.updateToast(\r\n            \"Error\",\r\n            `There was an error creating the channel`,\r\n            \"ERROR\",\r\n            (size) => <MdError size={size} color=\"red\" />\r\n          );\r\n\r\n          console.log(\"Error --> %o\", err);\r\n          console.log({ err });\r\n          setProcessing(3);\r\n          setProgress(0);\r\n          setProgressInfo(\"There was an error creating the Channel\");\r\n          setProcessingInfo(\r\n            \"Kindly Contact support@epns.io to resolve the issue.\"\r\n          );\r\n        }\r\n      };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (croppedImage) {\r\n      toDataURL(croppedImage, function(dataUrl) {\r\n        const response = handleLogoSizeLimitation(dataUrl);\r\n        if (response.success) {\r\n          setChannelFile(croppedImage);\r\n        }\r\n      });\r\n    } else {\r\n      return \"Nothing\";\r\n    }\r\n  }, [croppedImage]);\r\n\r\n  function toDataURL(url, callback) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.onload = function() {\r\n      var reader = new FileReader();\r\n      reader.onloadend = function() {\r\n        callback(reader.result);\r\n      };\r\n      reader.readAsDataURL(xhr.response);\r\n    };\r\n    xhr.open(\"GET\", url);\r\n    xhr.responseType = \"blob\";\r\n    xhr.send();\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <Section margin=\"0px 0px 40px\">\r\n        <Content padding=\"10px 20px 10px\">\r\n          <Item align=\"center\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.075em\">\r\n              <Span weight=\"400\" size=\"32px\" color={themes.color}>\r\n                Create Your Channel\r\n              </Span>\r\n            </H2>\r\n            <Span\r\n              color=\"#657795\"\r\n              weight=\"400\"\r\n              size=\"16px\"\r\n              textTransform=\"none\"\r\n              textAlign=\"center\"\r\n              spacing=\"0.03em\"\r\n              margin=\"0px 0px\"\r\n            >\r\n              EPNS makes it extremely easy to open and maintain a genuine\r\n              channel of communication with your users.\r\n            </Span>\r\n          </Item>\r\n          {txStatus === 0 && (\r\n            <Body>\r\n              <div>Transaction failed due to one of the following reasons:</div>\r\n              <p>1. There is not enough DAI in your wallet.</p>\r\n              <p>\r\n                2. Gas price increased due to network congestion. Adjust gas\r\n                limit manually.\r\n              </p>\r\n            </Body>\r\n          )}\r\n        </Content>\r\n      </Section>\r\n\r\n      {!onCoreNetwork ? (\r\n        <>\r\n          <TabSpace>\r\n            <p>\r\n              Please select {networkName[envConfig.coreContractChain]} Network\r\n              in your Wallet to create a channel.\r\n            </p>\r\n          </TabSpace>\r\n\r\n          <TextLine text-align=\"center\">\r\n            You will be asked to change your network to the Alias Network after{\" \"}\r\n            <br></br>\r\n            channel creation is complete.\r\n          </TextLine>\r\n\r\n          <TextLink\r\n            href=\"https://docs.epns.io/developers/developer-zone/create-your-notif-channel/alias-on-polygon-network\"\r\n            target=\"_blank\"\r\n          >\r\n            <p>What is an Alias Network?</p>\r\n            <MdCallMade />\r\n          </TextLink>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Section>\r\n            <ItemHere>\r\n              <Tab type={stepFlow >= 1 ? \"active\" : \"inactive\"}>\r\n                <div>Staking Info</div>\r\n                <Step type={stepFlow >= 1 ? \"active\" : \"inactive\"} />\r\n              </Tab>\r\n              <Tab type={stepFlow >= 2 ? \"active\" : \"inactive\"}>\r\n                <div>Channel Info</div>\r\n                <Step type={stepFlow >= 2 ? \"active\" : \"inactive\"} />\r\n              </Tab>\r\n              <Tab type={stepFlow >= 3 ? \"active\" : \"inactive\"}>\r\n                <div>Upload Logo</div>\r\n                <Step type={stepFlow >= 3 ? \"active\" : \"inactive\"} />\r\n              </Tab>\r\n              <Line />\r\n            </ItemHere>\r\n          </Section>\r\n\r\n          {/* Stake Fees Section */}\r\n          {!stakeFeesChoosen && (\r\n            <StakingInfo\r\n              channelStakeFees={channelStakeFees}\r\n              setStakeFeesChoosen={setStakeFeesChoosen}\r\n              setStepFlow={setStepFlow}\r\n              setProcessingInfo={setProcessingInfo}\r\n            />\r\n          )}\r\n\r\n          {/* Channel Entry */}\r\n          {stakeFeesChoosen && !channelInfoDone && (\r\n            <ChannelInfo\r\n              setStepFlow={setStepFlow}\r\n              channelName={channelName}\r\n              channelAlias={channelAlias}\r\n              channelInfo={channelInfo}\r\n              channelURL={channelURL}\r\n              chainDetails={chainDetails}\r\n              setChannelAlias={setChannelAlias}\r\n              setChainDetails={setChainDetails}\r\n              setChannelInfo={setChannelInfo}\r\n              setChannelName={setChannelName}\r\n              setChannelURL={setChannelURL}\r\n              setProcessing={setProcessing}\r\n              setProcessingInfo={setProcessingInfo}\r\n              setChannelInfoDone={setChannelInfoDone}\r\n              setTxStatus={setTxStatus}\r\n            />\r\n          )}\r\n\r\n          {/* Image Upload Section */}\r\n          {!uploadDone && channelInfoDone && stakeFeesChoosen && (\r\n            <UploadLogo\r\n              croppedImage={croppedImage}\r\n              view={view}\r\n              imageSrc={imageSrc}\r\n              processing={processing}\r\n              setCroppedImage={setCroppedImage}\r\n              setView={setView}\r\n              setImageSrc={setImageSrc}\r\n              setProcessingInfo={setProcessingInfo}\r\n              handleCreateChannel={handleCreateChannel}\r\n              logoInfo={logoInfo}\r\n            />\r\n          )}\r\n\r\n          {/* Channel Setup Progress */}\r\n          {(processing === 1 || processing === 3) && (\r\n            <ProcessingInfo\r\n              progress={progress}\r\n              progressInfo={progressInfo}\r\n              processingInfo={processingInfo}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Step = styled.div`\r\n  height: 5px;\r\n  width: 100%;\r\n  background: #cfd7e4;\r\n  border-radius: 13px;\r\n\r\n  ${({ type }) =>\r\n    type === \"active\" &&\r\n    css`\r\n      background: #e20880;\r\n    `};\r\n`;\r\n\r\nconst Line = styled.div`\r\n  position: absolute;\r\n  height: 5px;\r\n  background: #f1f1f1;\r\n  right: 0;\r\n  left: 0;\r\n  margin: 0px 10px;\r\n  z-index: -1;\r\n`;\r\n\r\nconst TabSpace = styled.div`\r\n  width: 60%;\r\n  display: flex;\r\n  justify-content: center;\r\n  height: 167px;\r\n  border-radius: 20px;\r\n  background-color: #f4f5fa;\r\n  margin: 0 auto;\r\n  text-transform: none;\r\n  margin-top: 60px;\r\n  color: #cf1c84;\r\n  align-items: center;\r\n  line-height: 24px;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  p {\r\n    padding: 0 200px;\r\n    text-align: center;\r\n    @media (max-width: 600px) {\r\n      padding: 0 10px;\r\n    }\r\n    @media (max-width: 1224px) {\r\n      padding: 0 50px;\r\n    }\r\n  }\r\n  @media (max-width: 600px) {\r\n    font-size: 12px;\r\n    height: auto;\r\n  }\r\n  @media (max-width: 1224px) {\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nconst TextLine = styled.p`\r\n  text-transform: none;\r\n  margin-top: 60px;\r\n  color: #657795;\r\n  line-height: 21px;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst TextLink = styled.a`\r\n  text-transform: none;\r\n  margin-top: 30px;\r\n  color: #cf1c84;\r\n  line-height: 21px;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst Tab = styled.div`\r\n  position: relative;\r\n  width: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n  color: #657795;\r\n  div {\r\n    margin: 5px 0px;\r\n    font-family: \"Manrope\";\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    font-size: 16px;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n\r\n  ${({ type }) =>\r\n    type === \"active\" &&\r\n    css`\r\n      color: #e20880;\r\n    `};\r\n`;\r\n\r\nconst ItemHere = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  @media (max-width: 600px) {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  @media (max-width: 1224px) {\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n`;\r\n\r\nconst Body = styled.div`\r\n  margin: 10px auto 0px auto;\r\n  width: 55%;\r\n  padding: 30px;\r\n  background-color: #f5f5fa;\r\n  border-radius: 20px;\r\n  div {\r\n    text-align: center;\r\n    font-weight: 600;\r\n    font-size: 16px;\r\n    line-height: 21px;\r\n    text-align: center;\r\n    color: #657795;\r\n  }\r\n  p {\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 22px;\r\n    color: #cf1c84;\r\n  }\r\n  @media (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n  @media (max-width: 1224px) {\r\n    width: 75%;\r\n  }\r\n`;\r\nexport default CreateChannel;\r\n","import React, { Fragment } from \"react\";\r\nimport { Button,Item,Span } from \"primaries/SharedStyling\";\r\nimport styled from \"styled-components\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport UtilityHelper from 'helpers/UtilityHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { addresses, abis } from \"@project/contracts\";\r\n\r\nconst StakingInfo = ({channelStakeFees, setStakeFeesChoosen, setStepFlow,setProcessingInfo}) => {\r\n  const { chainId, library, account } = useWeb3React();\r\n  \r\n  //mint Dai\r\n  const mintDai = async () => {\r\n    try {\r\n      var signer = library.getSigner(account);\r\n      let daiContract = new ethers.Contract(addresses.dai, abis.dai, signer);\r\n      console.log({\r\n        daiContract,\r\n      });\r\n      console.log(1);\r\n      let daiAmount = 1000;\r\n      const amount = ethers.utils.parseUnits(daiAmount.toString(), 18);\r\n      console.log(2);\r\n      var mintTransactionPromise = daiContract.mint(amount);\r\n      console.log(3);\r\n      const tx = await mintTransactionPromise;\r\n      console.log(tx);\r\n      await library.waitForTransaction(tx.hash);\r\n      console.log(4);\r\n      setProcessingInfo(\"1000 Dai minted successfully!\");\r\n      console.log(\"Transaction Completed\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* <Content padding=\"0px 0px 0px 0px\"> */}\r\n        <Body>\r\n          <TabSpace>\r\n            <p>\r\n              Amount for Staking\r\n            </p>\r\n\r\n            <b>\r\n             {channelStakeFees} DAI\r\n            </b>\r\n          </TabSpace>\r\n\r\n\r\n          <TextSpace>\r\n              <Span color=\"#657795\" size=\"14px\" weight=\"500\" spacing=\"-0.011em\" line=\"30px\">Make sure you have sufficient balance before moving to the next steps.</Span>\r\n\r\n              <AnchorLink href='https://faucet.paradigm.xyz/' target=\"_blank\">ETH Faucet</AnchorLink>\r\n\r\n              {!UtilityHelper.isMainnet(chainId) ? (\r\n              <Minter\r\n                onClick={() => {\r\n                  mintDai();\r\n                }}\r\n              >\r\n                  <PoolShare>Get Free DAI for Channel</PoolShare>\r\n              </Minter>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          </TextSpace>\r\n\r\n        <Item width=\"12.2em\" self=\"stretch\" align=\"stretch\" margin=\"100px auto 50px auto\">\r\n          <Button\r\n            bg=\"#e20880\"\r\n            color=\"#fff\"\r\n            flex=\"1\"\r\n            radius=\"15px\"\r\n            padding=\"20px 10px\"\r\n            onClick={() => {\r\n              setStakeFeesChoosen(true);\r\n              setStepFlow(2);\r\n            }}\r\n          >\r\n            <Span\r\n              color=\"#fff\"\r\n              weight=\"600\"\r\n              textTransform=\"none\"\r\n              line=\"22px\"\r\n              size=\"16px\"\r\n            >\r\n              Next\r\n            </Span>\r\n          </Button>\r\n        </Item>\r\n        </Body>\r\n      {/* </Content> */}\r\n    </Fragment>\r\n  );\r\n};\r\nconst TabSpace = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 100px;\r\n  border-radius: 20px;\r\n  background-color: #f4f5fa;\r\n  margin-top: 20px;\r\n  align-items: center;\r\n  p {\r\n    text-align: center;\r\n    color: #1E1E1E;\r\n    font-weight: 500;\r\n    font-size: 20px;\r\n    letter-spacing: -0.011em;\r\n    margin-left:50px;\r\n    @media (max-width: 600px) {\r\n    margin-left:20px;\r\n    font-size: 14px;\r\n    }\r\n  }\r\n  b {\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 26px;\r\n    line-height: 150%;\r\n    text-align: right;\r\n    letter-spacing: -0.019em;\r\n    color: #CF1C84;\r\n    margin-right:50px;\r\n    @media (max-width: 600px) {\r\n    margin-right:20px;\r\n    font-size: 20px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst TextSpace = styled.div`\r\n  width: 97%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin: 0 auto;\r\n  margin-top: 40px;\r\n  align-items: flex-start;\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n  }\r\n  @media (max-width: 1224px) {\r\n    width: 100%; \r\n  }\r\n`;\r\n\r\nconst AnchorLink = styled.a`\r\n  text-decoration: none;\r\n  text-transform: none;\r\n  color: #cf1c84;\r\n  line-height: 24px;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  text-decoration: none;\r\n  // width:15em;\r\n  white-space: nowrap;\r\n  margin: 0 2em;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n  @media (max-width: 600px) {\r\n    margin-top:1em;\r\n  }\r\n`;\r\n\r\nconst Body = styled.div`\r\n  margin: 0px auto;\r\n  width: 55%; \r\n  @media (max-width: 600px) {\r\n    width: 95%; \r\n  }\r\n  @media (max-width: 1224px) {\r\n    width: 75%; \r\n  }\r\n`\r\n\r\nconst Minter = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  color: #fff;\r\n`;\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  text-decoration: none;\r\n  text-transform: none;\r\n  color: #cf1c84;\r\n  line-height: 24px;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  // width:16em;\r\n  margin: 0 0 0 2em;\r\n  cursor: pointer;\r\n  white-space: nowrap;\r\n  text-decoration: none;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n  @media (max-width: 600px) {\r\n    margin-top:1em;\r\n  }\r\n`;\r\n\r\nexport default StakingInfo;","import React,{useState} from \"react\";\r\nimport { Button, Content, FormSubmision, H3, Input, Item, ItemH, P, Section, Span, TextField } from \"primaries/SharedStyling\";\r\nimport { FiLink } from \"react-icons/fi\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport \"./createChannel.css\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { aliasChainIdsMapping, networkName } from \"helpers/UtilityHelper\";\r\n\r\nconst coreChainId = envConfig.coreContractChain;\r\nconst aliasChainId = aliasChainIdsMapping[coreChainId];\r\n\r\nconst ALIAS_CHAINS = [\r\n  { value: coreChainId, label: networkName[coreChainId] },\r\n  { value: aliasChainId, label: networkName[aliasChainId] },\r\n];\r\n\r\nconst ChannelInfo = ({\r\n  channelName,\r\n  channelAlias,\r\n  channelInfo,\r\n  channelURL,\r\n  chainDetails,\r\n  setChannelAlias,\r\n  setChainDetails,\r\n  setChannelInfo,\r\n  setChannelName,\r\n  setChannelURL,\r\n  setStepFlow,\r\n  setProcessingInfo,\r\n  setProcessing,\r\n  setChannelInfoDone,\r\n  setTxStatus\r\n}) => {\r\n  const themes = useTheme();\r\n  const [info,setInfo] = useState(\"\")\r\n\r\n  const isEmpty = (field) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  const isAllFilled = () => {\r\n    setInfo(\"\")\r\n    if (\r\n      isEmpty(channelName) ||\r\n      isEmpty(channelInfo) ||\r\n      isEmpty(channelURL) ||\r\n      (isEmpty(channelAlias) && chainDetails !== coreChainId)\r\n    ) {\r\n      setInfo(\"Channel Fields are Empty! Please retry!\");\r\n\r\n      // setTimeout(() => {\r\n      //   setProcessing(2);\r\n      //   setProcessingInfo(\"\");\r\n      // }, 5000);\r\n\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  return (\r\n    <Section>\r\n      <Body>\r\n\r\n        {/* <FormSubmision\r\n          flex=\"1\"\r\n          direction=\"column\"\r\n          margin=\"0px\"\r\n          justify=\"center\"\r\n          size=\"1.1rem\"\r\n          onSubmit={handleCreateChannel}\r\n        > */}\r\n          <Label style={{color:themes.color}}>Channel Name & Network</Label>\r\n\r\n          <Item\r\n            margin=\"7px 0px 0px 0px\"\r\n            flex=\"1\"\r\n            self=\"stretch\"\r\n            align=\"stretch\"\r\n            border='1px solid #BAC4D6'\r\n            radius='12px 12px 0px 0px'\r\n          >\r\n              <Input\r\n                required\r\n                // placeholder=\"Your Channel Name\"\r\n                maxlength=\"40\"\r\n                flex=\"1\"\r\n                padding=\"12px\"\r\n                weight=\"400\"\r\n                size=\"16px\"\r\n                bg=\"white\"\r\n                radius='12px 12px 0px 0px'\r\n                height=\"25px\"\r\n                value={channelName}\r\n                onChange={(e) => {\r\n                  setChannelName(e.target.value);\r\n                }}\r\n              />\r\n\r\n           \r\n          </Item>\r\n          <Item\r\n            flex=\"1\"\r\n            self=\"stretch\"\r\n            align=\"stretch\"\r\n          > \r\n            \r\n            {/* dropdown */}\r\n            <DropdownStyledParent>\r\n              <DropdownStyled\r\n                options={ALIAS_CHAINS}\r\n                onChange={(option) => {\r\n                    setChainDetails(option.value);\r\n                    console.log(option);\r\n                }}\r\n                value={networkName[chainDetails]}\r\n              />\r\n            </DropdownStyledParent>\r\n\r\n          {/* <span\r\n            className=\"imgSpan\"\r\n            data-tooltip=\"When sending notifications to Non-Ethereum Chains, the Channel Alias address will act as a native representation of your Channel on that blockchain.\"\r\n          >\r\n            <img\r\n              className=\"iImage\"\r\n              src=\"/svg/info.svg\"\r\n              style={{\r\n                width: \"20px\",\r\n                height: \"20px\",\r\n                marginTop: \"0px\",\r\n                marginBottom: \"-2px\",\r\n              }}\r\n            />\r\n\r\n              </span>  */}\r\n          </Item>\r\n            \r\n          {chainDetails != coreChainId &&\r\n          (<Item \r\n                margin=\"30px 0px 0px 0px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\">\r\n              <Label style={{color:themes.color}}>Channel Alias address</Label>\r\n              <Input\r\n                required\r\n                // placeholder=\"Your Channel Address\"\r\n                maxlength=\"40\"\r\n                flex=\"1\"\r\n                padding=\"12px\"\r\n                weight=\"400\"\r\n                size=\"16px\"\r\n                bg=\"white\"\r\n                height=\"25px\"\r\n                margin=\"7px 0px 0px 0px\"\r\n                border=\"1px solid #BAC4D6\"\r\n                focusBorder=\"1px solid #657795\"\r\n                radius=\"12px\"\r\n                disabled={\r\n                  chainDetails === \"\" || chainDetails === coreChainId\r\n                    ? true\r\n                    : false\r\n                }\r\n                visibility={\r\n                  chainDetails === coreChainId ? \"hidden\" : \"visible\"\r\n                }\r\n                value={channelAlias}\r\n                onChange={(e) => {\r\n                  setChannelAlias(e.target.value);\r\n                }}\r\n              />\r\n              <Span\r\n                  size=\"13px\"\r\n                  margin=\"7px 0px 0px 0px\"\r\n                  color=\"#657795\"\r\n                >\r\n                  Make sure you own this address as verification will take place.\r\n                </Span>\r\n          </Item>)}\r\n            \r\n\r\n          <Item\r\n            margin=\"30px 0px 0px 00px\"\r\n            flex=\"1\"\r\n            self=\"stretch\"\r\n            align=\"stretch\"\r\n            style={{marginTop: `${chainDetails === coreChainId ? \"55px\" : \"20px\"}`, position: \"relative\"}}\r\n          >\r\n            <Item display='flex' direction=\"row\" align=\"center\" flex=\"1\" self=\"stretch\" justify=\"space-between\">\r\n              <Label style={{color:themes.color}}>Channel Description</Label>\r\n              <Span color=\"#657795\" size=\"13px\" margin=\"0px 10px 0px 0px\" weight='700'>{250 - channelInfo.length}</Span>\r\n            </Item>\r\n            <TextField\r\n              required\r\n              // placeholder=\"Your Channel's Short Description (250 Characters)\"\r\n              rows=\"4\"\r\n              maxlength=\"250\"\r\n              padding=\"12px\"\r\n              weight=\"400\"\r\n              margin=\"7px 0px 0px 0px\"\r\n              border=\"1px solid #BAC4D6\"\r\n              focusBorder=\"1px solid #657795\"\r\n              radius=\"12px\"\r\n              bg=\"#fff\"\r\n              value={channelInfo}\r\n              onChange={(e) => {\r\n                setChannelInfo(e.target.value.slice(0, 250));\r\n              }}\r\n              autocomplete=\"off\"\r\n            />\r\n            <Span\r\n                  size=\"13px\"\r\n                  margin=\"7px 0px 0px 0px\"\r\n                  color=\"#657795\"\r\n                >\r\n                  Brief description of your channel.\r\n                </Span>\r\n          </Item>\r\n\r\n          <Item \r\n                margin=\"30px 0px 0px 0px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\">\r\n              <Label style={{color:themes.color}}>Channel Website URL</Label>\r\n              <Input\r\n                required\r\n                // placeholder=\"Your Channel Address\"\r\n                maxlength=\"40\"\r\n                flex=\"1\"\r\n                padding=\"12px\"\r\n                weight=\"400\"\r\n                size=\"16px\"\r\n                bg=\"white\"\r\n                height=\"25px\"\r\n                margin=\"7px 0px 0px 0px\"\r\n                border=\"1px solid #BAC4D6;\"\r\n                focusBorder=\"1px solid #657795\"\r\n                radius=\"12px\"\r\n                value={channelURL}\r\n                onChange={(e) => {\r\n                  setChannelURL(e.target.value);\r\n                }}\r\n              />\r\n          </Item>\r\n\r\n          {info?.length > 0 && (<Item \r\n                margin=\"30px 0px 30px 0px\"\r\n                flex=\"1\"\r\n                padding=\"10px 5px\"\r\n                radius=\"10px\"\r\n                bg=\"#F5F5FA\">\r\n                  <div style={{color:'#CF1C84'}}>{info}</div>\r\n                </Item>)}\r\n        \r\n          <Item width=\"12.2em\" self=\"stretch\" align=\"stretch\" margin=\"70px auto 50px auto\">\r\n            <Button\r\n              bg=\"#CF1C84\"\r\n              color=\"#fff\"\r\n              flex=\"1\"\r\n              radius=\"15px\"\r\n              padding=\"20px 10px\"\r\n              onClick={() => {\r\n                if (!isAllFilled()) return;\r\n                setTxStatus(2)\r\n                setChannelInfoDone(true);\r\n                setStepFlow(3);\r\n              }}\r\n            >\r\n               <Span\r\n              color=\"#fff\"\r\n              weight=\"600\"\r\n              textTransform=\"none\"\r\n              line=\"22px\"\r\n              size=\"16px\"\r\n            >\r\n              Next\r\n            </Span>\r\n            </Button>\r\n          </Item>\r\n\r\n        {/* <Item\r\n            margin=\"15px 0px 0px 0px\"\r\n            flex=\"1\"\r\n            self=\"stretch\"\r\n            align=\"stretch\"\r\n          >\r\n            <Button\r\n              bg=\"#e20880\"\r\n              color=\"#fff\"\r\n              flex=\"1\"\r\n              radius=\"0px\"\r\n              padding=\"20px 10px\"\r\n              disabled={processing == 1 ? true : false}\r\n            >\r\n              {processing == 1 && (\r\n                <Oval\r\n                  color=\"#fff\"\r\n                  height={24}\r\n                  width={24}\r\n                />\r\n              )}\r\n              {processing != 1 && (\r\n                <Input\r\n                  cursor=\"hand\"\r\n                  textTransform=\"uppercase\"\r\n                  color=\"#fff\"\r\n                  weight=\"400\"\r\n                  size=\"0.8em\"\r\n                  spacing=\"0.2em\"\r\n                  type=\"submit\"\r\n                  value=\"Setup Channel\"\r\n                />\r\n              )}\r\n            </Button>\r\n          </Item> */}\r\n        {/* </FormSubmision> */}\r\n      </Body>\r\n    </Section>\r\n  );\r\n};\r\n\r\nconst InputDiv = styled.div`\r\n  display: ${(props) => props.display || \"flex\"};\r\n  flex: 1;\r\n  border: ${(props) => props.border || \"none\"};\r\n  border-bottom: ${(props) => props.borderBottom || \"none\"};\r\n  margin-bottom: ${(props) => props.marginBottom || \"none\"};\r\n  width: ${(props) => props.width || \"none\"};\r\n  visibility: ${(props) => props.visibility || \"\"};\r\n`;\r\n\r\nconst SpanR = styled.div`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  right: 0.8rem;\r\n  color: white;\r\n  z-index: 1;\r\n  margin-bottom: 5px;\r\n  padding: 5px;\r\n  background: #e20880;\r\n  border-radius: 20px;\r\n  align-items: center;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst Label = styled.div`\r\n  font-family: 'Manrope';\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  line-height: 21px;\r\n  letter-spacing: -0.011em;\r\n  color: #1E1E1E;\r\n`;\r\n\r\nconst DropdownStyledParent = styled.div`\r\nflex:1;\r\n.is-open {\r\n    margin-bottom: 50px;\r\n}\r\n`\r\n\r\nconst DropdownStyled = styled(Dropdown)`\r\n  .Dropdown-control {\r\n      background-color: white;\r\n      color: #000;\r\n      border: 1px solid #BAC4D6;\r\n      border-radius: 0px 0px 12px 12px;\r\n      border-top:1px solid transparent;\r\n      flex:1;\r\n      outline: none;\r\n      height: 50px;\r\n      display: flex;\r\n      align-items: center;\r\n  }\r\n  .Dropdown-arrow {\r\n      top: 20px;\r\n      bottom: 0;\r\n      border-color: #f #000 #000;\r\n  }\r\n  .Dropdown-menu {\r\n    border-color: #BAC4D6;\r\n    border-radius: 12px;\r\n      .is-selected {\r\n      background-color: #D00775;\r\n      color:#fff;\r\n    }\r\n  }\r\n \r\n  .Dropdown-option {\r\n      background-color: #fff;\r\n      color: #000;\r\n  }\r\n  .Dropdown-option:hover {\r\n      background-color: #D00775;\r\n      color: #000;\r\n  }\r\n`\r\n\r\nconst Body = styled.div`\r\n  margin: 40px auto 0px auto;\r\n  width: 55%; \r\n  @media (max-width: 600px) {\r\n    width: 100%%; \r\n  }\r\n  @media (max-width: 1224px) {\r\n    width: 75%; \r\n  }\r\n`;\r\n\r\nexport default ChannelInfo;","import { H3, Item, Section } from \"primaries/SharedStyling\";\r\nimport React from \"react\";\r\nimport LinearProgress from \"@mui/material/LinearProgress\";\r\nimport FadeLoader from \"react-spinners/FadeLoader\";\r\nimport styled, { css, useTheme } from \"styled-components\";\r\nimport { themeDark } from \"config/Themization\";\r\n\r\nconst ProcessingInfo = ({ progress, processingInfo, progressInfo }) => {\r\n  const themes = useTheme();\r\n\r\n  return (\r\n    <Section>\r\n      <TabSpace>\r\n        <p>{progressInfo}</p>\r\n      </TabSpace>\r\n\r\n      <LinearProgress\r\n        sx={{\r\n          width: \"30em\",\r\n          margin: \"50px auto\",\r\n          color: \"#cf1c84\",\r\n          height: \"6px\",\r\n          borderRadius: \"20px\",\r\n          [\"@media (max-width:600px)\"]: {\r\n            width: \"10em\",\r\n          },\r\n        }}\r\n        color=\"inherit\"\r\n        variant=\"determinate\"\r\n        value={progress}\r\n      />\r\n\r\n      <Item display=\"flex\" direction=\"row\" align=\"center\" margin=\"20px 0px\">\r\n        <FadeLoader color=\"#cf1c84\" loading={true} height={13} width={2.5} />\r\n        <H3\r\n          margin=\"auto 15px\"\r\n          family=\"Manrope\"\r\n          textTransform=\"none\"\r\n          color={themes.color}\r\n          size=\"16px\"\r\n          weight=\"500\"\r\n        >\r\n          {processingInfo}\r\n        </H3>\r\n      </Item>\r\n    </Section>\r\n  );\r\n};\r\n\r\nconst TabSpace = styled.div`\r\n  width: 60%;\r\n  display: flex;\r\n  justify-content: center;\r\n  height: 167px;\r\n  border-radius: 20px;\r\n  background-color: #f4f5fa;\r\n  margin: 0 auto;\r\n  text-transform: none;\r\n  margin-top: 60px;\r\n  color: #cf1c84;\r\n  align-items: center;\r\n  line-height: 24px;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  p {\r\n    padding: 0 200px;\r\n    text-align: center;\r\n    @media (max-width: 600px) {\r\n      padding: 0 10px;\r\n    }\r\n    @media (max-width: 1224px) {\r\n      padding: 0 50px;\r\n    }\r\n  }\r\n  @media (max-width: 600px) {\r\n    font-size: 12px;\r\n    height: auto;\r\n  }\r\n  @media (max-width: 1224px) {\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nexport default ProcessingInfo;\r\n","import { utils, BigNumber} from \"ethers\";\r\nconst claims = require(\"config/airdrop/claims.json\")\r\n\r\n// Airdrop Helper Functions\r\nconst AirdropHelper = {\r\n    combinedHash : (first, second) => {\r\n        if (!first) {\r\n          return second\r\n        }\r\n        if (!second) {\r\n          return first\r\n        }\r\n      \r\n        return Buffer.from(\r\n          utils.solidityKeccak256(['bytes32', 'bytes32'], [first, second].sort(Buffer.compare)).slice(2),\r\n          'hex'\r\n        )\r\n    },\r\n      \r\n    toNode : (index, account, amount) => {\r\n    const pairHex = utils.solidityKeccak256(['uint256', 'address', 'uint256'], [index, account, amount])\r\n    return Buffer.from(pairHex.slice(2), 'hex')\r\n    },\r\n      \r\n    verifyProof : (\r\n    index,\r\n    account,\r\n    amount,\r\n    proof,\r\n    root\r\n    ) => {\r\n    let pair = AirdropHelper.toNode(index, account, amount)\r\n    for (const item of proof) {\r\n        pair = AirdropHelper.combinedHash(pair, item)\r\n    }\r\n    \r\n    return pair.equals(root)\r\n    },\r\n      \r\n    getNextLayer : (elements) => {\r\n    return elements.reduce((layer, el, idx, arr) => {\r\n        if (idx % 2 === 0) {\r\n        // Hash the current element with its pair element\r\n        layer.push(AirdropHelper.combinedHash(el, arr[idx + 1]))\r\n        }\r\n    \r\n        return layer\r\n    }, [])\r\n    },\r\n      \r\n    getRoot : (balances) => {\r\n    let nodes = balances\r\n        .map(({ account, amount, index }) => AirdropHelper.toNode(index, account, amount))\r\n        // sort by lexicographical order\r\n        .sort(Buffer.compare)\r\n    \r\n    // deduplicate any eleents\r\n    nodes = nodes.filter((el, idx) => {\r\n        return idx === 0 || !nodes[idx - 1].equals(el)\r\n    })\r\n    \r\n    const layers = []\r\n    layers.push(nodes)\r\n    \r\n    // Get next layer until we reach the root\r\n    while (layers[layers.length - 1].length > 1) {\r\n        layers.push(AirdropHelper.getNextLayer(layers[layers.length - 1]))\r\n    }\r\n    \r\n    return layers[layers.length - 1][0]\r\n    },\r\n\r\n\r\n    verifyAddress: async (user, contract) => {\r\n        const merkleRootHex = claims.merkleRoot\r\n        const merkleRoot = Buffer.from(merkleRootHex.slice(2), 'hex')\r\n        if(claims.claims[user]){\r\n            const claim = claims.claims[user]\r\n        const proof = claim.proof.map((p) => Buffer.from(p.slice(2), 'hex'))\r\n        const verified = (AirdropHelper.verifyProof(claim.index, user, claim.amount, proof, merkleRoot))\r\n        let txPromise = await contract.isClaimed(claim.index)\r\n        const isClaimed = await txPromise\r\n        const claimable = !isClaimed\r\n        const BNamount = BigNumber.from(claim.amount)\r\n        const amount = BNamount.toNumber()\r\n        // const amount = ethers.utils.parseEther(num)\r\n        return({ index: claim.index, account: user, amount, proof, merkleRoot, verified, claimable})\r\n        }\r\n        else\r\n        return({verified: false})\r\n    },\r\n\r\n  \r\n\r\n}\r\n\r\nexport default AirdropHelper;\r\n","import React, {\r\n  forwardRef,\r\n  Fragment,\r\n  useCallback,\r\n  useImperativeHandle,\r\n  useState,\r\n} from \"react\";\r\nimport Cropper from \"react-easy-crop\";\r\nimport styledComponents from \"styled-components\";\r\nimport Resizer from \"react-image-file-resizer\";\r\n\r\nconst ImageClipper = forwardRef((props, ref) => {\r\n  //   const [imageSrc, setImageSrc] = useState(null);\r\n  const { imageSrc, onImageCropped } = props;\r\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\r\n  const [zoom, setZoom] = useState(1);\r\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\r\n  const [croppedImage, setCroppedImage] = useState(null);\r\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\r\n    setCroppedAreaPixels(croppedAreaPixels);\r\n  }, []);\r\n  //   console.log(\"here\", { imageSrc });\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    async showCroppedImage() {\r\n      try {\r\n        if (imageSrc) {\r\n          const croppedImage = await getCroppedImg(imageSrc, croppedAreaPixels);\r\n          const image = await resizeFile(croppedImage);\r\n          onImageCropped(image);\r\n        } else {\r\n          return \"Nothing\";\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    },\r\n  }));\r\n\r\n  function toDataURL(url, callback) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.onload = function() {\r\n      var reader = new FileReader();\r\n      reader.onloadend = function() {\r\n        callback(reader.result);\r\n      };\r\n      reader.readAsDataURL(xhr.response);\r\n    };\r\n    xhr.open(\"GET\", url);\r\n    xhr.responseType = \"blob\";\r\n    xhr.send();\r\n  }\r\n\r\n  async function getCroppedImg(imageSrc, pixelCrop) {\r\n    const image = await createImage(imageSrc);\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = pixelCrop.width;\r\n    canvas.height = pixelCrop.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const fileName = \"none.jpg\";\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      pixelCrop.x,\r\n      pixelCrop.y,\r\n      pixelCrop.width,\r\n      pixelCrop.height,\r\n      0,\r\n      0,\r\n      pixelCrop.width,\r\n      pixelCrop.height\r\n    );\r\n\r\n    // As Base64 string\r\n    // return canvas.toDataURL('image/jpeg');\r\n\r\n    // As a blob\r\n    return new Promise((resolve, reject) => {\r\n      canvas.toBlob((file) => {\r\n        //   resolve(URL.createObjectURL(file));\r\n        resolve(\r\n          new File([file], fileName, {\r\n            type: \"image/jpeg\",\r\n            lastModified: Date.now(),\r\n          })\r\n        );\r\n      }, \"image/jpeg\");\r\n    });\r\n  }\r\n\r\n  const resizeFile = (file) =>\r\n    new Promise((resolve) => {\r\n      Resizer.imageFileResizer(\r\n        file,\r\n        128,\r\n        128,\r\n        \"JPEG\",\r\n        80,\r\n        0,\r\n        (uri) => {\r\n          resolve(uri);\r\n          setCroppedImage(uri);\r\n        },\r\n        \"base64\"\r\n      );\r\n    });\r\n\r\n  const createImage = (url) =>\r\n    new Promise((resolve, reject) => {\r\n      const image = new Image();\r\n      image.addEventListener(\"load\", () => resolve(image));\r\n      image.addEventListener(\"error\", (error) => reject(error));\r\n      image.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\r\n      image.src = url;\r\n    });\r\n\r\n  const onZoomChange = (zoom) => {\r\n    setZoom(zoom);\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Cropper\r\n          image={imageSrc}\r\n          crop={crop}\r\n          zoom={zoom}\r\n          aspect={1}\r\n          onCropChange={setCrop}\r\n          onCropComplete={onCropComplete}\r\n          onZoomChange={onZoomChange}\r\n          // objectFit=\"vertical-cover\"\r\n          style={{\r\n            containerStyle: {\r\n              width: \"250px\",\r\n              height: \"250px\",\r\n              position: \"relative\",\r\n              borderRadius: \"12px\",\r\n            },\r\n          }}\r\n        />\r\n      </Container>\r\n\r\n      {/* <Button onClick={() => showCroppedImage()}>Run</Button> */}\r\n    </Fragment>\r\n  );\r\n});\r\n\r\nconst Container = styledComponents.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  `;\r\n\r\nexport default ImageClipper;\r\n","var _path;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgImage = function SvgImage(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"svg\",\n    stroke: \"currentColor\",\n    fill: \"none\",\n    viewBox: \"0 0 48 48\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\",\n    strokeWidth: \"{2} \",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgImage, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Image.ae07082a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from \"react\";\r\nimport UtilityHelper from 'helpers/UtilityHelper';\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  H3,\r\n  Button,\r\n  Input,\r\n  FormSubmision,\r\n  Span\r\n} from \"primaries/SharedStyling\";\r\nimport ImageClipper from \"primaries/ImageClipper\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport styled from \"styled-components\";\r\nimport { ethers } from \"ethers\";\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ReactComponent as ImageIcon } from \"../assets/Image.svg\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport {BsCloudUpload} from 'react-icons/bs'\r\n\r\nconst UploadLogo = ({\r\n  croppedImage,\r\n  view,\r\n  imageSrc,\r\n  processing,\r\n  setCroppedImage,\r\n  setView,\r\n  setImageSrc,\r\n  setProcessingInfo,\r\n  handleCreateChannel,\r\n  logoInfo\r\n}) => {\r\n  const childRef = useRef();\r\n  const { chainId, library, account } = useWeb3React();\r\n\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const handleOnDrop = (e) => {\r\n    //prevent the browser from opening the image\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    //let's grab the image file\r\n    handleFile(e.dataTransfer, \"transfer\");\r\n  };\r\n\r\n  const handleFile = async (file, path) => {\r\n    setCroppedImage(undefined);\r\n    setView(true);\r\n\r\n    //you can carry out any file validations here...\r\n    if (file?.files[0]) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(file?.files[0]);\r\n\r\n      reader.onloadend = function (e) {\r\n        setImageSrc(reader.result);\r\n      };\r\n    } else {\r\n      return \"Nothing....\";\r\n    }\r\n  };\r\n\r\n  //mind Dai\r\n  const mintDai = async () => {\r\n    try {\r\n      var signer = library.getSigner(account);\r\n      let daiContract = new ethers.Contract(addresses.dai, abis.dai, signer);\r\n      console.log({\r\n        daiContract,\r\n      });\r\n      console.log(1);\r\n      let daiAmount = 1000;\r\n      const amount = ethers.utils.parseUnits(daiAmount.toString(), 18);\r\n      console.log(2);\r\n      var mintTransactionPromise = daiContract.mint(amount);\r\n      console.log(3);\r\n      const tx = await mintTransactionPromise;\r\n      console.log(tx);\r\n      await library.waitForTransaction(tx.hash);\r\n      console.log(4);\r\n      setProcessingInfo(\"1000 Dai minted successfully!\");\r\n      console.log(\"Transaction Completed\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Section>\r\n      <Body>\r\n        <Item align=\"center\">\r\n          <H3 color=\" #657795\" margin=\"0px 0px\" textTransform=\"none\" weight=\"500\" size=\"15px\">\r\n          Please upload a PNG, JPG. Crop the image to resize to 128px.  \r\n          </H3>\r\n        </Item>\r\n        \r\n          <Space className=\"\">\r\n            <div>\r\n              <div\r\n                onDragOver={(e) => handleDragOver(e)}\r\n                onDrop={(e) => handleOnDrop(e)}\r\n                className=\"bordered\"\r\n              >\r\n                <div className=\"inner\">\r\n                  {view ? (\r\n                    <div className=\"crop-div\">\r\n                      {croppedImage ? (\r\n                        <div>\r\n                          <img\r\n                            alt=\"Cropped Img\"\r\n                            src={croppedImage}\r\n                            className=\"croppedImage\"\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <ImageClipper\r\n                          className=\"cropper\"\r\n                          imageSrc={imageSrc}\r\n                          onImageCropped={(croppedImage) =>\r\n                            setCroppedImage(croppedImage)\r\n                          }\r\n                          ref={childRef}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    // <ImageIcon />\r\n                    <BsCloudUpload size={100} color='#8C99B0' style={{marginTop:'30px'}} />\r\n                  )}\r\n\r\n                 \r\n\r\n                  <Item display=\"flex\" direction=\"row\" align=\"center\">\r\n                  <p className=\"text-below\">\r\n                    Drag and Drop or \r\n                  </p>\r\n                  <div className=\"text-div\">\r\n                    <label htmlFor=\"file-upload\" className=\"labeled\">\r\n                      <div>Browse to Choose</div>\r\n                      <input\r\n                        id=\"file-upload\"\r\n                        accept=\"image/*\"\r\n                        name=\"file-upload\"\r\n                        hidden\r\n                        onChange={(e) => handleFile(e.target, \"target\")}\r\n                        type=\"file\"\r\n                        className=\"sr-only\"\r\n                        readOnly\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                  </Item>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Space>\r\n\r\n          {/* {!UtilityHelper.isMainnet(chainId) ? (\r\n            <Item align=\"flex-end\">\r\n              <Minter\r\n                onClick={() => {\r\n                  mintDai();\r\n                }}\r\n              >\r\n                <Pool>\r\n                  <br></br>\r\n                  <PoolShare>Get Free DAI for Channel</PoolShare>\r\n                </Pool>\r\n              </Minter>\r\n            </Item>\r\n          ) : (\r\n            <></>\r\n          )} */}\r\n\r\n        {logoInfo?.length > 0 && (<Item \r\n            margin=\"30px 0px 30px 0px\"\r\n            flex=\"1\"\r\n            padding=\"10px 5px\"\r\n            radius=\"10px\"\r\n            bg=\"#F5F5FA\">\r\n              <div style={{color:'#CF1C84'}}>{logoInfo}</div>\r\n            </Item>)}\r\n\r\n        {view && (!croppedImage ? (\r\n        <Item width=\"12.2em\" self=\"stretch\" align=\"stretch\" margin=\"100px auto 50px auto\">\r\n          <Button\r\n            bg=\"#e20880\"\r\n            color=\"#fff\"\r\n            flex=\"1\"\r\n            radius=\"15px\"\r\n            padding=\"20px 10px\"\r\n            onClick={() => {\r\n              childRef.current.showCroppedImage();\r\n            }}\r\n          >\r\n            <Span\r\n              color=\"#fff\"\r\n              weight=\"600\"\r\n              textTransform=\"none\"\r\n              line=\"22px\"\r\n              size=\"16px\"\r\n            >\r\n              Crop Image\r\n            </Span>\r\n          </Button>\r\n        </Item>): (\r\n\r\n              <FormSubmision\r\n              flex=\"1\"\r\n              direction=\"column\"\r\n              margin=\"0px\"\r\n              justify=\"center\"\r\n              size=\"1.1rem\"\r\n              onSubmit={handleCreateChannel}\r\n              >\r\n              <Item\r\n                width=\"12.2em\" self=\"stretch\" align=\"stretch\" margin=\"100px auto 50px auto\"\r\n              >\r\n                <Button\r\n                  bg=\"#e20880\"\r\n                  color=\"#fff\"\r\n                  flex=\"1\"\r\n                  radius=\"15px\"\r\n                  padding=\"20px 10px\"\r\n                  disabled={processing == 1 ? true : false}\r\n                >\r\n                  {processing == 1 && (\r\n                    <Oval\r\n                      color=\"#fff\"\r\n                      height={24}\r\n                      width={24}\r\n                    />\r\n                  )}\r\n                  {processing != 1 && (\r\n                    <Input\r\n                      cursor=\"hand\"\r\n                      textTransform=\"none\"\r\n                      color=\"#fff\"\r\n                      weight=\"600\"\r\n                      textTransform=\"none\"\r\n                      line=\"22px\"\r\n                      size=\"16px\"\r\n                      type=\"submit\"\r\n                      value=\"Create Channel\"\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </Item>\r\n              </FormSubmision> \r\n        ))}\r\n\r\n\r\n      </Body>\r\n    </Section>\r\n  );\r\n};\r\n\r\nconst Minter = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 13px;\r\n`;\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 10px 20px;\r\n  border-radius: 10px;\r\n  font-size: 15px;\r\n`;\r\n\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #e20880;\r\n  // background: #674c9f;\r\n`;\r\n\r\nconst ButtonSpace = styled.div`\r\n  width: 40%;\r\n  align-items: center;\r\n  margin: 1rem auto;\r\n`;\r\n\r\nconst Body = styled.div`\r\n  margin: 50px auto 0px auto;\r\n  width: 55%; \r\n  @media (max-width: 600px) {\r\n    width: 95%; \r\n  }\r\n  @media (max-width: 1224px) {\r\n    width: 75%; \r\n  }\r\n`\r\n\r\nconst Space = styled.div`\r\n  width: 100%;\r\n  margin-bottom: 2rem;\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 150%;\r\n  .bordered {\r\n    display: flex;\r\n    // height: 250px;\r\n    justify-content: center;\r\n    border: 1px dashed #8C99B0;\r\n    align-items: flex-end;\r\n    border-radius: 12px;\r\n    padding: 6px;\r\n    background-color: #F5F5FA;\r\n    margin-top: 10px;\r\n    .inner {\r\n      margin-top: 0.25rem;\r\n      text-align: center;\r\n      padding: 20px 10px 10px 10px;\r\n      width: 100%;\r\n      .crop-div {\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        @media (max-width: 768px) {\r\n          flex-direction: column;\r\n        }\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n        margin-right: auto;\r\n        div {\r\n          .croppedImage {\r\n            border-radius: 12px;\r\n            @media (max-width: 768px) {\r\n              margin-top: 1rem;\r\n            }\r\n          }\r\n        }\r\n        .cropper {\r\n          width: 250px;\r\n          height: 250px;\r\n        }\r\n      }\r\n      .check-space {\r\n        .croppedImage {\r\n          width: auto;\r\n          height: auto;\r\n          border-radius: 5px;\r\n        }\r\n        .button-space {\r\n          margin-top: 1rem;\r\n          width: 100%;\r\n          display: flex;\r\n          justify-content: center;\r\n        }\r\n      }\r\n      .crop-button {\r\n        display: flex;\r\n        justify-content: center;\r\n        width: 100%;\r\n        @media (max-width: 768px) {\r\n          margin-top: 1rem;\r\n        }\r\n      }\r\n      .svg {\r\n        margin: 0px auto;\r\n        height: 3rem;\r\n        width: 3rem;\r\n        color: #ccc;\r\n      }\r\n      .text-div {\r\n        display: flex;\r\n        font-size: 1rem;\r\n        line-height: 1rem;\r\n        color: #ccc;\r\n        justify-content: center;\r\n        .labeled {\r\n          position: relative;\r\n          cursor: pointer;\r\n          border-radius: 4px;\r\n          color: #CF1C84;\r\n          &:hover {\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n      }\r\n      .text-below {\r\n        font-size: 1rem;\r\n        line-height: 1rem;\r\n        color: #657795;\r\n        margin-right: 0.3rem;\r\n      }\r\n    }\r\n  }\r\n  .image-error {\r\n    font-size: 1rem;\r\n    line-height: 1rem;\r\n    color: red;\r\n    margin-top: 0.5rem;\r\n  }\r\n  .image {\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    .item {\r\n      width: 4rem;\r\n      height: auto;\r\n      border-radius: 4px;\r\n    }\r\n    .image-border {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: flex-end;\r\n      margin-left: 2rem;\r\n      .text {\r\n        font-size: 1rem;\r\n        line-height: 1rem;\r\n        color: #ccc;\r\n        margin-top: 1rem;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default UploadLogo;"],"sourceRoot":""}